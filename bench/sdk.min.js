var e=Object.create;var t=Object.defineProperty;var r=Object.getOwnPropertyDescriptor;var n=Object.getOwnPropertyNames;var i=Object.getPrototypeOf;var s=Object.prototype.hasOwnProperty;var o=(e,t)=>function r(){return t||(0,e[n(e)[0]])((t={exports:{}}).exports,t),t.exports};var a=(e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:true})};var l=(e,i,o,a)=>{if(i&&typeof i==="object"||typeof i==="function"){for(let l of n(i))if(!s.call(e,l)&&l!==o)t(e,l,{get:()=>i[l],enumerable:!(a=r(i,l))||a.enumerable})}return e};var d=(r,n,s)=>(s=r!=null?e(i(r)):{},l(n||!r||!r.__esModule?t(s,"default",{value:r,enumerable:true}):s,r));var c=o({"gen/front_end/core/sdk/FrameAssociated.js"(){"use strict"}});var u={};a(u,{SDKModel:()=>p});import*as h from"./../common/common.js";var g=new Map;var p=class extends h.ObjectWrapper.ObjectWrapper{#e;constructor(e){super();this.#e=e}target(){return this.#e}async preSuspendModel(e){}async suspendModel(e){}async resumeModel(){}async postResumeModel(){}dispose(){}static register(e,t){if(t.early&&!t.autostart){throw new Error(`Error registering model ${e.name}: early models must be autostarted.`)}g.set(e,t)}static get registeredModels(){return g}};var m={};a(m,{CSSMetadata:()=>ne,CSSWideKeyword:()=>ie,CSSWideKeywords:()=>se,CustomVariableRegex:()=>ce,GridAreaRowRegex:()=>he,PositionTryOrderKeyword:()=>oe,PositionTryOrderKeywords:()=>ae,URLRegex:()=>ue,VariableNameRegex:()=>le,VariableRegex:()=>de,cssMetadata:()=>pe});var f;(e=>{let t;(e=>{e["Boolean"]="boolean";e["Tristate"]="tristate";e["BooleanOrUndefined"]="booleanOrUndefined";e["Idref"]="idref";e["IdrefList"]="idrefList";e["Integer"]="integer";e["Node"]="node";e["NodeList"]="nodeList";e["Number"]="number";e["String"]="string";e["ComputedString"]="computedString";e["Token"]="token";e["TokenList"]="tokenList";e["DomRelation"]="domRelation";e["Role"]="role";e["InternalRole"]="internalRole";e["ValueUndefined"]="valueUndefined"})(t=e.AXValueType||(e.AXValueType={}));let r;(e=>{e["Attribute"]="attribute";e["Implicit"]="implicit";e["Style"]="style";e["Contents"]="contents";e["Placeholder"]="placeholder";e["RelatedElement"]="relatedElement"})(r=e.AXValueSourceType||(e.AXValueSourceType={}));let n;(e=>{e["Description"]="description";e["Figcaption"]="figcaption";e["Label"]="label";e["Labelfor"]="labelfor";e["Labelwrapped"]="labelwrapped";e["Legend"]="legend";e["Rubyannotation"]="rubyannotation";e["Tablecaption"]="tablecaption";e["Title"]="title";e["Other"]="other"})(n=e.AXValueNativeSourceType||(e.AXValueNativeSourceType={}));let i;(e=>{e["Actions"]="actions";e["Busy"]="busy";e["Disabled"]="disabled";e["Editable"]="editable";e["Focusable"]="focusable";e["Focused"]="focused";e["Hidden"]="hidden";e["HiddenRoot"]="hiddenRoot";e["Invalid"]="invalid";e["Keyshortcuts"]="keyshortcuts";e["Settable"]="settable";e["Roledescription"]="roledescription";e["Live"]="live";e["Atomic"]="atomic";e["Relevant"]="relevant";e["Root"]="root";e["Autocomplete"]="autocomplete";e["HasPopup"]="hasPopup";e["Level"]="level";e["Multiselectable"]="multiselectable";e["Orientation"]="orientation";e["Multiline"]="multiline";e["Readonly"]="readonly";e["Required"]="required";e["Valuemin"]="valuemin";e["Valuemax"]="valuemax";e["Valuetext"]="valuetext";e["Checked"]="checked";e["Expanded"]="expanded";e["Modal"]="modal";e["Pressed"]="pressed";e["Selected"]="selected";e["Activedescendant"]="activedescendant";e["Controls"]="controls";e["Describedby"]="describedby";e["Details"]="details";e["Errormessage"]="errormessage";e["Flowto"]="flowto";e["Labelledby"]="labelledby";e["Owns"]="owns";e["Url"]="url"})(i=e.AXPropertyName||(e.AXPropertyName={}))})(f||(f={}));var y;(e=>{let t;(e=>{e["CSSTransition"]="CSSTransition";e["CSSAnimation"]="CSSAnimation";e["WebAnimation"]="WebAnimation"})(t=e.AnimationType||(e.AnimationType={}))})(y||(y={}));var S;(e=>{let t;(e=>{e["ExcludeSameSiteUnspecifiedTreatedAsLax"]="ExcludeSameSiteUnspecifiedTreatedAsLax";e["ExcludeSameSiteNoneInsecure"]="ExcludeSameSiteNoneInsecure";e["ExcludeSameSiteLax"]="ExcludeSameSiteLax";e["ExcludeSameSiteStrict"]="ExcludeSameSiteStrict";e["ExcludeInvalidSameParty"]="ExcludeInvalidSameParty";e["ExcludeSamePartyCrossPartyContext"]="ExcludeSamePartyCrossPartyContext";e["ExcludeDomainNonASCII"]="ExcludeDomainNonASCII";e["ExcludeThirdPartyCookieBlockedInFirstPartySet"]="ExcludeThirdPartyCookieBlockedInFirstPartySet";e["ExcludeThirdPartyPhaseout"]="ExcludeThirdPartyPhaseout";e["ExcludePortMismatch"]="ExcludePortMismatch";e["ExcludeSchemeMismatch"]="ExcludeSchemeMismatch"})(t=e.CookieExclusionReason||(e.CookieExclusionReason={}));let r;(e=>{e["WarnSameSiteUnspecifiedCrossSiteContext"]="WarnSameSiteUnspecifiedCrossSiteContext";e["WarnSameSiteNoneInsecure"]="WarnSameSiteNoneInsecure";e["WarnSameSiteUnspecifiedLaxAllowUnsafe"]="WarnSameSiteUnspecifiedLaxAllowUnsafe";e["WarnSameSiteStrictLaxDowngradeStrict"]="WarnSameSiteStrictLaxDowngradeStrict";e["WarnSameSiteStrictCrossDowngradeStrict"]="WarnSameSiteStrictCrossDowngradeStrict";e["WarnSameSiteStrictCrossDowngradeLax"]="WarnSameSiteStrictCrossDowngradeLax";e["WarnSameSiteLaxCrossDowngradeStrict"]="WarnSameSiteLaxCrossDowngradeStrict";e["WarnSameSiteLaxCrossDowngradeLax"]="WarnSameSiteLaxCrossDowngradeLax";e["WarnAttributeValueExceedsMaxSize"]="WarnAttributeValueExceedsMaxSize";e["WarnDomainNonASCII"]="WarnDomainNonASCII";e["WarnThirdPartyPhaseout"]="WarnThirdPartyPhaseout";e["WarnCrossSiteRedirectDowngradeChangesInclusion"]="WarnCrossSiteRedirectDowngradeChangesInclusion";e["WarnDeprecationTrialMetadata"]="WarnDeprecationTrialMetadata";e["WarnThirdPartyCookieHeuristic"]="WarnThirdPartyCookieHeuristic"})(r=e.CookieWarningReason||(e.CookieWarningReason={}));let n;(e=>{e["SetCookie"]="SetCookie";e["ReadCookie"]="ReadCookie"})(n=e.CookieOperation||(e.CookieOperation={}));let i;(e=>{e["MixedContentBlocked"]="MixedContentBlocked";e["MixedContentAutomaticallyUpgraded"]="MixedContentAutomaticallyUpgraded";e["MixedContentWarning"]="MixedContentWarning"})(i=e.MixedContentResolutionStatus||(e.MixedContentResolutionStatus={}));let s;(e=>{e["AttributionSrc"]="AttributionSrc";e["Audio"]="Audio";e["Beacon"]="Beacon";e["CSPReport"]="CSPReport";e["Download"]="Download";e["EventSource"]="EventSource";e["Favicon"]="Favicon";e["Font"]="Font";e["Form"]="Form";e["Frame"]="Frame";e["Image"]="Image";e["Import"]="Import";e["JSON"]="JSON";e["Manifest"]="Manifest";e["Ping"]="Ping";e["PluginData"]="PluginData";e["PluginResource"]="PluginResource";e["Prefetch"]="Prefetch";e["Resource"]="Resource";e["Script"]="Script";e["ServiceWorker"]="ServiceWorker";e["SharedWorker"]="SharedWorker";e["SpeculationRules"]="SpeculationRules";e["Stylesheet"]="Stylesheet";e["Track"]="Track";e["Video"]="Video";e["Worker"]="Worker";e["XMLHttpRequest"]="XMLHttpRequest";e["XSLT"]="XSLT"})(s=e.MixedContentResourceType||(e.MixedContentResourceType={}));let o;(e=>{e["CoepFrameResourceNeedsCoepHeader"]="CoepFrameResourceNeedsCoepHeader";e["CoopSandboxedIFrameCannotNavigateToCoopPage"]="CoopSandboxedIFrameCannotNavigateToCoopPage";e["CorpNotSameOrigin"]="CorpNotSameOrigin";e["CorpNotSameOriginAfterDefaultedToSameOriginByCoep"]="CorpNotSameOriginAfterDefaultedToSameOriginByCoep";e["CorpNotSameOriginAfterDefaultedToSameOriginByDip"]="CorpNotSameOriginAfterDefaultedToSameOriginByDip";e["CorpNotSameOriginAfterDefaultedToSameOriginByCoepAndDip"]="CorpNotSameOriginAfterDefaultedToSameOriginByCoepAndDip";e["CorpNotSameSite"]="CorpNotSameSite"})(o=e.BlockedByResponseReason||(e.BlockedByResponseReason={}));let a;(e=>{e["HeavyAdBlocked"]="HeavyAdBlocked";e["HeavyAdWarning"]="HeavyAdWarning"})(a=e.HeavyAdResolutionStatus||(e.HeavyAdResolutionStatus={}));let l;(e=>{e["NetworkTotalLimit"]="NetworkTotalLimit";e["CpuTotalLimit"]="CpuTotalLimit";e["CpuPeakLimit"]="CpuPeakLimit"})(l=e.HeavyAdReason||(e.HeavyAdReason={}));let d;(e=>{e["KInlineViolation"]="kInlineViolation";e["KEvalViolation"]="kEvalViolation";e["KURLViolation"]="kURLViolation";e["KTrustedTypesSinkViolation"]="kTrustedTypesSinkViolation";e["KTrustedTypesPolicyViolation"]="kTrustedTypesPolicyViolation";e["KWasmEvalViolation"]="kWasmEvalViolation"})(d=e.ContentSecurityPolicyViolationType||(e.ContentSecurityPolicyViolationType={}));let c;(e=>{e["TransferIssue"]="TransferIssue";e["CreationIssue"]="CreationIssue"})(c=e.SharedArrayBufferIssueType||(e.SharedArrayBufferIssueType={}));let u;(e=>{e["PermissionPolicyDisabled"]="PermissionPolicyDisabled";e["UntrustworthyReportingOrigin"]="UntrustworthyReportingOrigin";e["InsecureContext"]="InsecureContext";e["InvalidHeader"]="InvalidHeader";e["InvalidRegisterTriggerHeader"]="InvalidRegisterTriggerHeader";e["SourceAndTriggerHeaders"]="SourceAndTriggerHeaders";e["SourceIgnored"]="SourceIgnored";e["TriggerIgnored"]="TriggerIgnored";e["OsSourceIgnored"]="OsSourceIgnored";e["OsTriggerIgnored"]="OsTriggerIgnored";e["InvalidRegisterOsSourceHeader"]="InvalidRegisterOsSourceHeader";e["InvalidRegisterOsTriggerHeader"]="InvalidRegisterOsTriggerHeader";e["WebAndOsHeaders"]="WebAndOsHeaders";e["NoWebOrOsSupport"]="NoWebOrOsSupport";e["NavigationRegistrationWithoutTransientUserActivation"]="NavigationRegistrationWithoutTransientUserActivation";e["InvalidInfoHeader"]="InvalidInfoHeader";e["NoRegisterSourceHeader"]="NoRegisterSourceHeader";e["NoRegisterTriggerHeader"]="NoRegisterTriggerHeader";e["NoRegisterOsSourceHeader"]="NoRegisterOsSourceHeader";e["NoRegisterOsTriggerHeader"]="NoRegisterOsTriggerHeader";e["NavigationRegistrationUniqueScopeAlreadySet"]="NavigationRegistrationUniqueScopeAlreadySet"})(u=e.AttributionReportingIssueType||(e.AttributionReportingIssueType={}));let h;(e=>{e["UseErrorCrossOriginNoCorsRequest"]="UseErrorCrossOriginNoCorsRequest";e["UseErrorDictionaryLoadFailure"]="UseErrorDictionaryLoadFailure";e["UseErrorMatchingDictionaryNotUsed"]="UseErrorMatchingDictionaryNotUsed";e["UseErrorUnexpectedContentDictionaryHeader"]="UseErrorUnexpectedContentDictionaryHeader";e["WriteErrorCossOriginNoCorsRequest"]="WriteErrorCossOriginNoCorsRequest";e["WriteErrorDisallowedBySettings"]="WriteErrorDisallowedBySettings";e["WriteErrorExpiredResponse"]="WriteErrorExpiredResponse";e["WriteErrorFeatureDisabled"]="WriteErrorFeatureDisabled";e["WriteErrorInsufficientResources"]="WriteErrorInsufficientResources";e["WriteErrorInvalidMatchField"]="WriteErrorInvalidMatchField";e["WriteErrorInvalidStructuredHeader"]="WriteErrorInvalidStructuredHeader";e["WriteErrorNavigationRequest"]="WriteErrorNavigationRequest";e["WriteErrorNoMatchField"]="WriteErrorNoMatchField";e["WriteErrorNonListMatchDestField"]="WriteErrorNonListMatchDestField";e["WriteErrorNonSecureContext"]="WriteErrorNonSecureContext";e["WriteErrorNonStringIdField"]="WriteErrorNonStringIdField";e["WriteErrorNonStringInMatchDestList"]="WriteErrorNonStringInMatchDestList";e["WriteErrorNonStringMatchField"]="WriteErrorNonStringMatchField";e["WriteErrorNonTokenTypeField"]="WriteErrorNonTokenTypeField";e["WriteErrorRequestAborted"]="WriteErrorRequestAborted";e["WriteErrorShuttingDown"]="WriteErrorShuttingDown";e["WriteErrorTooLongIdField"]="WriteErrorTooLongIdField";e["WriteErrorUnsupportedType"]="WriteErrorUnsupportedType"})(h=e.SharedDictionaryError||(e.SharedDictionaryError={}));let g;(e=>{e["FormLabelForNameError"]="FormLabelForNameError";e["FormDuplicateIdForInputError"]="FormDuplicateIdForInputError";e["FormInputWithNoLabelError"]="FormInputWithNoLabelError";e["FormAutocompleteAttributeEmptyError"]="FormAutocompleteAttributeEmptyError";e["FormEmptyIdAndNameAttributesForInputError"]="FormEmptyIdAndNameAttributesForInputError";e["FormAriaLabelledByToNonExistingId"]="FormAriaLabelledByToNonExistingId";e["FormInputAssignedAutocompleteValueToIdOrNameAttributeError"]="FormInputAssignedAutocompleteValueToIdOrNameAttributeError";e["FormLabelHasNeitherForNorNestedInput"]="FormLabelHasNeitherForNorNestedInput";e["FormLabelForMatchesNonExistingIdError"]="FormLabelForMatchesNonExistingIdError";e["FormInputHasWrongButWellIntendedAutocompleteValueError"]="FormInputHasWrongButWellIntendedAutocompleteValueError";e["ResponseWasBlockedByORB"]="ResponseWasBlockedByORB"})(g=e.GenericIssueErrorType||(e.GenericIssueErrorType={}));let p;(e=>{e["MetaTagAllowListInvalidOrigin"]="MetaTagAllowListInvalidOrigin";e["MetaTagModifiedHTML"]="MetaTagModifiedHTML"})(p=e.ClientHintIssueReason||(e.ClientHintIssueReason={}));let m;(e=>{e["ShouldEmbargo"]="ShouldEmbargo";e["TooManyRequests"]="TooManyRequests";e["WellKnownHttpNotFound"]="WellKnownHttpNotFound";e["WellKnownNoResponse"]="WellKnownNoResponse";e["WellKnownInvalidResponse"]="WellKnownInvalidResponse";e["WellKnownListEmpty"]="WellKnownListEmpty";e["WellKnownInvalidContentType"]="WellKnownInvalidContentType";e["ConfigNotInWellKnown"]="ConfigNotInWellKnown";e["WellKnownTooBig"]="WellKnownTooBig";e["ConfigHttpNotFound"]="ConfigHttpNotFound";e["ConfigNoResponse"]="ConfigNoResponse";e["ConfigInvalidResponse"]="ConfigInvalidResponse";e["ConfigInvalidContentType"]="ConfigInvalidContentType";e["ClientMetadataHttpNotFound"]="ClientMetadataHttpNotFound";e["ClientMetadataNoResponse"]="ClientMetadataNoResponse";e["ClientMetadataInvalidResponse"]="ClientMetadataInvalidResponse";e["ClientMetadataInvalidContentType"]="ClientMetadataInvalidContentType";e["IdpNotPotentiallyTrustworthy"]="IdpNotPotentiallyTrustworthy";e["DisabledInSettings"]="DisabledInSettings";e["DisabledInFlags"]="DisabledInFlags";e["ErrorFetchingSignin"]="ErrorFetchingSignin";e["InvalidSigninResponse"]="InvalidSigninResponse";e["AccountsHttpNotFound"]="AccountsHttpNotFound";e["AccountsNoResponse"]="AccountsNoResponse";e["AccountsInvalidResponse"]="AccountsInvalidResponse";e["AccountsListEmpty"]="AccountsListEmpty";e["AccountsInvalidContentType"]="AccountsInvalidContentType";e["IdTokenHttpNotFound"]="IdTokenHttpNotFound";e["IdTokenNoResponse"]="IdTokenNoResponse";e["IdTokenInvalidResponse"]="IdTokenInvalidResponse";e["IdTokenIdpErrorResponse"]="IdTokenIdpErrorResponse";e["IdTokenCrossSiteIdpErrorResponse"]="IdTokenCrossSiteIdpErrorResponse";e["IdTokenInvalidRequest"]="IdTokenInvalidRequest";e["IdTokenInvalidContentType"]="IdTokenInvalidContentType";e["ErrorIdToken"]="ErrorIdToken";e["Canceled"]="Canceled";e["RpPageNotVisible"]="RpPageNotVisible";e["SilentMediationFailure"]="SilentMediationFailure";e["ThirdPartyCookiesBlocked"]="ThirdPartyCookiesBlocked";e["NotSignedInWithIdp"]="NotSignedInWithIdp";e["MissingTransientUserActivation"]="MissingTransientUserActivation";e["ReplacedByActiveMode"]="ReplacedByActiveMode";e["InvalidFieldsSpecified"]="InvalidFieldsSpecified";e["RelyingPartyOriginIsOpaque"]="RelyingPartyOriginIsOpaque";e["TypeNotMatching"]="TypeNotMatching"})(m=e.FederatedAuthRequestIssueReason||(e.FederatedAuthRequestIssueReason={}));let f;(e=>{e["NotSameOrigin"]="NotSameOrigin";e["NotIframe"]="NotIframe";e["NotPotentiallyTrustworthy"]="NotPotentiallyTrustworthy";e["NoAPIPermission"]="NoApiPermission";e["NotSignedInWithIdp"]="NotSignedInWithIdp";e["NoAccountSharingPermission"]="NoAccountSharingPermission";e["InvalidConfigOrWellKnown"]="InvalidConfigOrWellKnown";e["InvalidAccountsResponse"]="InvalidAccountsResponse";e["NoReturningUserFromFetchedAccounts"]="NoReturningUserFromFetchedAccounts"})(f=e.FederatedAuthUserInfoRequestIssueReason||(e.FederatedAuthUserInfoRequestIssueReason={}));let y;(e=>{e["LateImportRule"]="LateImportRule";e["RequestFailed"]="RequestFailed"})(y=e.StyleSheetLoadingIssueReason||(e.StyleSheetLoadingIssueReason={}));let S;(e=>{e["InvalidSyntax"]="InvalidSyntax";e["InvalidInitialValue"]="InvalidInitialValue";e["InvalidInherits"]="InvalidInherits";e["InvalidName"]="InvalidName"})(S=e.PropertyRuleIssueReason||(e.PropertyRuleIssueReason={}));let v;(e=>{e["CookieIssue"]="CookieIssue";e["MixedContentIssue"]="MixedContentIssue";e["BlockedByResponseIssue"]="BlockedByResponseIssue";e["HeavyAdIssue"]="HeavyAdIssue";e["ContentSecurityPolicyIssue"]="ContentSecurityPolicyIssue";e["SharedArrayBufferIssue"]="SharedArrayBufferIssue";e["LowTextContrastIssue"]="LowTextContrastIssue";e["CorsIssue"]="CorsIssue";e["AttributionReportingIssue"]="AttributionReportingIssue";e["QuirksModeIssue"]="QuirksModeIssue";e["NavigatorUserAgentIssue"]="NavigatorUserAgentIssue";e["GenericIssue"]="GenericIssue";e["DeprecationIssue"]="DeprecationIssue";e["ClientHintIssue"]="ClientHintIssue";e["FederatedAuthRequestIssue"]="FederatedAuthRequestIssue";e["BounceTrackingIssue"]="BounceTrackingIssue";e["CookieDeprecationMetadataIssue"]="CookieDeprecationMetadataIssue";e["StylesheetLoadingIssue"]="StylesheetLoadingIssue";e["FederatedAuthUserInfoRequestIssue"]="FederatedAuthUserInfoRequestIssue";e["PropertyRuleIssue"]="PropertyRuleIssue";e["SharedDictionaryIssue"]="SharedDictionaryIssue"})(v=e.InspectorIssueCode||(e.InspectorIssueCode={}));let b;(e=>{e["Webp"]="webp";e["Jpeg"]="jpeg";e["Png"]="png"})(b=e.GetEncodedResponseRequestEncoding||(e.GetEncodedResponseRequestEncoding={}))})(S||(S={}));var v;(e=>{let t;(e=>{e["Session"]="session";e["Local"]="local";e["Sync"]="sync";e["Managed"]="managed"})(t=e.StorageArea||(e.StorageArea={}))})(v||(v={}));var b;(e=>{let t;(e=>{e["AutocompleteAttribute"]="autocompleteAttribute";e["AutofillInferred"]="autofillInferred"})(t=e.FillingStrategy||(e.FillingStrategy={}))})(b||(b={}));var I;(e=>{let t;(e=>{e["BackgroundFetch"]="backgroundFetch";e["BackgroundSync"]="backgroundSync";e["PushMessaging"]="pushMessaging";e["Notifications"]="notifications";e["PaymentHandler"]="paymentHandler";e["PeriodicBackgroundSync"]="periodicBackgroundSync"})(t=e.ServiceName||(e.ServiceName={}))})(I||(I={}));var k;(e=>{let t;(e=>{e["Normal"]="normal";e["Minimized"]="minimized";e["Maximized"]="maximized";e["Fullscreen"]="fullscreen"})(t=e.WindowState||(e.WindowState={}));let r;(e=>{e["AccessibilityEvents"]="accessibilityEvents";e["AudioCapture"]="audioCapture";e["BackgroundSync"]="backgroundSync";e["BackgroundFetch"]="backgroundFetch";e["CapturedSurfaceControl"]="capturedSurfaceControl";e["ClipboardReadWrite"]="clipboardReadWrite";e["ClipboardSanitizedWrite"]="clipboardSanitizedWrite";e["DisplayCapture"]="displayCapture";e["DurableStorage"]="durableStorage";e["Flash"]="flash";e["Geolocation"]="geolocation";e["IdleDetection"]="idleDetection";e["LocalFonts"]="localFonts";e["Midi"]="midi";e["MidiSysex"]="midiSysex";e["Nfc"]="nfc";e["Notifications"]="notifications";e["PaymentHandler"]="paymentHandler";e["PeriodicBackgroundSync"]="periodicBackgroundSync";e["ProtectedMediaIdentifier"]="protectedMediaIdentifier";e["Sensors"]="sensors";e["StorageAccess"]="storageAccess";e["SpeakerSelection"]="speakerSelection";e["TopLevelStorageAccess"]="topLevelStorageAccess";e["VideoCapture"]="videoCapture";e["VideoCapturePanTiltZoom"]="videoCapturePanTiltZoom";e["WakeLockScreen"]="wakeLockScreen";e["WakeLockSystem"]="wakeLockSystem";e["WebAppInstallation"]="webAppInstallation";e["WindowManagement"]="windowManagement"})(r=e.PermissionType||(e.PermissionType={}));let n;(e=>{e["Granted"]="granted";e["Denied"]="denied";e["Prompt"]="prompt"})(n=e.PermissionSetting||(e.PermissionSetting={}));let i;(e=>{e["OpenTabSearch"]="openTabSearch";e["CloseTabSearch"]="closeTabSearch"})(i=e.BrowserCommandId||(e.BrowserCommandId={}));let s;(e=>{e["Deny"]="deny";e["Allow"]="allow";e["AllowAndName"]="allowAndName";e["Default"]="default"})(s=e.SetDownloadBehaviorRequestBehavior||(e.SetDownloadBehaviorRequestBehavior={}));let o;(e=>{e["InProgress"]="inProgress";e["Completed"]="completed";e["Canceled"]="canceled"})(o=e.DownloadProgressEventState||(e.DownloadProgressEventState={}))})(k||(k={}));var w;(e=>{let t;(e=>{e["Injected"]="injected";e["UserAgent"]="user-agent";e["Inspector"]="inspector";e["Regular"]="regular"})(t=e.StyleSheetOrigin||(e.StyleSheetOrigin={}));let r;(e=>{e["MediaRule"]="MediaRule";e["SupportsRule"]="SupportsRule";e["ContainerRule"]="ContainerRule";e["LayerRule"]="LayerRule";e["ScopeRule"]="ScopeRule";e["StyleRule"]="StyleRule";e["StartingStyleRule"]="StartingStyleRule"})(r=e.CSSRuleType||(e.CSSRuleType={}));let n;(e=>{e["MediaRule"]="mediaRule";e["ImportRule"]="importRule";e["LinkedSheet"]="linkedSheet";e["InlineSheet"]="inlineSheet"})(n=e.CSSMediaSource||(e.CSSMediaSource={}))})(w||(w={}));var C;(e=>{let t;(e=>{e["Basic"]="basic";e["Cors"]="cors";e["Default"]="default";e["Error"]="error";e["OpaqueResponse"]="opaqueResponse";e["OpaqueRedirect"]="opaqueRedirect"})(t=e.CachedResponseType||(e.CachedResponseType={}))})(C||(C={}));var R;(e=>{let t;(e=>{e["FirstLine"]="first-line";e["FirstLetter"]="first-letter";e["Check"]="check";e["Before"]="before";e["After"]="after";e["SelectArrow"]="select-arrow";e["Marker"]="marker";e["Backdrop"]="backdrop";e["Column"]="column";e["Selection"]="selection";e["SearchText"]="search-text";e["TargetText"]="target-text";e["SpellingError"]="spelling-error";e["GrammarError"]="grammar-error";e["Highlight"]="highlight";e["FirstLineInherited"]="first-line-inherited";e["ScrollMarker"]="scroll-marker";e["ScrollMarkerGroup"]="scroll-marker-group";e["ScrollNextButton"]="scroll-next-button";e["ScrollPrevButton"]="scroll-prev-button";e["Scrollbar"]="scrollbar";e["ScrollbarThumb"]="scrollbar-thumb";e["ScrollbarButton"]="scrollbar-button";e["ScrollbarTrack"]="scrollbar-track";e["ScrollbarTrackPiece"]="scrollbar-track-piece";e["ScrollbarCorner"]="scrollbar-corner";e["Resizer"]="resizer";e["InputListButton"]="input-list-button";e["ViewTransition"]="view-transition";e["ViewTransitionGroup"]="view-transition-group";e["ViewTransitionImagePair"]="view-transition-image-pair";e["ViewTransitionOld"]="view-transition-old";e["ViewTransitionNew"]="view-transition-new";e["Placeholder"]="placeholder";e["FileSelectorButton"]="file-selector-button";e["DetailsContent"]="details-content";e["Picker"]="picker"})(t=e.PseudoType||(e.PseudoType={}));let r;(e=>{e["UserAgent"]="user-agent";e["Open"]="open";e["Closed"]="closed"})(r=e.ShadowRootType||(e.ShadowRootType={}));let n;(e=>{e["QuirksMode"]="QuirksMode";e["LimitedQuirksMode"]="LimitedQuirksMode";e["NoQuirksMode"]="NoQuirksMode"})(n=e.CompatibilityMode||(e.CompatibilityMode={}));let i;(e=>{e["Horizontal"]="Horizontal";e["Vertical"]="Vertical";e["Both"]="Both"})(i=e.PhysicalAxes||(e.PhysicalAxes={}));let s;(e=>{e["Inline"]="Inline";e["Block"]="Block";e["Both"]="Both"})(s=e.LogicalAxes||(e.LogicalAxes={}));let o;(e=>{e["Horizontal"]="horizontal";e["Vertical"]="vertical"})(o=e.ScrollOrientation||(e.ScrollOrientation={}));let a;(e=>{e["None"]="none";e["All"]="all"})(a=e.EnableRequestIncludeWhitespace||(e.EnableRequestIncludeWhitespace={}));let l;(e=>{e["PopoverTarget"]="PopoverTarget"})(l=e.GetElementByRelationRequestRelation||(e.GetElementByRelationRequestRelation={}))})(R||(R={}));var T;(e=>{let t;(e=>{e["SubtreeModified"]="subtree-modified";e["AttributeModified"]="attribute-modified";e["NodeRemoved"]="node-removed"})(t=e.DOMBreakpointType||(e.DOMBreakpointType={}));let r;(e=>{e["TrustedtypeSinkViolation"]="trustedtype-sink-violation";e["TrustedtypePolicyViolation"]="trustedtype-policy-violation"})(r=e.CSPViolationType||(e.CSPViolationType={}))})(T||(T={}));var E;(e=>{let t;(e=>{e["PortraitPrimary"]="portraitPrimary";e["PortraitSecondary"]="portraitSecondary";e["LandscapePrimary"]="landscapePrimary";e["LandscapeSecondary"]="landscapeSecondary"})(t=e.ScreenOrientationType||(e.ScreenOrientationType={}));let r;(e=>{e["Vertical"]="vertical";e["Horizontal"]="horizontal"})(r=e.DisplayFeatureOrientation||(e.DisplayFeatureOrientation={}));let n;(e=>{e["Continuous"]="continuous";e["Folded"]="folded"})(n=e.DevicePostureType||(e.DevicePostureType={}));let i;(e=>{e["Advance"]="advance";e["Pause"]="pause";e["PauseIfNetworkFetchesPending"]="pauseIfNetworkFetchesPending"})(i=e.VirtualTimePolicy||(e.VirtualTimePolicy={}));let s;(e=>{e["AbsoluteOrientation"]="absolute-orientation";e["Accelerometer"]="accelerometer";e["AmbientLight"]="ambient-light";e["Gravity"]="gravity";e["Gyroscope"]="gyroscope";e["LinearAcceleration"]="linear-acceleration";e["Magnetometer"]="magnetometer";e["RelativeOrientation"]="relative-orientation"})(s=e.SensorType||(e.SensorType={}));let o;(e=>{e["Cpu"]="cpu"})(o=e.PressureSource||(e.PressureSource={}));let a;(e=>{e["Nominal"]="nominal";e["Fair"]="fair";e["Serious"]="serious";e["Critical"]="critical"})(a=e.PressureState||(e.PressureState={}));let l;(e=>{e["Avif"]="avif";e["Webp"]="webp"})(l=e.DisabledImageType||(e.DisabledImageType={}));let d;(e=>{e["Mobile"]="mobile";e["Desktop"]="desktop"})(d=e.SetEmitTouchEventsForMouseRequestConfiguration||(e.SetEmitTouchEventsForMouseRequestConfiguration={}));let c;(e=>{e["None"]="none";e["BlurredVision"]="blurredVision";e["ReducedContrast"]="reducedContrast";e["Achromatopsia"]="achromatopsia";e["Deuteranopia"]="deuteranopia";e["Protanopia"]="protanopia";e["Tritanopia"]="tritanopia"})(c=e.SetEmulatedVisionDeficiencyRequestType||(e.SetEmulatedVisionDeficiencyRequestType={}))})(E||(E={}));var P;(e=>{let t;(e=>{e["Jpeg"]="jpeg";e["Png"]="png";e["Webp"]="webp"})(t=e.ScreenshotParamsFormat||(e.ScreenshotParamsFormat={}))})(P||(P={}));var x;(e=>{let t;(e=>{e["Number"]="number";e["String"]="string";e["Date"]="date";e["Array"]="array"})(t=e.KeyType||(e.KeyType={}));let r;(e=>{e["Null"]="null";e["String"]="string";e["Array"]="array"})(r=e.KeyPathType||(e.KeyPathType={}))})(x||(x={}));var M;(e=>{let t;(e=>{e["Default"]="default";e["Touch"]="touch";e["Mouse"]="mouse"})(t=e.GestureSourceType||(e.GestureSourceType={}));let r;(e=>{e["None"]="none";e["Left"]="left";e["Middle"]="middle";e["Right"]="right";e["Back"]="back";e["Forward"]="forward"})(r=e.MouseButton||(e.MouseButton={}));let n;(e=>{e["DragEnter"]="dragEnter";e["DragOver"]="dragOver";e["Drop"]="drop";e["DragCancel"]="dragCancel"})(n=e.DispatchDragEventRequestType||(e.DispatchDragEventRequestType={}));let i;(e=>{e["KeyDown"]="keyDown";e["KeyUp"]="keyUp";e["RawKeyDown"]="rawKeyDown";e["Char"]="char"})(i=e.DispatchKeyEventRequestType||(e.DispatchKeyEventRequestType={}));let s;(e=>{e["MousePressed"]="mousePressed";e["MouseReleased"]="mouseReleased";e["MouseMoved"]="mouseMoved";e["MouseWheel"]="mouseWheel"})(s=e.DispatchMouseEventRequestType||(e.DispatchMouseEventRequestType={}));let o;(e=>{e["Mouse"]="mouse";e["Pen"]="pen"})(o=e.DispatchMouseEventRequestPointerType||(e.DispatchMouseEventRequestPointerType={}));let a;(e=>{e["TouchStart"]="touchStart";e["TouchEnd"]="touchEnd";e["TouchMove"]="touchMove";e["TouchCancel"]="touchCancel"})(a=e.DispatchTouchEventRequestType||(e.DispatchTouchEventRequestType={}));let l;(e=>{e["MousePressed"]="mousePressed";e["MouseReleased"]="mouseReleased";e["MouseMoved"]="mouseMoved";e["MouseWheel"]="mouseWheel"})(l=e.EmulateTouchFromMouseEventRequestType||(e.EmulateTouchFromMouseEventRequestType={}))})(M||(M={}));var A;(e=>{let t;(e=>{e["RepaintsOnScroll"]="RepaintsOnScroll";e["TouchEventHandler"]="TouchEventHandler";e["WheelEventHandler"]="WheelEventHandler"})(t=e.ScrollRectType||(e.ScrollRectType={}))})(A||(A={}));var L;(e=>{let t;(e=>{e["XML"]="xml";e["Javascript"]="javascript";e["Network"]="network";e["Storage"]="storage";e["Appcache"]="appcache";e["Rendering"]="rendering";e["Security"]="security";e["Deprecation"]="deprecation";e["Worker"]="worker";e["Violation"]="violation";e["Intervention"]="intervention";e["Recommendation"]="recommendation";e["Other"]="other"})(t=e.LogEntrySource||(e.LogEntrySource={}));let r;(e=>{e["Verbose"]="verbose";e["Info"]="info";e["Warning"]="warning";e["Error"]="error"})(r=e.LogEntryLevel||(e.LogEntryLevel={}));let n;(e=>{e["Cors"]="cors"})(n=e.LogEntryCategory||(e.LogEntryCategory={}));let i;(e=>{e["LongTask"]="longTask";e["LongLayout"]="longLayout";e["BlockedEvent"]="blockedEvent";e["BlockedParser"]="blockedParser";e["DiscouragedAPIUse"]="discouragedAPIUse";e["Handler"]="handler";e["RecurringHandler"]="recurringHandler"})(i=e.ViolationSettingName||(e.ViolationSettingName={}))})(L||(L={}));var N;(e=>{let t;(e=>{e["Moderate"]="moderate";e["Critical"]="critical"})(t=e.PressureLevel||(e.PressureLevel={}))})(N||(N={}));var O;(e=>{let t;(e=>{e["Document"]="Document";e["Stylesheet"]="Stylesheet";e["Image"]="Image";e["Media"]="Media";e["Font"]="Font";e["Script"]="Script";e["TextTrack"]="TextTrack";e["XHR"]="XHR";e["Fetch"]="Fetch";e["Prefetch"]="Prefetch";e["EventSource"]="EventSource";e["WebSocket"]="WebSocket";e["Manifest"]="Manifest";e["SignedExchange"]="SignedExchange";e["Ping"]="Ping";e["CSPViolationReport"]="CSPViolationReport";e["Preflight"]="Preflight";e["Other"]="Other"})(t=e.ResourceType||(e.ResourceType={}));let r;(e=>{e["Failed"]="Failed";e["Aborted"]="Aborted";e["TimedOut"]="TimedOut";e["AccessDenied"]="AccessDenied";e["ConnectionClosed"]="ConnectionClosed";e["ConnectionReset"]="ConnectionReset";e["ConnectionRefused"]="ConnectionRefused";e["ConnectionAborted"]="ConnectionAborted";e["ConnectionFailed"]="ConnectionFailed";e["NameNotResolved"]="NameNotResolved";e["InternetDisconnected"]="InternetDisconnected";e["AddressUnreachable"]="AddressUnreachable";e["BlockedByClient"]="BlockedByClient";e["BlockedByResponse"]="BlockedByResponse"})(r=e.ErrorReason||(e.ErrorReason={}));let n;(e=>{e["None"]="none";e["Cellular2g"]="cellular2g";e["Cellular3g"]="cellular3g";e["Cellular4g"]="cellular4g";e["Bluetooth"]="bluetooth";e["Ethernet"]="ethernet";e["Wifi"]="wifi";e["Wimax"]="wimax";e["Other"]="other"})(n=e.ConnectionType||(e.ConnectionType={}));let i;(e=>{e["Strict"]="Strict";e["Lax"]="Lax";e["None"]="None"})(i=e.CookieSameSite||(e.CookieSameSite={}));let s;(e=>{e["Low"]="Low";e["Medium"]="Medium";e["High"]="High"})(s=e.CookiePriority||(e.CookiePriority={}));let o;(e=>{e["Unset"]="Unset";e["NonSecure"]="NonSecure";e["Secure"]="Secure"})(o=e.CookieSourceScheme||(e.CookieSourceScheme={}));let a;(e=>{e["VeryLow"]="VeryLow";e["Low"]="Low";e["Medium"]="Medium";e["High"]="High";e["VeryHigh"]="VeryHigh"})(a=e.ResourcePriority||(e.ResourcePriority={}));let l;(e=>{e["UnsafeUrl"]="unsafe-url";e["NoReferrerWhenDowngrade"]="no-referrer-when-downgrade";e["NoReferrer"]="no-referrer";e["Origin"]="origin";e["OriginWhenCrossOrigin"]="origin-when-cross-origin";e["SameOrigin"]="same-origin";e["StrictOrigin"]="strict-origin";e["StrictOriginWhenCrossOrigin"]="strict-origin-when-cross-origin"})(l=e.RequestReferrerPolicy||(e.RequestReferrerPolicy={}));let d;(e=>{e["Unknown"]="unknown";e["NotCompliant"]="not-compliant";e["Compliant"]="compliant"})(d=e.CertificateTransparencyCompliance||(e.CertificateTransparencyCompliance={}));let c;(e=>{e["Other"]="other";e["Csp"]="csp";e["MixedContent"]="mixed-content";e["Origin"]="origin";e["Inspector"]="inspector";e["SubresourceFilter"]="subresource-filter";e["ContentType"]="content-type";e["CoepFrameResourceNeedsCoepHeader"]="coep-frame-resource-needs-coep-header";e["CoopSandboxedIframeCannotNavigateToCoopPage"]="coop-sandboxed-iframe-cannot-navigate-to-coop-page";e["CorpNotSameOrigin"]="corp-not-same-origin";e["CorpNotSameOriginAfterDefaultedToSameOriginByCoep"]="corp-not-same-origin-after-defaulted-to-same-origin-by-coep";e["CorpNotSameOriginAfterDefaultedToSameOriginByDip"]="corp-not-same-origin-after-defaulted-to-same-origin-by-dip";e["CorpNotSameOriginAfterDefaultedToSameOriginByCoepAndDip"]="corp-not-same-origin-after-defaulted-to-same-origin-by-coep-and-dip";e["CorpNotSameSite"]="corp-not-same-site"})(c=e.BlockedReason||(e.BlockedReason={}));let u;(e=>{e["DisallowedByMode"]="DisallowedByMode";e["InvalidResponse"]="InvalidResponse";e["WildcardOriginNotAllowed"]="WildcardOriginNotAllowed";e["MissingAllowOriginHeader"]="MissingAllowOriginHeader";e["MultipleAllowOriginValues"]="MultipleAllowOriginValues";e["InvalidAllowOriginValue"]="InvalidAllowOriginValue";e["AllowOriginMismatch"]="AllowOriginMismatch";e["InvalidAllowCredentials"]="InvalidAllowCredentials";e["CorsDisabledScheme"]="CorsDisabledScheme";e["PreflightInvalidStatus"]="PreflightInvalidStatus";e["PreflightDisallowedRedirect"]="PreflightDisallowedRedirect";e["PreflightWildcardOriginNotAllowed"]="PreflightWildcardOriginNotAllowed";e["PreflightMissingAllowOriginHeader"]="PreflightMissingAllowOriginHeader";e["PreflightMultipleAllowOriginValues"]="PreflightMultipleAllowOriginValues";e["PreflightInvalidAllowOriginValue"]="PreflightInvalidAllowOriginValue";e["PreflightAllowOriginMismatch"]="PreflightAllowOriginMismatch";e["PreflightInvalidAllowCredentials"]="PreflightInvalidAllowCredentials";e["PreflightMissingAllowExternal"]="PreflightMissingAllowExternal";e["PreflightInvalidAllowExternal"]="PreflightInvalidAllowExternal";e["PreflightMissingAllowPrivateNetwork"]="PreflightMissingAllowPrivateNetwork";e["PreflightInvalidAllowPrivateNetwork"]="PreflightInvalidAllowPrivateNetwork";e["InvalidAllowMethodsPreflightResponse"]="InvalidAllowMethodsPreflightResponse";e["InvalidAllowHeadersPreflightResponse"]="InvalidAllowHeadersPreflightResponse";e["MethodDisallowedByPreflightResponse"]="MethodDisallowedByPreflightResponse";e["HeaderDisallowedByPreflightResponse"]="HeaderDisallowedByPreflightResponse";e["RedirectContainsCredentials"]="RedirectContainsCredentials";e["InsecurePrivateNetwork"]="InsecurePrivateNetwork";e["InvalidPrivateNetworkAccess"]="InvalidPrivateNetworkAccess";e["UnexpectedPrivateNetworkAccess"]="UnexpectedPrivateNetworkAccess";e["NoCorsRedirectModeNotFollow"]="NoCorsRedirectModeNotFollow";e["PreflightMissingPrivateNetworkAccessId"]="PreflightMissingPrivateNetworkAccessId";e["PreflightMissingPrivateNetworkAccessName"]="PreflightMissingPrivateNetworkAccessName";e["PrivateNetworkAccessPermissionUnavailable"]="PrivateNetworkAccessPermissionUnavailable";e["PrivateNetworkAccessPermissionDenied"]="PrivateNetworkAccessPermissionDenied"})(u=e.CorsError||(e.CorsError={}));let h;(e=>{e["CacheStorage"]="cache-storage";e["HttpCache"]="http-cache";e["FallbackCode"]="fallback-code";e["Network"]="network"})(h=e.ServiceWorkerResponseSource||(e.ServiceWorkerResponseSource={}));let g;(e=>{e["UseCached"]="UseCached";e["Refresh"]="Refresh"})(g=e.TrustTokenParamsRefreshPolicy||(e.TrustTokenParamsRefreshPolicy={}));let p;(e=>{e["Issuance"]="Issuance";e["Redemption"]="Redemption";e["Signing"]="Signing"})(p=e.TrustTokenOperationType||(e.TrustTokenOperationType={}));let m;(e=>{e["AlternativeJobWonWithoutRace"]="alternativeJobWonWithoutRace";e["AlternativeJobWonRace"]="alternativeJobWonRace";e["MainJobWonRace"]="mainJobWonRace";e["MappingMissing"]="mappingMissing";e["Broken"]="broken";e["DnsAlpnH3JobWonWithoutRace"]="dnsAlpnH3JobWonWithoutRace";e["DnsAlpnH3JobWonRace"]="dnsAlpnH3JobWonRace";e["UnspecifiedReason"]="unspecifiedReason"})(m=e.AlternateProtocolUsage||(e.AlternateProtocolUsage={}));let f;(e=>{e["Network"]="network";e["Cache"]="cache";e["FetchEvent"]="fetch-event";e["RaceNetworkAndFetchHandler"]="race-network-and-fetch-handler"})(f=e.ServiceWorkerRouterSource||(e.ServiceWorkerRouterSource={}));let y;(e=>{e["Parser"]="parser";e["Script"]="script";e["Preload"]="preload";e["SignedExchange"]="SignedExchange";e["Preflight"]="preflight";e["Other"]="other"})(y=e.InitiatorType||(e.InitiatorType={}));let S;(e=>{e["SecureOnly"]="SecureOnly";e["SameSiteStrict"]="SameSiteStrict";e["SameSiteLax"]="SameSiteLax";e["SameSiteUnspecifiedTreatedAsLax"]="SameSiteUnspecifiedTreatedAsLax";e["SameSiteNoneInsecure"]="SameSiteNoneInsecure";e["UserPreferences"]="UserPreferences";e["ThirdPartyPhaseout"]="ThirdPartyPhaseout";e["ThirdPartyBlockedInFirstPartySet"]="ThirdPartyBlockedInFirstPartySet";e["SyntaxError"]="SyntaxError";e["SchemeNotSupported"]="SchemeNotSupported";e["OverwriteSecure"]="OverwriteSecure";e["InvalidDomain"]="InvalidDomain";e["InvalidPrefix"]="InvalidPrefix";e["UnknownError"]="UnknownError";e["SchemefulSameSiteStrict"]="SchemefulSameSiteStrict";e["SchemefulSameSiteLax"]="SchemefulSameSiteLax";e["SchemefulSameSiteUnspecifiedTreatedAsLax"]="SchemefulSameSiteUnspecifiedTreatedAsLax";e["SamePartyFromCrossPartyContext"]="SamePartyFromCrossPartyContext";e["SamePartyConflictsWithOtherAttributes"]="SamePartyConflictsWithOtherAttributes";e["NameValuePairExceedsMaxSize"]="NameValuePairExceedsMaxSize";e["DisallowedCharacter"]="DisallowedCharacter";e["NoCookieContent"]="NoCookieContent"})(S=e.SetCookieBlockedReason||(e.SetCookieBlockedReason={}));let v;(e=>{e["SecureOnly"]="SecureOnly";e["NotOnPath"]="NotOnPath";e["DomainMismatch"]="DomainMismatch";e["SameSiteStrict"]="SameSiteStrict";e["SameSiteLax"]="SameSiteLax";e["SameSiteUnspecifiedTreatedAsLax"]="SameSiteUnspecifiedTreatedAsLax";e["SameSiteNoneInsecure"]="SameSiteNoneInsecure";e["UserPreferences"]="UserPreferences";e["ThirdPartyPhaseout"]="ThirdPartyPhaseout";e["ThirdPartyBlockedInFirstPartySet"]="ThirdPartyBlockedInFirstPartySet";e["UnknownError"]="UnknownError";e["SchemefulSameSiteStrict"]="SchemefulSameSiteStrict";e["SchemefulSameSiteLax"]="SchemefulSameSiteLax";e["SchemefulSameSiteUnspecifiedTreatedAsLax"]="SchemefulSameSiteUnspecifiedTreatedAsLax";e["SamePartyFromCrossPartyContext"]="SamePartyFromCrossPartyContext";e["NameValuePairExceedsMaxSize"]="NameValuePairExceedsMaxSize";e["PortMismatch"]="PortMismatch";e["SchemeMismatch"]="SchemeMismatch"})(v=e.CookieBlockedReason||(e.CookieBlockedReason={}));let b;(e=>{e["None"]="None";e["UserSetting"]="UserSetting";e["TPCDMetadata"]="TPCDMetadata";e["TPCDDeprecationTrial"]="TPCDDeprecationTrial";e["TopLevelTPCDDeprecationTrial"]="TopLevelTPCDDeprecationTrial";e["TPCDHeuristics"]="TPCDHeuristics";e["EnterprisePolicy"]="EnterprisePolicy";e["StorageAccess"]="StorageAccess";e["TopLevelStorageAccess"]="TopLevelStorageAccess";e["Scheme"]="Scheme"})(b=e.CookieExemptionReason||(e.CookieExemptionReason={}));let I;(e=>{e["Server"]="Server";e["Proxy"]="Proxy"})(I=e.AuthChallengeSource||(e.AuthChallengeSource={}));let k;(e=>{e["Default"]="Default";e["CancelAuth"]="CancelAuth";e["ProvideCredentials"]="ProvideCredentials"})(k=e.AuthChallengeResponseResponse||(e.AuthChallengeResponseResponse={}));let w;(e=>{e["Request"]="Request";e["HeadersReceived"]="HeadersReceived"})(w=e.InterceptionStage||(e.InterceptionStage={}));let C;(e=>{e["SignatureSig"]="signatureSig";e["SignatureIntegrity"]="signatureIntegrity";e["SignatureCertUrl"]="signatureCertUrl";e["SignatureCertSha256"]="signatureCertSha256";e["SignatureValidityUrl"]="signatureValidityUrl";e["SignatureTimestamps"]="signatureTimestamps"})(C=e.SignedExchangeErrorField||(e.SignedExchangeErrorField={}));let R;(e=>{e["Deflate"]="deflate";e["Gzip"]="gzip";e["Br"]="br";e["Zstd"]="zstd"})(R=e.ContentEncoding||(e.ContentEncoding={}));let T;(e=>{e["Allow"]="Allow";e["BlockFromInsecureToMorePrivate"]="BlockFromInsecureToMorePrivate";e["WarnFromInsecureToMorePrivate"]="WarnFromInsecureToMorePrivate";e["PreflightBlock"]="PreflightBlock";e["PreflightWarn"]="PreflightWarn"})(T=e.PrivateNetworkRequestPolicy||(e.PrivateNetworkRequestPolicy={}));let E;(e=>{e["Local"]="Local";e["Private"]="Private";e["Public"]="Public";e["Unknown"]="Unknown"})(E=e.IPAddressSpace||(e.IPAddressSpace={}));let P;(e=>{e["SameOrigin"]="SameOrigin";e["SameOriginAllowPopups"]="SameOriginAllowPopups";e["RestrictProperties"]="RestrictProperties";e["UnsafeNone"]="UnsafeNone";e["SameOriginPlusCoep"]="SameOriginPlusCoep";e["RestrictPropertiesPlusCoep"]="RestrictPropertiesPlusCoep";e["NoopenerAllowPopups"]="NoopenerAllowPopups"})(P=e.CrossOriginOpenerPolicyValue||(e.CrossOriginOpenerPolicyValue={}));let x;(e=>{e["None"]="None";e["Credentialless"]="Credentialless";e["RequireCorp"]="RequireCorp"})(x=e.CrossOriginEmbedderPolicyValue||(e.CrossOriginEmbedderPolicyValue={}));let M;(e=>{e["HTTP"]="HTTP";e["Meta"]="Meta"})(M=e.ContentSecurityPolicySource||(e.ContentSecurityPolicySource={}));let A;(e=>{e["Queued"]="Queued";e["Pending"]="Pending";e["MarkedForRemoval"]="MarkedForRemoval";e["Success"]="Success"})(A=e.ReportStatus||(e.ReportStatus={}));let L;(e=>{e["Ok"]="Ok";e["InvalidArgument"]="InvalidArgument";e["MissingIssuerKeys"]="MissingIssuerKeys";e["FailedPrecondition"]="FailedPrecondition";e["ResourceExhausted"]="ResourceExhausted";e["AlreadyExists"]="AlreadyExists";e["ResourceLimited"]="ResourceLimited";e["Unauthorized"]="Unauthorized";e["BadResponse"]="BadResponse";e["InternalError"]="InternalError";e["UnknownError"]="UnknownError";e["FulfilledLocally"]="FulfilledLocally"})(L=e.TrustTokenOperationDoneEventStatus||(e.TrustTokenOperationDoneEventStatus={}))})(O||(O={}));var D;(e=>{let t;(e=>{e["Dashed"]="dashed";e["Dotted"]="dotted"})(t=e.LineStylePattern||(e.LineStylePattern={}));let r;(e=>{e["Aa"]="aa";e["Aaa"]="aaa";e["Apca"]="apca"})(r=e.ContrastAlgorithm||(e.ContrastAlgorithm={}));let n;(e=>{e["Rgb"]="rgb";e["Hsl"]="hsl";e["Hwb"]="hwb";e["Hex"]="hex"})(n=e.ColorFormat||(e.ColorFormat={}));let i;(e=>{e["SearchForNode"]="searchForNode";e["SearchForUAShadowDOM"]="searchForUAShadowDOM";e["CaptureAreaScreenshot"]="captureAreaScreenshot";e["ShowDistances"]="showDistances";e["None"]="none"})(i=e.InspectMode||(e.InspectMode={}))})(D||(D={}));var F;(e=>{let t;(e=>{e["None"]="none";e["Child"]="child";e["Root"]="root"})(t=e.AdFrameType||(e.AdFrameType={}));let r;(e=>{e["ParentIsAd"]="ParentIsAd";e["CreatedByAdScript"]="CreatedByAdScript";e["MatchedBlockingRule"]="MatchedBlockingRule"})(r=e.AdFrameExplanation||(e.AdFrameExplanation={}));let n;(e=>{e["Secure"]="Secure";e["SecureLocalhost"]="SecureLocalhost";e["InsecureScheme"]="InsecureScheme";e["InsecureAncestor"]="InsecureAncestor"})(n=e.SecureContextType||(e.SecureContextType={}));let i;(e=>{e["Isolated"]="Isolated";e["NotIsolated"]="NotIsolated";e["NotIsolatedFeatureDisabled"]="NotIsolatedFeatureDisabled"})(i=e.CrossOriginIsolatedContextType||(e.CrossOriginIsolatedContextType={}));let s;(e=>{e["SharedArrayBuffers"]="SharedArrayBuffers";e["SharedArrayBuffersTransferAllowed"]="SharedArrayBuffersTransferAllowed";e["PerformanceMeasureMemory"]="PerformanceMeasureMemory";e["PerformanceProfile"]="PerformanceProfile"})(s=e.GatedAPIFeatures||(e.GatedAPIFeatures={}));let o;(e=>{e["Accelerometer"]="accelerometer";e["AllScreensCapture"]="all-screens-capture";e["AmbientLightSensor"]="ambient-light-sensor";e["AttributionReporting"]="attribution-reporting";e["Autoplay"]="autoplay";e["Bluetooth"]="bluetooth";e["BrowsingTopics"]="browsing-topics";e["Camera"]="camera";e["CapturedSurfaceControl"]="captured-surface-control";e["ChDpr"]="ch-dpr";e["ChDeviceMemory"]="ch-device-memory";e["ChDownlink"]="ch-downlink";e["ChEct"]="ch-ect";e["ChPrefersColorScheme"]="ch-prefers-color-scheme";e["ChPrefersReducedMotion"]="ch-prefers-reduced-motion";e["ChPrefersReducedTransparency"]="ch-prefers-reduced-transparency";e["ChRtt"]="ch-rtt";e["ChSaveData"]="ch-save-data";e["ChUa"]="ch-ua";e["ChUaArch"]="ch-ua-arch";e["ChUaBitness"]="ch-ua-bitness";e["ChUaPlatform"]="ch-ua-platform";e["ChUaModel"]="ch-ua-model";e["ChUaMobile"]="ch-ua-mobile";e["ChUaFormFactors"]="ch-ua-form-factors";e["ChUaFullVersion"]="ch-ua-full-version";e["ChUaFullVersionList"]="ch-ua-full-version-list";e["ChUaPlatformVersion"]="ch-ua-platform-version";e["ChUaWow64"]="ch-ua-wow64";e["ChViewportHeight"]="ch-viewport-height";e["ChViewportWidth"]="ch-viewport-width";e["ChWidth"]="ch-width";e["ClipboardRead"]="clipboard-read";e["ClipboardWrite"]="clipboard-write";e["ComputePressure"]="compute-pressure";e["ControlledFrame"]="controlled-frame";e["CrossOriginIsolated"]="cross-origin-isolated";e["DeferredFetch"]="deferred-fetch";e["DeferredFetchMinimal"]="deferred-fetch-minimal";e["DigitalCredentialsGet"]="digital-credentials-get";e["DirectSockets"]="direct-sockets";e["DirectSocketsPrivate"]="direct-sockets-private";e["DisplayCapture"]="display-capture";e["DocumentDomain"]="document-domain";e["EncryptedMedia"]="encrypted-media";e["ExecutionWhileOutOfViewport"]="execution-while-out-of-viewport";e["ExecutionWhileNotRendered"]="execution-while-not-rendered";e["FencedUnpartitionedStorageRead"]="fenced-unpartitioned-storage-read";e["FocusWithoutUserActivation"]="focus-without-user-activation";e["Fullscreen"]="fullscreen";e["Frobulate"]="frobulate";e["Gamepad"]="gamepad";e["Geolocation"]="geolocation";e["Gyroscope"]="gyroscope";e["Hid"]="hid";e["IdentityCredentialsGet"]="identity-credentials-get";e["IdleDetection"]="idle-detection";e["InterestCohort"]="interest-cohort";e["JoinAdInterestGroup"]="join-ad-interest-group";e["KeyboardMap"]="keyboard-map";e["LocalFonts"]="local-fonts";e["Magnetometer"]="magnetometer";e["MediaPlaybackWhileNotVisible"]="media-playback-while-not-visible";e["Microphone"]="microphone";e["Midi"]="midi";e["OtpCredentials"]="otp-credentials";e["Payment"]="payment";e["PictureInPicture"]="picture-in-picture";e["Popins"]="popins";e["PrivateAggregation"]="private-aggregation";e["PrivateStateTokenIssuance"]="private-state-token-issuance";e["PrivateStateTokenRedemption"]="private-state-token-redemption";e["PublickeyCredentialsCreate"]="publickey-credentials-create";e["PublickeyCredentialsGet"]="publickey-credentials-get";e["RunAdAuction"]="run-ad-auction";e["ScreenWakeLock"]="screen-wake-lock";e["Serial"]="serial";e["SharedAutofill"]="shared-autofill";e["SharedStorage"]="shared-storage";e["SharedStorageSelectUrl"]="shared-storage-select-url";e["SmartCard"]="smart-card";e["SpeakerSelection"]="speaker-selection";e["StorageAccess"]="storage-access";e["SubApps"]="sub-apps";e["SyncXhr"]="sync-xhr";e["Unload"]="unload";e["Usb"]="usb";e["UsbUnrestricted"]="usb-unrestricted";e["VerticalScroll"]="vertical-scroll";e["WebAppInstallation"]="web-app-installation";e["WebPrinting"]="web-printing";e["WebShare"]="web-share";e["WindowManagement"]="window-management";e["XrSpatialTracking"]="xr-spatial-tracking"})(o=e.PermissionsPolicyFeature||(e.PermissionsPolicyFeature={}));let a;(e=>{e["Header"]="Header";e["IframeAttribute"]="IframeAttribute";e["InFencedFrameTree"]="InFencedFrameTree";e["InIsolatedApp"]="InIsolatedApp"})(a=e.PermissionsPolicyBlockReason||(e.PermissionsPolicyBlockReason={}));let l;(e=>{e["Success"]="Success";e["NotSupported"]="NotSupported";e["Insecure"]="Insecure";e["Expired"]="Expired";e["WrongOrigin"]="WrongOrigin";e["InvalidSignature"]="InvalidSignature";e["Malformed"]="Malformed";e["WrongVersion"]="WrongVersion";e["FeatureDisabled"]="FeatureDisabled";e["TokenDisabled"]="TokenDisabled";e["FeatureDisabledForUser"]="FeatureDisabledForUser";e["UnknownTrial"]="UnknownTrial"})(l=e.OriginTrialTokenStatus||(e.OriginTrialTokenStatus={}));let d;(e=>{e["Enabled"]="Enabled";e["ValidTokenNotProvided"]="ValidTokenNotProvided";e["OSNotSupported"]="OSNotSupported";e["TrialNotAllowed"]="TrialNotAllowed"})(d=e.OriginTrialStatus||(e.OriginTrialStatus={}));let c;(e=>{e["None"]="None";e["Subset"]="Subset"})(c=e.OriginTrialUsageRestriction||(e.OriginTrialUsageRestriction={}));let u;(e=>{e["Link"]="link";e["Typed"]="typed";e["Address_bar"]="address_bar";e["Auto_bookmark"]="auto_bookmark";e["Auto_subframe"]="auto_subframe";e["Manual_subframe"]="manual_subframe";e["Generated"]="generated";e["Auto_toplevel"]="auto_toplevel";e["Form_submit"]="form_submit";e["Reload"]="reload";e["Keyword"]="keyword";e["Keyword_generated"]="keyword_generated";e["Other"]="other"})(u=e.TransitionType||(e.TransitionType={}));let h;(e=>{e["Alert"]="alert";e["Confirm"]="confirm";e["Prompt"]="prompt";e["Beforeunload"]="beforeunload"})(h=e.DialogType||(e.DialogType={}));let g;(e=>{e["AnchorClick"]="anchorClick";e["FormSubmissionGet"]="formSubmissionGet";e["FormSubmissionPost"]="formSubmissionPost";e["HttpHeaderRefresh"]="httpHeaderRefresh";e["InitialFrameNavigation"]="initialFrameNavigation";e["MetaTagRefresh"]="metaTagRefresh";e["Other"]="other";e["PageBlockInterstitial"]="pageBlockInterstitial";e["Reload"]="reload";e["ScriptInitiated"]="scriptInitiated"})(g=e.ClientNavigationReason||(e.ClientNavigationReason={}));let p;(e=>{e["CurrentTab"]="currentTab";e["NewTab"]="newTab";e["NewWindow"]="newWindow";e["Download"]="download"})(p=e.ClientNavigationDisposition||(e.ClientNavigationDisposition={}));let m;(e=>{e["NoReferrer"]="noReferrer";e["NoReferrerWhenDowngrade"]="noReferrerWhenDowngrade";e["Origin"]="origin";e["OriginWhenCrossOrigin"]="originWhenCrossOrigin";e["SameOrigin"]="sameOrigin";e["StrictOrigin"]="strictOrigin";e["StrictOriginWhenCrossOrigin"]="strictOriginWhenCrossOrigin";e["UnsafeUrl"]="unsafeUrl"})(m=e.ReferrerPolicy||(e.ReferrerPolicy={}));let f;(e=>{e["None"]="none";e["AutoAccept"]="autoAccept";e["AutoReject"]="autoReject";e["AutoOptOut"]="autoOptOut"})(f=e.AutoResponseMode||(e.AutoResponseMode={}));let y;(e=>{e["Navigation"]="Navigation";e["BackForwardCacheRestore"]="BackForwardCacheRestore"})(y=e.NavigationType||(e.NavigationType={}));let S;(e=>{e["NotPrimaryMainFrame"]="NotPrimaryMainFrame";e["BackForwardCacheDisabled"]="BackForwardCacheDisabled";e["RelatedActiveContentsExist"]="RelatedActiveContentsExist";e["HTTPStatusNotOK"]="HTTPStatusNotOK";e["SchemeNotHTTPOrHTTPS"]="SchemeNotHTTPOrHTTPS";e["Loading"]="Loading";e["WasGrantedMediaAccess"]="WasGrantedMediaAccess";e["DisableForRenderFrameHostCalled"]="DisableForRenderFrameHostCalled";e["DomainNotAllowed"]="DomainNotAllowed";e["HTTPMethodNotGET"]="HTTPMethodNotGET";e["SubframeIsNavigating"]="SubframeIsNavigating";e["Timeout"]="Timeout";e["CacheLimit"]="CacheLimit";e["JavaScriptExecution"]="JavaScriptExecution";e["RendererProcessKilled"]="RendererProcessKilled";e["RendererProcessCrashed"]="RendererProcessCrashed";e["SchedulerTrackedFeatureUsed"]="SchedulerTrackedFeatureUsed";e["ConflictingBrowsingInstance"]="ConflictingBrowsingInstance";e["CacheFlushed"]="CacheFlushed";e["ServiceWorkerVersionActivation"]="ServiceWorkerVersionActivation";e["SessionRestored"]="SessionRestored";e["ServiceWorkerPostMessage"]="ServiceWorkerPostMessage";e["EnteredBackForwardCacheBeforeServiceWorkerHostAdded"]="EnteredBackForwardCacheBeforeServiceWorkerHostAdded";e["RenderFrameHostReused_SameSite"]="RenderFrameHostReused_SameSite";e["RenderFrameHostReused_CrossSite"]="RenderFrameHostReused_CrossSite";e["ServiceWorkerClaim"]="ServiceWorkerClaim";e["IgnoreEventAndEvict"]="IgnoreEventAndEvict";e["HaveInnerContents"]="HaveInnerContents";e["TimeoutPuttingInCache"]="TimeoutPuttingInCache";e["BackForwardCacheDisabledByLowMemory"]="BackForwardCacheDisabledByLowMemory";e["BackForwardCacheDisabledByCommandLine"]="BackForwardCacheDisabledByCommandLine";e["NetworkRequestDatAPIpeDrainedAsBytesConsumer"]="NetworkRequestDatapipeDrainedAsBytesConsumer";e["NetworkRequestRedirected"]="NetworkRequestRedirected";e["NetworkRequestTimeout"]="NetworkRequestTimeout";e["NetworkExceedsBufferLimit"]="NetworkExceedsBufferLimit";e["NavigationCancelledWhileRestoring"]="NavigationCancelledWhileRestoring";e["NotMostRecentNavigationEntry"]="NotMostRecentNavigationEntry";e["BackForwardCacheDisabledForPrerender"]="BackForwardCacheDisabledForPrerender";e["UserAgentOverrideDiffers"]="UserAgentOverrideDiffers";e["ForegroundCacheLimit"]="ForegroundCacheLimit";e["BrowsingInstanceNotSwapped"]="BrowsingInstanceNotSwapped";e["BackForwardCacheDisabledForDelegate"]="BackForwardCacheDisabledForDelegate";e["UnloadHandlerExistsInMainFrame"]="UnloadHandlerExistsInMainFrame";e["UnloadHandlerExistsInSubFrame"]="UnloadHandlerExistsInSubFrame";e["ServiceWorkerUnregistration"]="ServiceWorkerUnregistration";e["CacheControlNoStore"]="CacheControlNoStore";e["CacheControlNoStoreCookieModified"]="CacheControlNoStoreCookieModified";e["CacheControlNoStoreHTTPOnlyCookieModified"]="CacheControlNoStoreHTTPOnlyCookieModified";e["NoResponseHead"]="NoResponseHead";e["Unknown"]="Unknown";e["ActivationNavigationsDisallowedForBug1234857"]="ActivationNavigationsDisallowedForBug1234857";e["ErrorDocument"]="ErrorDocument";e["FencedFramesEmbedder"]="FencedFramesEmbedder";e["CookieDisabled"]="CookieDisabled";e["HTTPAuthRequired"]="HTTPAuthRequired";e["CookieFlushed"]="CookieFlushed";e["BroadcastChannelOnMessage"]="BroadcastChannelOnMessage";e["WebViewSettingsChanged"]="WebViewSettingsChanged";e["WebViewJavaScriptObjectChanged"]="WebViewJavaScriptObjectChanged";e["WebViewMessageListenerInjected"]="WebViewMessageListenerInjected";e["WebViewSafeBrowsingAllowlistChanged"]="WebViewSafeBrowsingAllowlistChanged";e["WebViewDocumentStartJavascriptChanged"]="WebViewDocumentStartJavascriptChanged";e["WebSocket"]="WebSocket";e["WebTransport"]="WebTransport";e["WebRTC"]="WebRTC";e["MainResourceHasCacheControlNoStore"]="MainResourceHasCacheControlNoStore";e["MainResourceHasCacheControlNoCache"]="MainResourceHasCacheControlNoCache";e["SubresourceHasCacheControlNoStore"]="SubresourceHasCacheControlNoStore";e["SubresourceHasCacheControlNoCache"]="SubresourceHasCacheControlNoCache";e["ContainsPlugins"]="ContainsPlugins";e["DocumentLoaded"]="DocumentLoaded";e["OutstandingNetworkRequestOthers"]="OutstandingNetworkRequestOthers";e["RequestedMIDIPermission"]="RequestedMIDIPermission";e["RequestedAudioCapturePermission"]="RequestedAudioCapturePermission";e["RequestedVideoCapturePermission"]="RequestedVideoCapturePermission";e["RequestedBackForwardCacheBlockedSensors"]="RequestedBackForwardCacheBlockedSensors";e["RequestedBackgroundWorkPermission"]="RequestedBackgroundWorkPermission";e["BroadcastChannel"]="BroadcastChannel";e["WebXR"]="WebXR";e["SharedWorker"]="SharedWorker";e["WebLocks"]="WebLocks";e["WebHID"]="WebHID";e["WebShare"]="WebShare";e["RequestedStorageAccessGrant"]="RequestedStorageAccessGrant";e["WebNfc"]="WebNfc";e["OutstandingNetworkRequestFetch"]="OutstandingNetworkRequestFetch";e["OutstandingNetworkRequestXHR"]="OutstandingNetworkRequestXHR";e["AppBanner"]="AppBanner";e["Printing"]="Printing";e["WebDatabase"]="WebDatabase";e["PictureInPicture"]="PictureInPicture";e["SpeechRecognizer"]="SpeechRecognizer";e["IdleManager"]="IdleManager";e["PaymentManager"]="PaymentManager";e["SpeechSynthesis"]="SpeechSynthesis";e["KeyboardLock"]="KeyboardLock";e["WebOTPService"]="WebOTPService";e["OutstandingNetworkRequestDirectSocket"]="OutstandingNetworkRequestDirectSocket";e["InjectedJavascript"]="InjectedJavascript";e["InjectedStyleSheet"]="InjectedStyleSheet";e["KeepaliveRequest"]="KeepaliveRequest";e["IndexedDBEvent"]="IndexedDBEvent";e["Dummy"]="Dummy";e["JsNetworkRequestReceivedCacheControlNoStoreResource"]="JsNetworkRequestReceivedCacheControlNoStoreResource";e["WebRTCSticky"]="WebRTCSticky";e["WebTransportSticky"]="WebTransportSticky";e["WebSocketSticky"]="WebSocketSticky";e["SmartCard"]="SmartCard";e["LiveMediaStreamTrack"]="LiveMediaStreamTrack";e["UnloadHandler"]="UnloadHandler";e["ParserAborted"]="ParserAborted";e["ContentSecurityHandler"]="ContentSecurityHandler";e["ContentWebAuthenticationAPI"]="ContentWebAuthenticationAPI";e["ContentFileChooser"]="ContentFileChooser";e["ContentSerial"]="ContentSerial";e["ContentFileSystemAccess"]="ContentFileSystemAccess";e["ContentMediaDevicesDispatcherHost"]="ContentMediaDevicesDispatcherHost";e["ContentWebBluetooth"]="ContentWebBluetooth";e["ContentWebUSB"]="ContentWebUSB";e["ContentMediaSessionService"]="ContentMediaSessionService";e["ContentScreenReader"]="ContentScreenReader";e["ContentDiscarded"]="ContentDiscarded";e["EmbedderPopupBlockerTabHelper"]="EmbedderPopupBlockerTabHelper";e["EmbedderSafeBrowsingTriggeredPopupBlocker"]="EmbedderSafeBrowsingTriggeredPopupBlocker";e["EmbedderSafeBrowsingThreatDetails"]="EmbedderSafeBrowsingThreatDetails";e["EmbedderAppBannerManager"]="EmbedderAppBannerManager";e["EmbedderDomDistillerViewerSource"]="EmbedderDomDistillerViewerSource";e["EmbedderDomDistillerSelfDeletingRequestDelegate"]="EmbedderDomDistillerSelfDeletingRequestDelegate";e["EmbedderOomInterventionTabHelper"]="EmbedderOomInterventionTabHelper";e["EmbedderOfflinePage"]="EmbedderOfflinePage";e["EmbedderChromePasswordManagerClientBindCredentialManager"]="EmbedderChromePasswordManagerClientBindCredentialManager";e["EmbedderPermissionRequestManager"]="EmbedderPermissionRequestManager";e["EmbedderModalDialog"]="EmbedderModalDialog";e["EmbedderExtensions"]="EmbedderExtensions";e["EmbedderExtensionMessaging"]="EmbedderExtensionMessaging";e["EmbedderExtensionMessagingForOpenPort"]="EmbedderExtensionMessagingForOpenPort";e["EmbedderExtensionSentMessageToCachedFrame"]="EmbedderExtensionSentMessageToCachedFrame";e["RequestedByWebViewClient"]="RequestedByWebViewClient";e["PostMessageByWebViewClient"]="PostMessageByWebViewClient"})(S=e.BackForwardCacheNotRestoredReason||(e.BackForwardCacheNotRestoredReason={}));let v;(e=>{e["SupportPending"]="SupportPending";e["PageSupportNeeded"]="PageSupportNeeded";e["Circumstantial"]="Circumstantial"})(v=e.BackForwardCacheNotRestoredReasonType||(e.BackForwardCacheNotRestoredReasonType={}));let b;(e=>{e["Jpeg"]="jpeg";e["Png"]="png";e["Webp"]="webp"})(b=e.CaptureScreenshotRequestFormat||(e.CaptureScreenshotRequestFormat={}));let I;(e=>{e["MHTML"]="mhtml"})(I=e.CaptureSnapshotRequestFormat||(e.CaptureSnapshotRequestFormat={}));let k;(e=>{e["ReturnAsBase64"]="ReturnAsBase64";e["ReturnAsStream"]="ReturnAsStream"})(k=e.PrintToPDFRequestTransferMode||(e.PrintToPDFRequestTransferMode={}));let w;(e=>{e["Deny"]="deny";e["Allow"]="allow";e["Default"]="default"})(w=e.SetDownloadBehaviorRequestBehavior||(e.SetDownloadBehaviorRequestBehavior={}));let C;(e=>{e["Mobile"]="mobile";e["Desktop"]="desktop"})(C=e.SetTouchEmulationEnabledRequestConfiguration||(e.SetTouchEmulationEnabledRequestConfiguration={}));let R;(e=>{e["Jpeg"]="jpeg";e["Png"]="png"})(R=e.StartScreencastRequestFormat||(e.StartScreencastRequestFormat={}));let T;(e=>{e["Frozen"]="frozen";e["Active"]="active"})(T=e.SetWebLifecycleStateRequestState||(e.SetWebLifecycleStateRequestState={}));let E;(e=>{e["SelectSingle"]="selectSingle";e["SelectMultiple"]="selectMultiple"})(E=e.FileChooserOpenedEventMode||(e.FileChooserOpenedEventMode={}));let P;(e=>{e["Remove"]="remove";e["Swap"]="swap"})(P=e.FrameDetachedEventReason||(e.FrameDetachedEventReason={}));let x;(e=>{e["InProgress"]="inProgress";e["Completed"]="completed";e["Canceled"]="canceled"})(x=e.DownloadProgressEventState||(e.DownloadProgressEventState={}));let M;(e=>{e["Fragment"]="fragment";e["HistoryAPI"]="historyApi";e["Other"]="other"})(M=e.NavigatedWithinDocumentEventNavigationType||(e.NavigatedWithinDocumentEventNavigationType={}))})(F||(F={}));var B;(e=>{let t;(e=>{e["TimeTicks"]="timeTicks";e["ThreadTicks"]="threadTicks"})(t=e.EnableRequestTimeDomain||(e.EnableRequestTimeDomain={}));let r;(e=>{e["TimeTicks"]="timeTicks";e["ThreadTicks"]="threadTicks"})(r=e.SetTimeDomainRequestTimeDomain||(e.SetTimeDomainRequestTimeDomain={}))})(B||(B={}));var H;(e=>{let t;(e=>{e["Blockable"]="blockable";e["OptionallyBlockable"]="optionally-blockable";e["None"]="none"})(t=e.MixedContentType||(e.MixedContentType={}));let r;(e=>{e["Unknown"]="unknown";e["Neutral"]="neutral";e["Insecure"]="insecure";e["Secure"]="secure";e["Info"]="info";e["InsecureBroken"]="insecure-broken"})(r=e.SecurityState||(e.SecurityState={}));let n;(e=>{e["BadReputation"]="badReputation";e["Lookalike"]="lookalike"})(n=e.SafetyTipStatus||(e.SafetyTipStatus={}));let i;(e=>{e["Continue"]="continue";e["Cancel"]="cancel"})(i=e.CertificateErrorAction||(e.CertificateErrorAction={}))})(H||(H={}));var U;(e=>{let t;(e=>{e["Stopped"]="stopped";e["Starting"]="starting";e["Running"]="running";e["Stopping"]="stopping"})(t=e.ServiceWorkerVersionRunningStatus||(e.ServiceWorkerVersionRunningStatus={}));let r;(e=>{e["New"]="new";e["Installing"]="installing";e["Installed"]="installed";e["Activating"]="activating";e["Activated"]="activated";e["Redundant"]="redundant"})(r=e.ServiceWorkerVersionStatus||(e.ServiceWorkerVersionStatus={}))})(U||(U={}));var _;(e=>{let t;(e=>{e["Appcache"]="appcache";e["Cookies"]="cookies";e["File_systems"]="file_systems";e["Indexeddb"]="indexeddb";e["Local_storage"]="local_storage";e["Shader_cache"]="shader_cache";e["Websql"]="websql";e["Service_workers"]="service_workers";e["Cache_storage"]="cache_storage";e["Interest_groups"]="interest_groups";e["Shared_storage"]="shared_storage";e["Storage_buckets"]="storage_buckets";e["All"]="all";e["Other"]="other"})(t=e.StorageType||(e.StorageType={}));let r;(e=>{e["Join"]="join";e["Leave"]="leave";e["Update"]="update";e["Loaded"]="loaded";e["Bid"]="bid";e["Win"]="win";e["AdditionalBid"]="additionalBid";e["AdditionalBidWin"]="additionalBidWin";e["TopLevelBid"]="topLevelBid";e["TopLevelAdditionalBid"]="topLevelAdditionalBid";e["Clear"]="clear"})(r=e.InterestGroupAccessType||(e.InterestGroupAccessType={}));let n;(e=>{e["Started"]="started";e["ConfigResolved"]="configResolved"})(n=e.InterestGroupAuctionEventType||(e.InterestGroupAuctionEventType={}));let i;(e=>{e["BidderJs"]="bidderJs";e["BidderWasm"]="bidderWasm";e["SellerJs"]="sellerJs";e["BidderTrustedSignals"]="bidderTrustedSignals";e["SellerTrustedSignals"]="sellerTrustedSignals"})(i=e.InterestGroupAuctionFetchType||(e.InterestGroupAuctionFetchType={}));let s;(e=>{e["DocumentAddModule"]="documentAddModule";e["DocumentSelectURL"]="documentSelectURL";e["DocumentRun"]="documentRun";e["DocumentSet"]="documentSet";e["DocumentAppend"]="documentAppend";e["DocumentDelete"]="documentDelete";e["DocumentClear"]="documentClear";e["DocumentGet"]="documentGet";e["WorkletSet"]="workletSet";e["WorkletAppend"]="workletAppend";e["WorkletDelete"]="workletDelete";e["WorkletClear"]="workletClear";e["WorkletGet"]="workletGet";e["WorkletKeys"]="workletKeys";e["WorkletEntries"]="workletEntries";e["WorkletLength"]="workletLength";e["WorkletRemainingBudget"]="workletRemainingBudget";e["HeaderSet"]="headerSet";e["HeaderAppend"]="headerAppend";e["HeaderDelete"]="headerDelete";e["HeaderClear"]="headerClear"})(s=e.SharedStorageAccessType||(e.SharedStorageAccessType={}));let o;(e=>{e["Relaxed"]="relaxed";e["Strict"]="strict"})(o=e.StorageBucketsDurability||(e.StorageBucketsDurability={}));let a;(e=>{e["Navigation"]="navigation";e["Event"]="event"})(a=e.AttributionReportingSourceType||(e.AttributionReportingSourceType={}));let l;(e=>{e["Exact"]="exact";e["Modulus"]="modulus"})(l=e.AttributionReportingTriggerDataMatching||(e.AttributionReportingTriggerDataMatching={}));let d;(e=>{e["Success"]="success";e["InternalError"]="internalError";e["InsufficientSourceCapacity"]="insufficientSourceCapacity";e["InsufficientUniqueDestinationCapacity"]="insufficientUniqueDestinationCapacity";e["ExcessiveReportingOrigins"]="excessiveReportingOrigins";e["ProhibitedByBrowserPolicy"]="prohibitedByBrowserPolicy";e["SuccessNoised"]="successNoised";e["DestinationReportingLimitReached"]="destinationReportingLimitReached";e["DestinationGlobalLimitReached"]="destinationGlobalLimitReached";e["DestinationBothLimitsReached"]="destinationBothLimitsReached";e["ReportingOriginsPerSiteLimitReached"]="reportingOriginsPerSiteLimitReached";e["ExceedsMaxChannelCapacity"]="exceedsMaxChannelCapacity";e["ExceedsMaxScopesChannelCapacity"]="exceedsMaxScopesChannelCapacity";e["ExceedsMaxTriggerStateCardinality"]="exceedsMaxTriggerStateCardinality";e["ExceedsMaxEventStatesLimit"]="exceedsMaxEventStatesLimit";e["DestinationPerDayReportingLimitReached"]="destinationPerDayReportingLimitReached"})(d=e.AttributionReportingSourceRegistrationResult||(e.AttributionReportingSourceRegistrationResult={}));let c;(e=>{e["Include"]="include";e["Exclude"]="exclude"})(c=e.AttributionReportingSourceRegistrationTimeConfig||(e.AttributionReportingSourceRegistrationTimeConfig={}));let u;(e=>{e["Success"]="success";e["SuccessDroppedLowerPriority"]="successDroppedLowerPriority";e["InternalError"]="internalError";e["NoCapacityForAttributionDestination"]="noCapacityForAttributionDestination";e["NoMatchingSources"]="noMatchingSources";e["Deduplicated"]="deduplicated";e["ExcessiveAttributions"]="excessiveAttributions";e["PriorityTooLow"]="priorityTooLow";e["NeverAttributedSource"]="neverAttributedSource";e["ExcessiveReportingOrigins"]="excessiveReportingOrigins";e["NoMatchingSourceFilterData"]="noMatchingSourceFilterData";e["ProhibitedByBrowserPolicy"]="prohibitedByBrowserPolicy";e["NoMatchingConfigurations"]="noMatchingConfigurations";e["ExcessiveReports"]="excessiveReports";e["FalselyAttributedSource"]="falselyAttributedSource";e["ReportWindowPassed"]="reportWindowPassed";e["NotRegistered"]="notRegistered";e["ReportWindowNotStarted"]="reportWindowNotStarted";e["NoMatchingTriggerData"]="noMatchingTriggerData"})(u=e.AttributionReportingEventLevelResult||(e.AttributionReportingEventLevelResult={}));let h;(e=>{e["Success"]="success";e["InternalError"]="internalError";e["NoCapacityForAttributionDestination"]="noCapacityForAttributionDestination";e["NoMatchingSources"]="noMatchingSources";e["ExcessiveAttributions"]="excessiveAttributions";e["ExcessiveReportingOrigins"]="excessiveReportingOrigins";e["NoHistograms"]="noHistograms";e["InsufficientBudget"]="insufficientBudget";e["InsufficientNamedBudget"]="insufficientNamedBudget";e["NoMatchingSourceFilterData"]="noMatchingSourceFilterData";e["NotRegistered"]="notRegistered";e["ProhibitedByBrowserPolicy"]="prohibitedByBrowserPolicy";e["Deduplicated"]="deduplicated";e["ReportWindowPassed"]="reportWindowPassed";e["ExcessiveReports"]="excessiveReports"})(h=e.AttributionReportingAggregatableResult||(e.AttributionReportingAggregatableResult={}))})(_||(_={}));var q;(e=>{let t;(e=>{e["Yuv420"]="yuv420";e["Yuv422"]="yuv422";e["Yuv444"]="yuv444"})(t=e.SubsamplingFormat||(e.SubsamplingFormat={}));let r;(e=>{e["Jpeg"]="jpeg";e["Webp"]="webp";e["Unknown"]="unknown"})(r=e.ImageType||(e.ImageType={}))})(q||(q={}));var W;(e=>{let t;(e=>{e["RecordUntilFull"]="recordUntilFull";e["RecordContinuously"]="recordContinuously";e["RecordAsMuchAsPossible"]="recordAsMuchAsPossible";e["EchoToConsole"]="echoToConsole"})(t=e.TraceConfigRecordMode||(e.TraceConfigRecordMode={}));let r;(e=>{e["Json"]="json";e["Proto"]="proto"})(r=e.StreamFormat||(e.StreamFormat={}));let n;(e=>{e["None"]="none";e["Gzip"]="gzip"})(n=e.StreamCompression||(e.StreamCompression={}));let i;(e=>{e["Background"]="background";e["Light"]="light";e["Detailed"]="detailed"})(i=e.MemoryDumpLevelOfDetail||(e.MemoryDumpLevelOfDetail={}));let s;(e=>{e["Auto"]="auto";e["Chrome"]="chrome";e["System"]="system"})(s=e.TracingBackend||(e.TracingBackend={}));let o;(e=>{e["ReportEvents"]="ReportEvents";e["ReturnAsStream"]="ReturnAsStream"})(o=e.StartRequestTransferMode||(e.StartRequestTransferMode={}))})(W||(W={}));var V;(e=>{let t;(e=>{e["Request"]="Request";e["Response"]="Response"})(t=e.RequestStage||(e.RequestStage={}));let r;(e=>{e["Server"]="Server";e["Proxy"]="Proxy"})(r=e.AuthChallengeSource||(e.AuthChallengeSource={}));let n;(e=>{e["Default"]="Default";e["CancelAuth"]="CancelAuth";e["ProvideCredentials"]="ProvideCredentials"})(n=e.AuthChallengeResponseResponse||(e.AuthChallengeResponseResponse={}))})(V||(V={}));var j;(e=>{let t;(e=>{e["Realtime"]="realtime";e["Offline"]="offline"})(t=e.ContextType||(e.ContextType={}));let r;(e=>{e["Suspended"]="suspended";e["Running"]="running";e["Closed"]="closed";e["Interrupted"]="interrupted"})(r=e.ContextState||(e.ContextState={}));let n;(e=>{e["ClampedMax"]="clamped-max";e["Explicit"]="explicit";e["Max"]="max"})(n=e.ChannelCountMode||(e.ChannelCountMode={}));let i;(e=>{e["Discrete"]="discrete";e["Speakers"]="speakers"})(i=e.ChannelInterpretation||(e.ChannelInterpretation={}));let s;(e=>{e["ARate"]="a-rate";e["KRate"]="k-rate"})(s=e.AutomationRate||(e.AutomationRate={}))})(j||(j={}));var G;(e=>{let t;(e=>{e["U2f"]="u2f";e["Ctap2"]="ctap2"})(t=e.AuthenticatorProtocol||(e.AuthenticatorProtocol={}));let r;(e=>{e["Ctap2_0"]="ctap2_0";e["Ctap2_1"]="ctap2_1"})(r=e.Ctap2Version||(e.Ctap2Version={}));let n;(e=>{e["Usb"]="usb";e["Nfc"]="nfc";e["Ble"]="ble";e["Cable"]="cable";e["Internal"]="internal"})(n=e.AuthenticatorTransport||(e.AuthenticatorTransport={}))})(G||(G={}));var z;(e=>{let t;(e=>{e["Error"]="error";e["Warning"]="warning";e["Info"]="info";e["Debug"]="debug"})(t=e.PlayerMessageLevel||(e.PlayerMessageLevel={}))})(z||(z={}));var K;(e=>{let t;(e=>{e["SourceIsNotJsonObject"]="SourceIsNotJsonObject";e["InvalidRulesSkipped"]="InvalidRulesSkipped"})(t=e.RuleSetErrorType||(e.RuleSetErrorType={}));let r;(e=>{e["Prefetch"]="Prefetch";e["Prerender"]="Prerender"})(r=e.SpeculationAction||(e.SpeculationAction={}));let n;(e=>{e["Blank"]="Blank";e["Self"]="Self"})(n=e.SpeculationTargetHint||(e.SpeculationTargetHint={}));let i;(e=>{e["Activated"]="Activated";e["Destroyed"]="Destroyed";e["LowEndDevice"]="LowEndDevice";e["InvalidSchemeRedirect"]="InvalidSchemeRedirect";e["InvalidSchemeNavigation"]="InvalidSchemeNavigation";e["NavigationRequestBlockedByCsp"]="NavigationRequestBlockedByCsp";e["MainFrameNavigation"]="MainFrameNavigation";e["MojoBinderPolicy"]="MojoBinderPolicy";e["RendererProcessCrashed"]="RendererProcessCrashed";e["RendererProcessKilled"]="RendererProcessKilled";e["Download"]="Download";e["TriggerDestroyed"]="TriggerDestroyed";e["NavigationNotCommitted"]="NavigationNotCommitted";e["NavigationBadHttpStatus"]="NavigationBadHttpStatus";e["ClientCertRequested"]="ClientCertRequested";e["NavigationRequestNetworkError"]="NavigationRequestNetworkError";e["CancelAllHostsForTesting"]="CancelAllHostsForTesting";e["DidFailLoad"]="DidFailLoad";e["Stop"]="Stop";e["SslCertificateError"]="SslCertificateError";e["LoginAuthRequested"]="LoginAuthRequested";e["UaChangeRequiresReload"]="UaChangeRequiresReload";e["BlockedByClient"]="BlockedByClient";e["AudioOutputDeviceRequested"]="AudioOutputDeviceRequested";e["MixedContent"]="MixedContent";e["TriggerBackgrounded"]="TriggerBackgrounded";e["MemoryLimitExceeded"]="MemoryLimitExceeded";e["DataSaverEnabled"]="DataSaverEnabled";e["TriggerUrlHasEffectiveUrl"]="TriggerUrlHasEffectiveUrl";e["ActivatedBeforeStarted"]="ActivatedBeforeStarted";e["InactivePageRestriction"]="InactivePageRestriction";e["StartFailed"]="StartFailed";e["TimeoutBackgrounded"]="TimeoutBackgrounded";e["CrossSiteRedirectInInitialNavigation"]="CrossSiteRedirectInInitialNavigation";e["CrossSiteNavigationInInitialNavigation"]="CrossSiteNavigationInInitialNavigation";e["SameSiteCrossOriginRedirectNotOptInInInitialNavigation"]="SameSiteCrossOriginRedirectNotOptInInInitialNavigation";e["SameSiteCrossOriginNavigationNotOptInInInitialNavigation"]="SameSiteCrossOriginNavigationNotOptInInInitialNavigation";e["ActivationNavigationParameterMismatch"]="ActivationNavigationParameterMismatch";e["ActivatedInBackground"]="ActivatedInBackground";e["EmbedderHostDisallowed"]="EmbedderHostDisallowed";e["ActivationNavigationDestroyedBeforeSuccess"]="ActivationNavigationDestroyedBeforeSuccess";e["TabClosedByUserGesture"]="TabClosedByUserGesture";e["TabClosedWithoutUserGesture"]="TabClosedWithoutUserGesture";e["PrimaryMainFrameRendererProcessCrashed"]="PrimaryMainFrameRendererProcessCrashed";e["PrimaryMainFrameRendererProcessKilled"]="PrimaryMainFrameRendererProcessKilled";e["ActivationFramePolicyNotCompatible"]="ActivationFramePolicyNotCompatible";e["PreloadingDisabled"]="PreloadingDisabled";e["BatterySaverEnabled"]="BatterySaverEnabled";e["ActivatedDuringMainFrameNavigation"]="ActivatedDuringMainFrameNavigation";e["PreloadingUnsupportedByWebContents"]="PreloadingUnsupportedByWebContents";e["CrossSiteRedirectInMainFrameNavigation"]="CrossSiteRedirectInMainFrameNavigation";e["CrossSiteNavigationInMainFrameNavigation"]="CrossSiteNavigationInMainFrameNavigation";e["SameSiteCrossOriginRedirectNotOptInInMainFrameNavigation"]="SameSiteCrossOriginRedirectNotOptInInMainFrameNavigation";e["SameSiteCrossOriginNavigationNotOptInInMainFrameNavigation"]="SameSiteCrossOriginNavigationNotOptInInMainFrameNavigation";e["MemoryPressureOnTrigger"]="MemoryPressureOnTrigger";e["MemoryPressureAfterTriggered"]="MemoryPressureAfterTriggered";e["PrerenderingDisabledByDevTools"]="PrerenderingDisabledByDevTools";e["SpeculationRuleRemoved"]="SpeculationRuleRemoved";e["ActivatedWithAuxiliaryBrowsingContexts"]="ActivatedWithAuxiliaryBrowsingContexts";e["MaxNumOfRunningEagerPrerendersExceeded"]="MaxNumOfRunningEagerPrerendersExceeded";e["MaxNumOfRunningNonEagerPrerendersExceeded"]="MaxNumOfRunningNonEagerPrerendersExceeded";e["MaxNumOfRunningEmbedderPrerendersExceeded"]="MaxNumOfRunningEmbedderPrerendersExceeded";e["PrerenderingUrlHasEffectiveUrl"]="PrerenderingUrlHasEffectiveUrl";e["RedirectedPrerenderingUrlHasEffectiveUrl"]="RedirectedPrerenderingUrlHasEffectiveUrl";e["ActivationUrlHasEffectiveUrl"]="ActivationUrlHasEffectiveUrl";e["JavaScriptInterfaceAdded"]="JavaScriptInterfaceAdded";e["JavaScriptInterfaceRemoved"]="JavaScriptInterfaceRemoved";e["AllPrerenderingCanceled"]="AllPrerenderingCanceled";e["WindowClosed"]="WindowClosed";e["SlowNetwork"]="SlowNetwork";e["OtherPrerenderedPageActivated"]="OtherPrerenderedPageActivated";e["V8OptimizerDisabled"]="V8OptimizerDisabled";e["PrerenderFailedDuringPrefetch"]="PrerenderFailedDuringPrefetch"})(i=e.PrerenderFinalStatus||(e.PrerenderFinalStatus={}));let s;(e=>{e["Pending"]="Pending";e["Running"]="Running";e["Ready"]="Ready";e["Success"]="Success";e["Failure"]="Failure";e["NotSupported"]="NotSupported"})(s=e.PreloadingStatus||(e.PreloadingStatus={}));let o;(e=>{e["PrefetchAllowed"]="PrefetchAllowed";e["PrefetchFailedIneligibleRedirect"]="PrefetchFailedIneligibleRedirect";e["PrefetchFailedInvalidRedirect"]="PrefetchFailedInvalidRedirect";e["PrefetchFailedMIMENotSupported"]="PrefetchFailedMIMENotSupported";e["PrefetchFailedNetError"]="PrefetchFailedNetError";e["PrefetchFailedNon2XX"]="PrefetchFailedNon2XX";e["PrefetchEvictedAfterCandidateRemoved"]="PrefetchEvictedAfterCandidateRemoved";e["PrefetchEvictedForNewerPrefetch"]="PrefetchEvictedForNewerPrefetch";e["PrefetchHeldback"]="PrefetchHeldback";e["PrefetchIneligibleRetryAfter"]="PrefetchIneligibleRetryAfter";e["PrefetchIsPrivacyDecoy"]="PrefetchIsPrivacyDecoy";e["PrefetchIsStale"]="PrefetchIsStale";e["PrefetchNotEligibleBrowserContextOffTheRecord"]="PrefetchNotEligibleBrowserContextOffTheRecord";e["PrefetchNotEligibleDataSaverEnabled"]="PrefetchNotEligibleDataSaverEnabled";e["PrefetchNotEligibleExistingProxy"]="PrefetchNotEligibleExistingProxy";e["PrefetchNotEligibleHostIsNonUnique"]="PrefetchNotEligibleHostIsNonUnique";e["PrefetchNotEligibleNonDefaultStoragePartition"]="PrefetchNotEligibleNonDefaultStoragePartition";e["PrefetchNotEligibleSameSiteCrossOriginPrefetchRequiredProxy"]="PrefetchNotEligibleSameSiteCrossOriginPrefetchRequiredProxy";e["PrefetchNotEligibleSchemeIsNotHttps"]="PrefetchNotEligibleSchemeIsNotHttps";e["PrefetchNotEligibleUserHasCookies"]="PrefetchNotEligibleUserHasCookies";e["PrefetchNotEligibleUserHasServiceWorker"]="PrefetchNotEligibleUserHasServiceWorker";e["PrefetchNotEligibleBatterySaverEnabled"]="PrefetchNotEligibleBatterySaverEnabled";e["PrefetchNotEligiblePreloadingDisabled"]="PrefetchNotEligiblePreloadingDisabled";e["PrefetchNotFinishedInTime"]="PrefetchNotFinishedInTime";e["PrefetchNotStarted"]="PrefetchNotStarted";e["PrefetchNotUsedCookiesChanged"]="PrefetchNotUsedCookiesChanged";e["PrefetchProxyNotAvailable"]="PrefetchProxyNotAvailable";e["PrefetchResponseUsed"]="PrefetchResponseUsed";e["PrefetchSuccessfulButNotUsed"]="PrefetchSuccessfulButNotUsed";e["PrefetchNotUsedProbeFailed"]="PrefetchNotUsedProbeFailed"})(o=e.PrefetchStatus||(e.PrefetchStatus={}))})(K||(K={}));var Q;(e=>{let t;(e=>{e["SignIn"]="SignIn";e["SignUp"]="SignUp"})(t=e.LoginState||(e.LoginState={}));let r;(e=>{e["AccountChooser"]="AccountChooser";e["AutoReauthn"]="AutoReauthn";e["ConfirmIdpLogin"]="ConfirmIdpLogin";e["Error"]="Error"})(r=e.DialogType||(e.DialogType={}));let n;(e=>{e["ConfirmIdpLoginContinue"]="ConfirmIdpLoginContinue";e["ErrorGotIt"]="ErrorGotIt";e["ErrorMoreDetails"]="ErrorMoreDetails"})(n=e.DialogButton||(e.DialogButton={}));let i;(e=>{e["TermsOfService"]="TermsOfService";e["PrivacyPolicy"]="PrivacyPolicy"})(i=e.AccountUrlType||(e.AccountUrlType={}))})(Q||(Q={}));var X;(e=>{let t;(e=>{e["Standalone"]="standalone";e["Browser"]="browser"})(t=e.DisplayMode||(e.DisplayMode={}))})(X||(X={}));var J;(e=>{let t;(e=>{e["Absent"]="absent";e["PoweredOff"]="powered-off";e["PoweredOn"]="powered-on"})(t=e.CentralState||(e.CentralState={}))})(J||(J={}));var $;(e=>{let t;(e=>{e["Global"]="global";e["Local"]="local";e["With"]="with";e["Closure"]="closure";e["Catch"]="catch";e["Block"]="block";e["Script"]="script";e["Eval"]="eval";e["Module"]="module";e["WasmExpressionStack"]="wasm-expression-stack"})(t=e.ScopeType||(e.ScopeType={}));let r;(e=>{e["DebuggerStatement"]="debuggerStatement";e["Call"]="call";e["Return"]="return"})(r=e.BreakLocationType||(e.BreakLocationType={}));let n;(e=>{e["JavaScript"]="JavaScript";e["WebAssembly"]="WebAssembly"})(n=e.ScriptLanguage||(e.ScriptLanguage={}));let i;(e=>{e["SourceMap"]="SourceMap";e["EmbeddedDWARF"]="EmbeddedDWARF";e["ExternalDWARF"]="ExternalDWARF"})(i=e.DebugSymbolsType||(e.DebugSymbolsType={}));let s;(e=>{e["Any"]="any";e["Current"]="current"})(s=e.ContinueToLocationRequestTargetCallFrames||(e.ContinueToLocationRequestTargetCallFrames={}));let o;(e=>{e["StepInto"]="StepInto"})(o=e.RestartFrameRequestMode||(e.RestartFrameRequestMode={}));let a;(e=>{e["BeforeScriptExecution"]="beforeScriptExecution";e["BeforeScriptWithSourceMapExecution"]="beforeScriptWithSourceMapExecution"})(a=e.SetInstrumentationBreakpointRequestInstrumentation||(e.SetInstrumentationBreakpointRequestInstrumentation={}));let l;(e=>{e["None"]="none";e["Caught"]="caught";e["Uncaught"]="uncaught";e["All"]="all"})(l=e.SetPauseOnExceptionsRequestState||(e.SetPauseOnExceptionsRequestState={}));let d;(e=>{e["Ok"]="Ok";e["CompileError"]="CompileError";e["BlockedByActiveGenerator"]="BlockedByActiveGenerator";e["BlockedByActiveFunction"]="BlockedByActiveFunction";e["BlockedByTopLevelEsModuleChange"]="BlockedByTopLevelEsModuleChange"})(d=e.SetScriptSourceResponseStatus||(e.SetScriptSourceResponseStatus={}));let c;(e=>{e["Ambiguous"]="ambiguous";e["Assert"]="assert";e["CSPViolation"]="CSPViolation";e["DebugCommand"]="debugCommand";e["DOM"]="DOM";e["EventListener"]="EventListener";e["Exception"]="exception";e["Instrumentation"]="instrumentation";e["OOM"]="OOM";e["Other"]="other";e["PromiseRejection"]="promiseRejection";e["XHR"]="XHR";e["Step"]="step"})(c=e.PausedEventReason||(e.PausedEventReason={}))})($||($={}));var Y;(e=>{let t;(e=>{e["Deep"]="deep";e["Json"]="json";e["IdOnly"]="idOnly"})(t=e.SerializationOptionsSerialization||(e.SerializationOptionsSerialization={}));let r;(e=>{e["Undefined"]="undefined";e["Null"]="null";e["String"]="string";e["Number"]="number";e["Boolean"]="boolean";e["Bigint"]="bigint";e["Regexp"]="regexp";e["Date"]="date";e["Symbol"]="symbol";e["Array"]="array";e["Object"]="object";e["Function"]="function";e["Map"]="map";e["Set"]="set";e["Weakmap"]="weakmap";e["Weakset"]="weakset";e["Error"]="error";e["Proxy"]="proxy";e["Promise"]="promise";e["Typedarray"]="typedarray";e["Arraybuffer"]="arraybuffer";e["Node"]="node";e["Window"]="window";e["Generator"]="generator"})(r=e.DeepSerializedValueType||(e.DeepSerializedValueType={}));let n;(e=>{e["Object"]="object";e["Function"]="function";e["Undefined"]="undefined";e["String"]="string";e["Number"]="number";e["Boolean"]="boolean";e["Symbol"]="symbol";e["Bigint"]="bigint"})(n=e.RemoteObjectType||(e.RemoteObjectType={}));let i;(e=>{e["Array"]="array";e["Null"]="null";e["Node"]="node";e["Regexp"]="regexp";e["Date"]="date";e["Map"]="map";e["Set"]="set";e["Weakmap"]="weakmap";e["Weakset"]="weakset";e["Iterator"]="iterator";e["Generator"]="generator";e["Error"]="error";e["Proxy"]="proxy";e["Promise"]="promise";e["Typedarray"]="typedarray";e["Arraybuffer"]="arraybuffer";e["Dataview"]="dataview";e["Webassemblymemory"]="webassemblymemory";e["Wasmvalue"]="wasmvalue"})(i=e.RemoteObjectSubtype||(e.RemoteObjectSubtype={}));let s;(e=>{e["Object"]="object";e["Function"]="function";e["Undefined"]="undefined";e["String"]="string";e["Number"]="number";e["Boolean"]="boolean";e["Symbol"]="symbol";e["Bigint"]="bigint"})(s=e.ObjectPreviewType||(e.ObjectPreviewType={}));let o;(e=>{e["Array"]="array";e["Null"]="null";e["Node"]="node";e["Regexp"]="regexp";e["Date"]="date";e["Map"]="map";e["Set"]="set";e["Weakmap"]="weakmap";e["Weakset"]="weakset";e["Iterator"]="iterator";e["Generator"]="generator";e["Error"]="error";e["Proxy"]="proxy";e["Promise"]="promise";e["Typedarray"]="typedarray";e["Arraybuffer"]="arraybuffer";e["Dataview"]="dataview";e["Webassemblymemory"]="webassemblymemory";e["Wasmvalue"]="wasmvalue"})(o=e.ObjectPreviewSubtype||(e.ObjectPreviewSubtype={}));let a;(e=>{e["Object"]="object";e["Function"]="function";e["Undefined"]="undefined";e["String"]="string";e["Number"]="number";e["Boolean"]="boolean";e["Symbol"]="symbol";e["Accessor"]="accessor";e["Bigint"]="bigint"})(a=e.PropertyPreviewType||(e.PropertyPreviewType={}));let l;(e=>{e["Array"]="array";e["Null"]="null";e["Node"]="node";e["Regexp"]="regexp";e["Date"]="date";e["Map"]="map";e["Set"]="set";e["Weakmap"]="weakmap";e["Weakset"]="weakset";e["Iterator"]="iterator";e["Generator"]="generator";e["Error"]="error";e["Proxy"]="proxy";e["Promise"]="promise";e["Typedarray"]="typedarray";e["Arraybuffer"]="arraybuffer";e["Dataview"]="dataview";e["Webassemblymemory"]="webassemblymemory";e["Wasmvalue"]="wasmvalue"})(l=e.PropertyPreviewSubtype||(e.PropertyPreviewSubtype={}));let d;(e=>{e["Log"]="log";e["Debug"]="debug";e["Info"]="info";e["Error"]="error";e["Warning"]="warning";e["Dir"]="dir";e["DirXML"]="dirxml";e["Table"]="table";e["Trace"]="trace";e["Clear"]="clear";e["StartGroup"]="startGroup";e["StartGroupCollapsed"]="startGroupCollapsed";e["EndGroup"]="endGroup";e["Assert"]="assert";e["Profile"]="profile";e["ProfileEnd"]="profileEnd";e["Count"]="count";e["TimeEnd"]="timeEnd"})(d=e.ConsoleAPICalledEventType||(e.ConsoleAPICalledEventType={}))})(Y||(Y={}));var Z=[{longhands:["animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction","animation-fill-mode","animation-play-state","animation-name","animation-timeline","animation-range-start","animation-range-end"],name:"-alternative-animation-with-timeline"},{inherited:true,name:"-webkit-border-horizontal-spacing"},{name:"-webkit-border-image"},{inherited:true,name:"-webkit-border-vertical-spacing"},{keywords:["stretch","start","center","end","baseline"],name:"-webkit-box-align"},{keywords:["slice","clone"],name:"-webkit-box-decoration-break"},{keywords:["normal","reverse"],name:"-webkit-box-direction"},{name:"-webkit-box-flex"},{name:"-webkit-box-ordinal-group"},{keywords:["horizontal","vertical"],name:"-webkit-box-orient"},{keywords:["start","center","end","justify"],name:"-webkit-box-pack"},{name:"-webkit-box-reflect"},{longhands:["break-after"],name:"-webkit-column-break-after"},{longhands:["break-before"],name:"-webkit-column-break-before"},{longhands:["break-inside"],name:"-webkit-column-break-inside"},{inherited:true,name:"-webkit-font-smoothing"},{inherited:true,keywords:["auto","loose","normal","strict","after-white-space","anywhere"],name:"-webkit-line-break"},{keywords:["none"],name:"-webkit-line-clamp"},{inherited:true,name:"-webkit-locale"},{longhands:["-webkit-mask-box-image-source","-webkit-mask-box-image-slice","-webkit-mask-box-image-width","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat"],name:"-webkit-mask-box-image"},{name:"-webkit-mask-box-image-outset"},{name:"-webkit-mask-box-image-repeat"},{name:"-webkit-mask-box-image-slice"},{name:"-webkit-mask-box-image-source"},{name:"-webkit-mask-box-image-width"},{name:"-webkit-mask-position-x"},{name:"-webkit-mask-position-y"},{name:"-webkit-perspective-origin-x"},{name:"-webkit-perspective-origin-y"},{inherited:true,keywords:["economy","exact"],name:"-webkit-print-color-adjust"},{inherited:true,keywords:["logical","visual"],name:"-webkit-rtl-ordering"},{inherited:true,name:"-webkit-ruby-position"},{inherited:true,name:"-webkit-tap-highlight-color"},{inherited:true,name:"-webkit-text-combine"},{inherited:true,name:"-webkit-text-decorations-in-effect"},{inherited:true,name:"-webkit-text-fill-color"},{inherited:true,name:"-webkit-text-orientation"},{inherited:true,keywords:["none","disc","circle","square"],name:"-webkit-text-security"},{inherited:true,longhands:["-webkit-text-stroke-width","-webkit-text-stroke-color"],name:"-webkit-text-stroke"},{inherited:true,name:"-webkit-text-stroke-color"},{inherited:true,name:"-webkit-text-stroke-width"},{name:"-webkit-transform-origin-x"},{name:"-webkit-transform-origin-y"},{name:"-webkit-transform-origin-z"},{keywords:["auto","none","element"],name:"-webkit-user-drag"},{inherited:true,keywords:["read-only","read-write","read-write-plaintext-only"],name:"-webkit-user-modify"},{inherited:true,name:"-webkit-writing-mode"},{inherited:true,keywords:["auto","currentcolor"],name:"accent-color"},{name:"additive-symbols"},{name:"align-content"},{name:"align-items"},{name:"align-self"},{keywords:["auto","baseline","alphabetic","ideographic","middle","central","mathematical","before-edge","text-before-edge","after-edge","text-after-edge","hanging"],name:"alignment-baseline"},{longhands:["-webkit-border-horizontal-spacing","-webkit-border-vertical-spacing","-webkit-box-align","-webkit-box-decoration-break","-webkit-box-direction","-webkit-box-flex","-webkit-box-ordinal-group","-webkit-box-orient","-webkit-box-pack","-webkit-box-reflect","-webkit-font-smoothing","-webkit-line-break","-webkit-line-clamp","-webkit-locale","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat","-webkit-mask-box-image-slice","-webkit-mask-box-image-source","-webkit-mask-box-image-width","-webkit-mask-position-x","-webkit-mask-position-y","-webkit-print-color-adjust","-webkit-rtl-ordering","-webkit-ruby-position","-webkit-tap-highlight-color","-webkit-text-combine","-webkit-text-decorations-in-effect","-webkit-text-fill-color","-webkit-text-orientation","-webkit-text-security","-webkit-text-stroke-color","-webkit-text-stroke-width","-webkit-user-drag","-webkit-writing-mode","accent-color","additive-symbols","align-content","align-items","align-self","alignment-baseline","anchor-name","anchor-scope","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","app-region","appearance","ascent-override","aspect-ratio","backdrop-filter","backface-visibility","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position-x","background-position-y","background-repeat","background-size","base-palette","baseline-shift","baseline-source","block-size","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start-color","border-block-start-style","border-block-start-width","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-start-end-radius","border-start-start-radius","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","buffered-rendering","caption-side","caret-animation","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-width","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cursor","cx","cy","d","descent-override","display","dominant-baseline","dynamic-range-limit","empty-cells","fallback","field-sizing","fill","fill-opacity","fill-rule","filter","flex-basis","flex-direction","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","font-display","font-family","font-feature-settings","font-kerning","font-optical-sizing","font-palette","font-size","font-size-adjust","font-stretch","font-style","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column-end","grid-column-start","grid-row-end","grid-row-start","grid-template-areas","grid-template-columns","grid-template-rows","height","hyphenate-character","hyphenate-limit-chars","hyphens","image-orientation","image-rendering","inherits","initial-letter","initial-value","inline-size","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","interactivity","interpolate-size","isolation","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-clamp","line-gap-override","line-height","list-style-image","list-style-position","list-style-type","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marker-end","marker-mid","marker-start","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-repeat","mask-size","mask-type","masonry-slack","masonry-template-tracks","masonry-track-end","masonry-track-start","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","navigation","negative","object-fit","object-position","object-view-box","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","origin-trial-test-property","orphans","outline-color","outline-offset","outline-style","outline-width","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","override-colors","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","pad","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-orientation","paint-order","perspective","perspective-origin","pointer-events","popover-hide-delay","popover-show-delay","position","position-anchor","position-area","position-try-fallbacks","position-try-order","position-visibility","prefix","quotes","r","range","reading-flow","resize","right","rotate","row-gap","ruby-align","ruby-position","rx","ry","scale","scroll-behavior","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-marker-group","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-start-block","scroll-start-inline","scroll-start-target","scroll-start-x","scroll-start-y","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","size","size-adjust","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","suffix","symbols","syntax","system","tab-size","table-layout","text-align","text-align-last","text-anchor","text-autospace","text-box-edge","text-box-trim","text-combine-upright","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-spacing-trim","text-transform","text-underline-offset","text-underline-position","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","types","unicode-range","user-select","vector-effect","vertical-align","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-capture-mode","view-transition-class","view-transition-group","view-transition-name","visibility","white-space-collapse","widows","width","will-change","word-break","word-spacing","writing-mode","x","y","z-index","zoom"],name:"all"},{keywords:["none"],name:"anchor-name"},{keywords:["none","all"],name:"anchor-scope"},{longhands:["animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction","animation-fill-mode","animation-play-state","animation-name"],name:"animation"},{keywords:["replace","add","accumulate"],name:"animation-composition"},{name:"animation-delay"},{keywords:["normal","reverse","alternate","alternate-reverse"],name:"animation-direction"},{name:"animation-duration"},{keywords:["none","forwards","backwards","both"],name:"animation-fill-mode"},{keywords:["infinite"],name:"animation-iteration-count"},{keywords:["none"],name:"animation-name"},{keywords:["running","paused"],name:"animation-play-state"},{longhands:["animation-range-start","animation-range-end"],name:"animation-range"},{name:"animation-range-end"},{name:"animation-range-start"},{keywords:["none","auto"],name:"animation-timeline"},{keywords:["linear","ease","ease-in","ease-out","ease-in-out","jump-both","jump-end","jump-none","jump-start","step-start","step-end"],name:"animation-timing-function"},{keywords:["none","drag","no-drag"],name:"app-region"},{name:"appearance"},{name:"ascent-override"},{keywords:["auto"],name:"aspect-ratio"},{keywords:["none"],name:"backdrop-filter"},{keywords:["visible","hidden"],name:"backface-visibility"},{longhands:["background-image","background-position-x","background-position-y","background-size","background-repeat","background-attachment","background-origin","background-clip","background-color"],name:"background"},{keywords:["scroll","fixed","local"],name:"background-attachment"},{keywords:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],name:"background-blend-mode"},{keywords:["border-box","padding-box","content-box","text"],name:"background-clip"},{keywords:["currentcolor"],name:"background-color"},{keywords:["auto","none"],name:"background-image"},{keywords:["border-box","padding-box","content-box"],name:"background-origin"},{longhands:["background-position-x","background-position-y"],name:"background-position"},{name:"background-position-x"},{name:"background-position-y"},{name:"background-repeat"},{keywords:["auto","cover","contain"],name:"background-size"},{name:"base-palette"},{keywords:["baseline","sub","super"],name:"baseline-shift"},{keywords:["auto","first","last"],name:"baseline-source"},{keywords:["auto"],name:"block-size"},{longhands:["border-top-color","border-top-style","border-top-width","border-right-color","border-right-style","border-right-width","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat"],name:"border"},{longhands:["border-block-start-color","border-block-start-style","border-block-start-width","border-block-end-color","border-block-end-style","border-block-end-width"],name:"border-block"},{longhands:["border-block-start-color","border-block-end-color"],name:"border-block-color"},{longhands:["border-block-end-width","border-block-end-style","border-block-end-color"],name:"border-block-end"},{name:"border-block-end-color"},{name:"border-block-end-style"},{name:"border-block-end-width"},{longhands:["border-block-start-width","border-block-start-style","border-block-start-color"],name:"border-block-start"},{name:"border-block-start-color"},{name:"border-block-start-style"},{name:"border-block-start-width"},{longhands:["border-block-start-style","border-block-end-style"],name:"border-block-style"},{longhands:["border-block-start-width","border-block-end-width"],name:"border-block-width"},{longhands:["border-bottom-width","border-bottom-style","border-bottom-color"],name:"border-bottom"},{keywords:["currentcolor"],name:"border-bottom-color"},{name:"border-bottom-left-radius"},{name:"border-bottom-right-radius"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"border-bottom-style"},{keywords:["thin","medium","thick"],name:"border-bottom-width"},{inherited:true,keywords:["separate","collapse"],name:"border-collapse"},{longhands:["border-top-color","border-right-color","border-bottom-color","border-left-color"],name:"border-color"},{name:"border-end-end-radius"},{name:"border-end-start-radius"},{longhands:["border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat"],name:"border-image"},{name:"border-image-outset"},{keywords:["stretch","repeat","round","space"],name:"border-image-repeat"},{name:"border-image-slice"},{keywords:["none"],name:"border-image-source"},{keywords:["auto"],name:"border-image-width"},{longhands:["border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-end-color","border-inline-end-style","border-inline-end-width"],name:"border-inline"},{longhands:["border-inline-start-color","border-inline-end-color"],name:"border-inline-color"},{longhands:["border-inline-end-width","border-inline-end-style","border-inline-end-color"],name:"border-inline-end"},{name:"border-inline-end-color"},{name:"border-inline-end-style"},{name:"border-inline-end-width"},{longhands:["border-inline-start-width","border-inline-start-style","border-inline-start-color"],name:"border-inline-start"},{name:"border-inline-start-color"},{name:"border-inline-start-style"},{name:"border-inline-start-width"},{longhands:["border-inline-start-style","border-inline-end-style"],name:"border-inline-style"},{longhands:["border-inline-start-width","border-inline-end-width"],name:"border-inline-width"},{longhands:["border-left-width","border-left-style","border-left-color"],name:"border-left"},{keywords:["currentcolor"],name:"border-left-color"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"border-left-style"},{keywords:["thin","medium","thick"],name:"border-left-width"},{longhands:["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],name:"border-radius"},{longhands:["border-right-width","border-right-style","border-right-color"],name:"border-right"},{keywords:["currentcolor"],name:"border-right-color"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"border-right-style"},{keywords:["thin","medium","thick"],name:"border-right-width"},{inherited:true,longhands:["-webkit-border-horizontal-spacing","-webkit-border-vertical-spacing"],name:"border-spacing"},{name:"border-start-end-radius"},{name:"border-start-start-radius"},{keywords:["none"],longhands:["border-top-style","border-right-style","border-bottom-style","border-left-style"],name:"border-style"},{longhands:["border-top-width","border-top-style","border-top-color"],name:"border-top"},{keywords:["currentcolor"],name:"border-top-color"},{name:"border-top-left-radius"},{name:"border-top-right-radius"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"border-top-style"},{keywords:["thin","medium","thick"],name:"border-top-width"},{longhands:["border-top-width","border-right-width","border-bottom-width","border-left-width"],name:"border-width"},{keywords:["auto"],name:"bottom"},{keywords:["slice","clone"],name:"box-decoration-break"},{keywords:["none"],name:"box-shadow"},{keywords:["content-box","border-box"],name:"box-sizing"},{keywords:["auto","avoid","avoid-column","avoid-page","column","left","page","recto","right","verso"],name:"break-after"},{keywords:["auto","avoid","avoid-column","avoid-page","column","left","page","recto","right","verso"],name:"break-before"},{keywords:["auto","avoid","avoid-column","avoid-page"],name:"break-inside"},{keywords:["auto","dynamic","static"],name:"buffered-rendering"},{inherited:true,keywords:["top","bottom"],name:"caption-side"},{inherited:true,keywords:["auto","manual"],name:"caret-animation"},{inherited:true,keywords:["auto","currentcolor"],name:"caret-color"},{keywords:["none","left","right","both","inline-start","inline-end"],name:"clear"},{keywords:["auto"],name:"clip"},{keywords:["border-box","padding-box","content-box","margin-box","fill-box","stroke-box","view-box","none"],name:"clip-path"},{inherited:true,keywords:["nonzero","evenodd"],name:"clip-rule"},{inherited:true,keywords:["currentcolor"],name:"color"},{inherited:true,keywords:["auto","srgb","linearrgb"],name:"color-interpolation"},{inherited:true,keywords:["auto","srgb","linearrgb"],name:"color-interpolation-filters"},{inherited:true,keywords:["auto","optimizespeed","optimizequality"],name:"color-rendering"},{inherited:true,name:"color-scheme"},{keywords:["auto"],name:"column-count"},{keywords:["balance","auto"],name:"column-fill"},{keywords:["normal"],name:"column-gap"},{longhands:["column-rule-width","column-rule-style","column-rule-color"],name:"column-rule"},{keywords:["currentcolor"],name:"column-rule-color"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"column-rule-style"},{keywords:["thin","medium","thick"],name:"column-rule-width"},{keywords:["none","all"],name:"column-span"},{keywords:["auto"],name:"column-width"},{longhands:["column-width","column-count"],name:"columns"},{keywords:["none","strict","content","size","layout","style","paint","inline-size","block-size"],name:"contain"},{name:"contain-intrinsic-block-size"},{keywords:["none"],name:"contain-intrinsic-height"},{name:"contain-intrinsic-inline-size"},{longhands:["contain-intrinsic-width","contain-intrinsic-height"],name:"contain-intrinsic-size"},{keywords:["none"],name:"contain-intrinsic-width"},{longhands:["container-name","container-type"],name:"container"},{keywords:["none"],name:"container-name"},{keywords:["normal","inline-size","size","scroll-state"],name:"container-type"},{name:"content"},{keywords:["visible","auto","hidden"],name:"content-visibility"},{keywords:["none"],name:"counter-increment"},{keywords:["none"],name:"counter-reset"},{keywords:["none"],name:"counter-set"},{inherited:true,keywords:["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"],name:"cursor"},{name:"cx"},{name:"cy"},{keywords:["none"],name:"d"},{name:"descent-override"},{inherited:true,keywords:["ltr","rtl"],name:"direction"},{keywords:["inline","block","list-item","inline-block","table","inline-table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption","-webkit-box","-webkit-inline-box","flex","inline-flex","grid","inline-grid","contents","flow-root","none","flow","math","ruby","ruby-text","masonry","inline-masonry"],name:"display"},{inherited:true,keywords:["auto","alphabetic","ideographic","middle","central","mathematical","hanging","use-script","no-change","reset-size","text-after-edge","text-before-edge"],name:"dominant-baseline"},{inherited:true,keywords:["standard","high","constrained-high"],name:"dynamic-range-limit"},{inherited:true,keywords:["show","hide"],name:"empty-cells"},{name:"fallback"},{keywords:["fixed","content"],name:"field-sizing"},{inherited:true,name:"fill"},{inherited:true,name:"fill-opacity"},{inherited:true,keywords:["nonzero","evenodd"],name:"fill-rule"},{keywords:["none"],name:"filter"},{longhands:["flex-grow","flex-shrink","flex-basis"],name:"flex"},{keywords:["auto","fit-content","min-content","max-content","content"],name:"flex-basis"},{keywords:["row","row-reverse","column","column-reverse"],name:"flex-direction"},{longhands:["flex-direction","flex-wrap"],name:"flex-flow"},{name:"flex-grow"},{name:"flex-shrink"},{keywords:["nowrap","wrap","wrap-reverse"],name:"flex-wrap"},{keywords:["none","left","right","inline-start","inline-end"],name:"float"},{keywords:["currentcolor"],name:"flood-color"},{name:"flood-opacity"},{inherited:true,longhands:["font-style","font-variant-ligatures","font-variant-caps","font-variant-numeric","font-variant-east-asian","font-variant-alternates","font-variant-position","font-variant-emoji","font-weight","font-stretch","font-size","line-height","font-family","font-optical-sizing","font-size-adjust","font-kerning","font-feature-settings","font-variation-settings"],name:"font"},{name:"font-display"},{inherited:true,name:"font-family"},{inherited:true,keywords:["normal"],name:"font-feature-settings"},{inherited:true,keywords:["auto","normal","none"],name:"font-kerning"},{inherited:true,keywords:["auto","none"],name:"font-optical-sizing"},{inherited:true,keywords:["normal","light","dark"],name:"font-palette"},{inherited:true,keywords:["xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller","-webkit-xxx-large"],name:"font-size"},{inherited:true,keywords:["none","ex-height","cap-height","ch-width","ic-width","ic-height","from-font"],name:"font-size-adjust"},{inherited:true,keywords:["normal","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"],name:"font-stretch"},{inherited:true,keywords:["normal","italic","oblique"],name:"font-style"},{inherited:true,longhands:["font-synthesis-weight","font-synthesis-style","font-synthesis-small-caps"],name:"font-synthesis"},{inherited:true,keywords:["auto","none"],name:"font-synthesis-small-caps"},{inherited:true,keywords:["auto","none"],name:"font-synthesis-style"},{inherited:true,keywords:["auto","none"],name:"font-synthesis-weight"},{inherited:true,longhands:["font-variant-ligatures","font-variant-caps","font-variant-alternates","font-variant-numeric","font-variant-east-asian","font-variant-position","font-variant-emoji"],name:"font-variant"},{inherited:true,keywords:["normal"],name:"font-variant-alternates"},{inherited:true,keywords:["normal","small-caps","all-small-caps","petite-caps","all-petite-caps","unicase","titling-caps"],name:"font-variant-caps"},{inherited:true,keywords:["normal","jis78","jis83","jis90","jis04","simplified","traditional","full-width","proportional-width","ruby"],name:"font-variant-east-asian"},{inherited:true,keywords:["normal","text","emoji","unicode"],name:"font-variant-emoji"},{inherited:true,keywords:["normal","none","common-ligatures","no-common-ligatures","discretionary-ligatures","no-discretionary-ligatures","historical-ligatures","no-historical-ligatures","contextual","no-contextual"],name:"font-variant-ligatures"},{inherited:true,keywords:["normal","lining-nums","oldstyle-nums","proportional-nums","tabular-nums","diagonal-fractions","stacked-fractions","ordinal","slashed-zero"],name:"font-variant-numeric"},{inherited:true,keywords:["normal","sub","super"],name:"font-variant-position"},{inherited:true,keywords:["normal"],name:"font-variation-settings"},{inherited:true,keywords:["normal","bold","bolder","lighter"],name:"font-weight"},{inherited:true,keywords:["auto","none","preserve-parent-color"],name:"forced-color-adjust"},{longhands:["row-gap","column-gap"],name:"gap"},{longhands:["grid-template-rows","grid-template-columns","grid-template-areas","grid-auto-flow","grid-auto-rows","grid-auto-columns"],name:"grid"},{longhands:["grid-row-start","grid-column-start","grid-row-end","grid-column-end"],name:"grid-area"},{keywords:["auto","min-content","max-content"],name:"grid-auto-columns"},{keywords:["row","column"],name:"grid-auto-flow"},{keywords:["auto","min-content","max-content"],name:"grid-auto-rows"},{longhands:["grid-column-start","grid-column-end"],name:"grid-column"},{keywords:["auto"],name:"grid-column-end"},{keywords:["auto"],name:"grid-column-start"},{longhands:["grid-row-start","grid-row-end"],name:"grid-row"},{keywords:["auto"],name:"grid-row-end"},{keywords:["auto"],name:"grid-row-start"},{longhands:["grid-template-rows","grid-template-columns","grid-template-areas"],name:"grid-template"},{keywords:["none"],name:"grid-template-areas"},{keywords:["none"],name:"grid-template-columns"},{keywords:["none"],name:"grid-template-rows"},{keywords:["auto","fit-content","min-content","max-content"],name:"height"},{inherited:true,name:"hyphenate-character"},{inherited:true,keywords:["auto"],name:"hyphenate-limit-chars"},{inherited:true,keywords:["none","manual","auto"],name:"hyphens"},{inherited:true,name:"image-orientation"},{inherited:true,keywords:["auto","optimizespeed","optimizequality","-webkit-optimize-contrast","pixelated"],name:"image-rendering"},{name:"inherits"},{inherited:false,keywords:["drop","normal","raise"],name:"initial-letter"},{name:"initial-value"},{keywords:["auto"],name:"inline-size"},{longhands:["top","right","bottom","left"],name:"inset"},{longhands:["inset-block-start","inset-block-end"],name:"inset-block"},{name:"inset-block-end"},{name:"inset-block-start"},{longhands:["inset-inline-start","inset-inline-end"],name:"inset-inline"},{name:"inset-inline-end"},{name:"inset-inline-start"},{inherited:true,keywords:["auto","inert"],name:"interactivity"},{inherited:true,keywords:["numeric-only","allow-keywords"],name:"interpolate-size"},{keywords:["auto","isolate"],name:"isolation"},{name:"justify-content"},{name:"justify-items"},{name:"justify-self"},{keywords:["auto"],name:"left"},{inherited:true,keywords:["normal"],name:"letter-spacing"},{keywords:["currentcolor"],name:"lighting-color"},{inherited:true,keywords:["auto","loose","normal","strict","anywhere"],name:"line-break"},{keywords:["none","auto"],name:"line-clamp"},{name:"line-gap-override"},{inherited:true,keywords:["normal"],name:"line-height"},{inherited:true,longhands:["list-style-position","list-style-image","list-style-type"],name:"list-style"},{inherited:true,keywords:["none"],name:"list-style-image"},{inherited:true,keywords:["outside","inside"],name:"list-style-position"},{inherited:true,keywords:["disc","circle","square","disclosure-open","disclosure-closed","decimal","none"],name:"list-style-type"},{longhands:["margin-top","margin-right","margin-bottom","margin-left"],name:"margin"},{longhands:["margin-block-start","margin-block-end"],name:"margin-block"},{keywords:["auto"],name:"margin-block-end"},{keywords:["auto"],name:"margin-block-start"},{keywords:["auto"],name:"margin-bottom"},{longhands:["margin-inline-start","margin-inline-end"],name:"margin-inline"},{keywords:["auto"],name:"margin-inline-end"},{keywords:["auto"],name:"margin-inline-start"},{keywords:["auto"],name:"margin-left"},{keywords:["auto"],name:"margin-right"},{keywords:["auto"],name:"margin-top"},{inherited:true,longhands:["marker-start","marker-mid","marker-end"],name:"marker"},{inherited:true,keywords:["none"],name:"marker-end"},{inherited:true,keywords:["none"],name:"marker-mid"},{inherited:true,keywords:["none"],name:"marker-start"},{longhands:["mask-image","-webkit-mask-position-x","-webkit-mask-position-y","mask-size","mask-repeat","mask-origin","mask-clip","mask-composite","mask-mode"],name:"mask"},{name:"mask-clip"},{name:"mask-composite"},{name:"mask-image"},{name:"mask-mode"},{name:"mask-origin"},{longhands:["-webkit-mask-position-x","-webkit-mask-position-y"],name:"mask-position"},{name:"mask-repeat"},{name:"mask-size"},{keywords:["luminance","alpha"],name:"mask-type"},{keywords:["normal"],name:"masonry-slack"},{name:"masonry-template-tracks"},{longhands:["masonry-track-start","masonry-track-end"],name:"masonry-track"},{keywords:["auto"],name:"masonry-track-end"},{keywords:["auto"],name:"masonry-track-start"},{inherited:true,name:"math-depth"},{inherited:true,keywords:["normal","compact"],name:"math-shift"},{inherited:true,keywords:["normal","compact"],name:"math-style"},{keywords:["none"],name:"max-block-size"},{keywords:["none"],name:"max-height"},{keywords:["none"],name:"max-inline-size"},{keywords:["none"],name:"max-width"},{name:"min-block-size"},{name:"min-height"},{name:"min-inline-size"},{name:"min-width"},{keywords:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],name:"mix-blend-mode"},{name:"navigation"},{name:"negative"},{keywords:["fill","contain","cover","none","scale-down"],name:"object-fit"},{name:"object-position"},{keywords:["none"],name:"object-view-box"},{longhands:["offset-position","offset-path","offset-distance","offset-rotate","offset-anchor"],name:"offset"},{keywords:["auto"],name:"offset-anchor"},{name:"offset-distance"},{keywords:["none"],name:"offset-path"},{keywords:["auto","normal"],name:"offset-position"},{keywords:["auto","reverse"],name:"offset-rotate"},{name:"opacity"},{name:"order"},{keywords:["normal","none"],name:"origin-trial-test-property"},{inherited:true,name:"orphans"},{longhands:["outline-color","outline-style","outline-width"],name:"outline"},{keywords:["currentcolor"],name:"outline-color"},{name:"outline-offset"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"outline-style"},{keywords:["thin","medium","thick"],name:"outline-width"},{longhands:["overflow-x","overflow-y"],name:"overflow"},{inherited:false,keywords:["visible","none","auto"],name:"overflow-anchor"},{name:"overflow-block"},{keywords:["border-box","content-box","padding-box"],name:"overflow-clip-margin"},{name:"overflow-inline"},{inherited:true,keywords:["normal","break-word","anywhere"],name:"overflow-wrap"},{keywords:["visible","hidden","scroll","auto","overlay","clip"],name:"overflow-x"},{keywords:["visible","hidden","scroll","auto","overlay","clip"],name:"overflow-y"},{keywords:["none","auto"],name:"overlay"},{name:"override-colors"},{longhands:["overscroll-behavior-x","overscroll-behavior-y"],name:"overscroll-behavior"},{name:"overscroll-behavior-block"},{name:"overscroll-behavior-inline"},{keywords:["auto","contain","none"],name:"overscroll-behavior-x"},{keywords:["auto","contain","none"],name:"overscroll-behavior-y"},{name:"pad"},{longhands:["padding-top","padding-right","padding-bottom","padding-left"],name:"padding"},{longhands:["padding-block-start","padding-block-end"],name:"padding-block"},{name:"padding-block-end"},{name:"padding-block-start"},{name:"padding-bottom"},{longhands:["padding-inline-start","padding-inline-end"],name:"padding-inline"},{name:"padding-inline-end"},{name:"padding-inline-start"},{name:"padding-left"},{name:"padding-right"},{name:"padding-top"},{keywords:["auto"],name:"page"},{longhands:["break-after"],name:"page-break-after"},{longhands:["break-before"],name:"page-break-before"},{longhands:["break-inside"],name:"page-break-inside"},{name:"page-orientation"},{inherited:true,keywords:["normal","fill","stroke","markers"],name:"paint-order"},{keywords:["none"],name:"perspective"},{name:"perspective-origin"},{longhands:["align-content","justify-content"],name:"place-content"},{longhands:["align-items","justify-items"],name:"place-items"},{longhands:["align-self","justify-self"],name:"place-self"},{inherited:true,keywords:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","bounding-box","all"],name:"pointer-events"},{name:"popover-hide-delay"},{name:"popover-show-delay"},{keywords:["static","relative","absolute","fixed","sticky"],name:"position"},{keywords:["auto"],name:"position-anchor"},{keywords:["none","top","bottom","center","left","right","x-start","x-end","y-start","y-end","start","end","self-start","self-end","all"],name:"position-area"},{longhands:["position-try-order","position-try-fallbacks"],name:"position-try"},{keywords:["none","flip-block","flip-inline","flip-start"],name:"position-try-fallbacks"},{keywords:["normal","most-width","most-height","most-block-size","most-inline-size"],name:"position-try-order"},{keywords:["always","anchors-visible","no-overflow"],name:"position-visibility"},{name:"prefix"},{inherited:true,keywords:["auto","none"],name:"quotes"},{name:"r"},{name:"range"},{keywords:["normal","flex-visual","flex-flow","grid-rows","grid-columns","grid-order"],name:"reading-flow"},{keywords:["none","both","horizontal","vertical","block","inline"],name:"resize"},{keywords:["auto"],name:"right"},{name:"rotate"},{keywords:["normal"],name:"row-gap"},{inherited:true,keywords:["space-around","start","center","space-between"],name:"ruby-align"},{inherited:true,keywords:["over","under"],name:"ruby-position"},{keywords:["auto"],name:"rx"},{keywords:["auto"],name:"ry"},{name:"scale"},{keywords:["auto","smooth"],name:"scroll-behavior"},{longhands:["scroll-margin-top","scroll-margin-right","scroll-margin-bottom","scroll-margin-left"],name:"scroll-margin"},{longhands:["scroll-margin-block-start","scroll-margin-block-end"],name:"scroll-margin-block"},{name:"scroll-margin-block-end"},{name:"scroll-margin-block-start"},{name:"scroll-margin-bottom"},{longhands:["scroll-margin-inline-start","scroll-margin-inline-end"],name:"scroll-margin-inline"},{name:"scroll-margin-inline-end"},{name:"scroll-margin-inline-start"},{name:"scroll-margin-left"},{name:"scroll-margin-right"},{name:"scroll-margin-top"},{keywords:["none","after","before"],name:"scroll-marker-group"},{longhands:["scroll-padding-top","scroll-padding-right","scroll-padding-bottom","scroll-padding-left"],name:"scroll-padding"},{longhands:["scroll-padding-block-start","scroll-padding-block-end"],name:"scroll-padding-block"},{keywords:["auto"],name:"scroll-padding-block-end"},{keywords:["auto"],name:"scroll-padding-block-start"},{keywords:["auto"],name:"scroll-padding-bottom"},{longhands:["scroll-padding-inline-start","scroll-padding-inline-end"],name:"scroll-padding-inline"},{keywords:["auto"],name:"scroll-padding-inline-end"},{keywords:["auto"],name:"scroll-padding-inline-start"},{keywords:["auto"],name:"scroll-padding-left"},{keywords:["auto"],name:"scroll-padding-right"},{keywords:["auto"],name:"scroll-padding-top"},{keywords:["none","start","end","center"],name:"scroll-snap-align"},{keywords:["normal","always"],name:"scroll-snap-stop"},{keywords:["none","x","y","block","inline","both","mandatory","proximity"],name:"scroll-snap-type"},{longhands:["scroll-start-block","scroll-start-inline"],name:"scroll-start"},{name:"scroll-start-block"},{name:"scroll-start-inline"},{keywords:["none","auto"],name:"scroll-start-target"},{name:"scroll-start-x"},{name:"scroll-start-y"},{longhands:["scroll-timeline-name","scroll-timeline-axis"],name:"scroll-timeline"},{name:"scroll-timeline-axis"},{name:"scroll-timeline-name"},{inherited:true,keywords:["auto"],name:"scrollbar-color"},{inherited:false,keywords:["auto","stable","both-edges"],name:"scrollbar-gutter"},{inherited:false,keywords:["auto","thin","none"],name:"scrollbar-width"},{name:"shape-image-threshold"},{keywords:["none"],name:"shape-margin"},{keywords:["none"],name:"shape-outside"},{inherited:true,keywords:["auto","optimizespeed","crispedges","geometricprecision"],name:"shape-rendering"},{name:"size"},{name:"size-adjust"},{inherited:true,keywords:["none","normal","spell-out","digits","literal-punctuation","no-punctuation"],name:"speak"},{name:"speak-as"},{name:"src"},{keywords:["currentcolor"],name:"stop-color"},{name:"stop-opacity"},{inherited:true,name:"stroke"},{inherited:true,keywords:["none"],name:"stroke-dasharray"},{inherited:true,name:"stroke-dashoffset"},{inherited:true,keywords:["butt","round","square"],name:"stroke-linecap"},{inherited:true,keywords:["miter","bevel","round"],name:"stroke-linejoin"},{inherited:true,name:"stroke-miterlimit"},{inherited:true,name:"stroke-opacity"},{inherited:true,name:"stroke-width"},{name:"suffix"},{name:"symbols"},{name:"syntax"},{name:"system"},{inherited:true,name:"tab-size"},{keywords:["auto","fixed"],name:"table-layout"},{inherited:true,keywords:["left","right","center","justify","-webkit-left","-webkit-right","-webkit-center","start","end"],name:"text-align"},{inherited:true,keywords:["auto","start","end","left","right","center","justify"],name:"text-align-last"},{inherited:true,keywords:["start","middle","end"],name:"text-anchor"},{inherited:true,keywords:["normal","no-autospace"],name:"text-autospace"},{longhands:["text-box-trim","text-box-edge"],name:"text-box"},{inherited:true,name:"text-box-edge"},{keywords:["none","trim-start","trim-end","trim-both"],name:"text-box-trim"},{inherited:true,keywords:["none","all"],name:"text-combine-upright"},{longhands:["text-decoration-line","text-decoration-thickness","text-decoration-style","text-decoration-color"],name:"text-decoration"},{keywords:["currentcolor"],name:"text-decoration-color"},{keywords:["none","underline","overline","line-through","blink","spelling-error","grammar-error"],name:"text-decoration-line"},{inherited:true,keywords:["none","auto"],name:"text-decoration-skip-ink"},{keywords:["solid","double","dotted","dashed","wavy"],name:"text-decoration-style"},{inherited:false,keywords:["auto","from-font"],name:"text-decoration-thickness"},{inherited:true,longhands:["text-emphasis-style","text-emphasis-color"],name:"text-emphasis"},{inherited:true,keywords:["currentcolor"],name:"text-emphasis-color"},{inherited:true,name:"text-emphasis-position"},{inherited:true,name:"text-emphasis-style"},{inherited:true,name:"text-indent"},{inherited:true,keywords:["sideways","mixed","upright"],name:"text-orientation"},{keywords:["clip","ellipsis"],name:"text-overflow"},{inherited:true,keywords:["auto","optimizespeed","optimizelegibility","geometricprecision"],name:"text-rendering"},{inherited:true,keywords:["none"],name:"text-shadow"},{inherited:true,keywords:["none","auto"],name:"text-size-adjust"},{inherited:true,longhands:["text-autospace","text-spacing-trim"],name:"text-spacing"},{inherited:true,keywords:["normal","space-all","space-first","trim-start"],name:"text-spacing-trim"},{inherited:true,keywords:["capitalize","uppercase","lowercase","none","math-auto"],name:"text-transform"},{inherited:true,keywords:["auto"],name:"text-underline-offset"},{inherited:true,keywords:["auto","from-font","under","left","right"],name:"text-underline-position"},{inherited:true,longhands:["text-wrap-mode","text-wrap-style"],name:"text-wrap"},{inherited:true,keywords:["wrap","nowrap"],name:"text-wrap-mode"},{inherited:true,keywords:["auto","balance","pretty","stable"],name:"text-wrap-style"},{name:"timeline-scope"},{keywords:["auto"],name:"top"},{keywords:["auto","none","pan-x","pan-left","pan-right","pan-y","pan-up","pan-down","pinch-zoom","manipulation"],name:"touch-action"},{keywords:["none"],name:"transform"},{keywords:["content-box","border-box","fill-box","stroke-box","view-box"],name:"transform-box"},{name:"transform-origin"},{keywords:["flat","preserve-3d"],name:"transform-style"},{longhands:["transition-property","transition-duration","transition-timing-function","transition-delay","transition-behavior"],name:"transition"},{keywords:["normal","allow-discrete"],name:"transition-behavior"},{name:"transition-delay"},{name:"transition-duration"},{keywords:["none"],name:"transition-property"},{keywords:["linear","ease","ease-in","ease-out","ease-in-out","jump-both","jump-end","jump-none","jump-start","step-start","step-end"],name:"transition-timing-function"},{name:"translate"},{name:"types"},{keywords:["normal","embed","bidi-override","isolate","plaintext","isolate-override"],name:"unicode-bidi"},{name:"unicode-range"},{inherited:true,keywords:["auto","none","text","all","contain"],name:"user-select"},{keywords:["none","non-scaling-stroke"],name:"vector-effect"},{keywords:["baseline","sub","super","text-top","text-bottom","middle"],name:"vertical-align"},{longhands:["view-timeline-name","view-timeline-axis","view-timeline-inset"],name:"view-timeline"},{name:"view-timeline-axis"},{name:"view-timeline-inset"},{name:"view-timeline-name"},{keywords:["flat","layered"],name:"view-transition-capture-mode"},{keywords:["none"],name:"view-transition-class"},{keywords:["normal","contain","nearest"],name:"view-transition-group"},{keywords:["none","auto"],name:"view-transition-name"},{inherited:true,keywords:["visible","hidden","collapse"],name:"visibility"},{inherited:true,longhands:["white-space-collapse","text-wrap-mode"],name:"white-space"},{inherited:true,keywords:["collapse","preserve","preserve-breaks","break-spaces"],name:"white-space-collapse"},{inherited:true,name:"widows"},{keywords:["auto","fit-content","min-content","max-content"],name:"width"},{keywords:["auto"],name:"will-change"},{inherited:true,keywords:["normal","break-all","keep-all","break-word","auto-phrase"],name:"word-break"},{inherited:true,keywords:["normal"],name:"word-spacing"},{inherited:true,keywords:["horizontal-tb","vertical-rl","vertical-lr","sideways-rl","sideways-lr"],name:"writing-mode"},{name:"x"},{name:"y"},{keywords:["auto"],name:"z-index"},{name:"zoom"}];var ee={"-webkit-box-align":{values:["stretch","start","center","end","baseline"]},"-webkit-box-decoration-break":{values:["slice","clone"]},"-webkit-box-direction":{values:["normal","reverse"]},"-webkit-box-orient":{values:["horizontal","vertical"]},"-webkit-box-pack":{values:["start","center","end","justify"]},"-webkit-line-break":{values:["auto","loose","normal","strict","after-white-space","anywhere"]},"-webkit-line-clamp":{values:["none"]},"-webkit-print-color-adjust":{values:["economy","exact"]},"-webkit-rtl-ordering":{values:["logical","visual"]},"-webkit-text-security":{values:["none","disc","circle","square"]},"-webkit-user-drag":{values:["auto","none","element"]},"-webkit-user-modify":{values:["read-only","read-write","read-write-plaintext-only"]},"accent-color":{values:["auto","currentcolor"]},"alignment-baseline":{values:["auto","baseline","alphabetic","ideographic","middle","central","mathematical","before-edge","text-before-edge","after-edge","text-after-edge","hanging"]},"anchor-name":{values:["none"]},"anchor-scope":{values:["none","all"]},"animation-composition":{values:["replace","add","accumulate"]},"animation-direction":{values:["normal","reverse","alternate","alternate-reverse"]},"animation-fill-mode":{values:["none","forwards","backwards","both"]},"animation-iteration-count":{values:["infinite"]},"animation-name":{values:["none"]},"animation-play-state":{values:["running","paused"]},"animation-timeline":{values:["none","auto"]},"animation-timing-function":{values:["linear","ease","ease-in","ease-out","ease-in-out","jump-both","jump-end","jump-none","jump-start","step-start","step-end"]},"app-region":{values:["none","drag","no-drag"]},"aspect-ratio":{values:["auto"]},"backdrop-filter":{values:["none"]},"backface-visibility":{values:["visible","hidden"]},"background-attachment":{values:["scroll","fixed","local"]},"background-blend-mode":{values:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},"background-clip":{values:["border-box","padding-box","content-box","text"]},"background-color":{values:["currentcolor"]},"background-image":{values:["auto","none"]},"background-origin":{values:["border-box","padding-box","content-box"]},"background-size":{values:["auto","cover","contain"]},"baseline-shift":{values:["baseline","sub","super"]},"baseline-source":{values:["auto","first","last"]},"block-size":{values:["auto"]},"border-bottom-color":{values:["currentcolor"]},"border-bottom-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"border-bottom-width":{values:["thin","medium","thick"]},"border-collapse":{values:["separate","collapse"]},"border-image-repeat":{values:["stretch","repeat","round","space"]},"border-image-source":{values:["none"]},"border-image-width":{values:["auto"]},"border-left-color":{values:["currentcolor"]},"border-left-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"border-left-width":{values:["thin","medium","thick"]},"border-right-color":{values:["currentcolor"]},"border-right-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"border-right-width":{values:["thin","medium","thick"]},"border-style":{values:["none"]},"border-top-color":{values:["currentcolor"]},"border-top-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"border-top-width":{values:["thin","medium","thick"]},bottom:{values:["auto"]},"box-decoration-break":{values:["slice","clone"]},"box-shadow":{values:["none"]},"box-sizing":{values:["content-box","border-box"]},"break-after":{values:["auto","avoid","avoid-column","avoid-page","column","left","page","recto","right","verso"]},"break-before":{values:["auto","avoid","avoid-column","avoid-page","column","left","page","recto","right","verso"]},"break-inside":{values:["auto","avoid","avoid-column","avoid-page"]},"buffered-rendering":{values:["auto","dynamic","static"]},"caption-side":{values:["top","bottom"]},"caret-animation":{values:["auto","manual"]},"caret-color":{values:["auto","currentcolor"]},clear:{values:["none","left","right","both","inline-start","inline-end"]},clip:{values:["auto"]},"clip-path":{values:["border-box","padding-box","content-box","margin-box","fill-box","stroke-box","view-box","none"]},"clip-rule":{values:["nonzero","evenodd"]},color:{values:["currentcolor"]},"color-interpolation":{values:["auto","srgb","linearrgb"]},"color-interpolation-filters":{values:["auto","srgb","linearrgb"]},"color-rendering":{values:["auto","optimizespeed","optimizequality"]},"column-count":{values:["auto"]},"column-fill":{values:["balance","auto"]},"column-gap":{values:["normal"]},"column-rule-color":{values:["currentcolor"]},"column-rule-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"column-rule-width":{values:["thin","medium","thick"]},"column-span":{values:["none","all"]},"column-width":{values:["auto"]},contain:{values:["none","strict","content","size","layout","style","paint","inline-size","block-size"]},"contain-intrinsic-height":{values:["none"]},"contain-intrinsic-width":{values:["none"]},"container-name":{values:["none"]},"container-type":{values:["normal","inline-size","size","scroll-state"]},"content-visibility":{values:["visible","auto","hidden"]},"counter-increment":{values:["none"]},"counter-reset":{values:["none"]},"counter-set":{values:["none"]},cursor:{values:["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"]},d:{values:["none"]},direction:{values:["ltr","rtl"]},display:{values:["inline","block","list-item","inline-block","table","inline-table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption","-webkit-box","-webkit-inline-box","flex","inline-flex","grid","inline-grid","contents","flow-root","none","flow","math","ruby","ruby-text","masonry","inline-masonry"]},"dominant-baseline":{values:["auto","alphabetic","ideographic","middle","central","mathematical","hanging","use-script","no-change","reset-size","text-after-edge","text-before-edge"]},"dynamic-range-limit":{values:["standard","high","constrained-high"]},"empty-cells":{values:["show","hide"]},"field-sizing":{values:["fixed","content"]},"fill-rule":{values:["nonzero","evenodd"]},filter:{values:["none"]},"flex-basis":{values:["auto","fit-content","min-content","max-content","content"]},"flex-direction":{values:["row","row-reverse","column","column-reverse"]},"flex-wrap":{values:["nowrap","wrap","wrap-reverse"]},float:{values:["none","left","right","inline-start","inline-end"]},"flood-color":{values:["currentcolor"]},"font-feature-settings":{values:["normal"]},"font-kerning":{values:["auto","normal","none"]},"font-optical-sizing":{values:["auto","none"]},"font-palette":{values:["normal","light","dark"]},"font-size":{values:["xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller","-webkit-xxx-large"]},"font-size-adjust":{values:["none","ex-height","cap-height","ch-width","ic-width","ic-height","from-font"]},"font-stretch":{values:["normal","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"]},"font-style":{values:["normal","italic","oblique"]},"font-synthesis-small-caps":{values:["auto","none"]},"font-synthesis-style":{values:["auto","none"]},"font-synthesis-weight":{values:["auto","none"]},"font-variant-alternates":{values:["normal"]},"font-variant-caps":{values:["normal","small-caps","all-small-caps","petite-caps","all-petite-caps","unicase","titling-caps"]},"font-variant-east-asian":{values:["normal","jis78","jis83","jis90","jis04","simplified","traditional","full-width","proportional-width","ruby"]},"font-variant-emoji":{values:["normal","text","emoji","unicode"]},"font-variant-ligatures":{values:["normal","none","common-ligatures","no-common-ligatures","discretionary-ligatures","no-discretionary-ligatures","historical-ligatures","no-historical-ligatures","contextual","no-contextual"]},"font-variant-numeric":{values:["normal","lining-nums","oldstyle-nums","proportional-nums","tabular-nums","diagonal-fractions","stacked-fractions","ordinal","slashed-zero"]},"font-variant-position":{values:["normal","sub","super"]},"font-variation-settings":{values:["normal"]},"font-weight":{values:["normal","bold","bolder","lighter"]},"forced-color-adjust":{values:["auto","none","preserve-parent-color"]},"grid-auto-columns":{values:["auto","min-content","max-content"]},"grid-auto-flow":{values:["row","column"]},"grid-auto-rows":{values:["auto","min-content","max-content"]},"grid-column-end":{values:["auto"]},"grid-column-start":{values:["auto"]},"grid-row-end":{values:["auto"]},"grid-row-start":{values:["auto"]},"grid-template-areas":{values:["none"]},"grid-template-columns":{values:["none"]},"grid-template-rows":{values:["none"]},height:{values:["auto","fit-content","min-content","max-content"]},"hyphenate-limit-chars":{values:["auto"]},hyphens:{values:["none","manual","auto"]},"image-rendering":{values:["auto","optimizespeed","optimizequality","-webkit-optimize-contrast","pixelated"]},"initial-letter":{values:["drop","normal","raise"]},"inline-size":{values:["auto"]},interactivity:{values:["auto","inert"]},"interpolate-size":{values:["numeric-only","allow-keywords"]},isolation:{values:["auto","isolate"]},left:{values:["auto"]},"letter-spacing":{values:["normal"]},"lighting-color":{values:["currentcolor"]},"line-break":{values:["auto","loose","normal","strict","anywhere"]},"line-clamp":{values:["none","auto"]},"line-height":{values:["normal"]},"list-style-image":{values:["none"]},"list-style-position":{values:["outside","inside"]},"list-style-type":{values:["disc","circle","square","disclosure-open","disclosure-closed","decimal","none"]},"margin-block-end":{values:["auto"]},"margin-block-start":{values:["auto"]},"margin-bottom":{values:["auto"]},"margin-inline-end":{values:["auto"]},"margin-inline-start":{values:["auto"]},"margin-left":{values:["auto"]},"margin-right":{values:["auto"]},"margin-top":{values:["auto"]},"marker-end":{values:["none"]},"marker-mid":{values:["none"]},"marker-start":{values:["none"]},"mask-type":{values:["luminance","alpha"]},"masonry-slack":{values:["normal"]},"masonry-track-end":{values:["auto"]},"masonry-track-start":{values:["auto"]},"math-shift":{values:["normal","compact"]},"math-style":{values:["normal","compact"]},"max-block-size":{values:["none"]},"max-height":{values:["none"]},"max-inline-size":{values:["none"]},"max-width":{values:["none"]},"mix-blend-mode":{values:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},"object-fit":{values:["fill","contain","cover","none","scale-down"]},"object-view-box":{values:["none"]},"offset-anchor":{values:["auto"]},"offset-path":{values:["none"]},"offset-position":{values:["auto","normal"]},"offset-rotate":{values:["auto","reverse"]},"origin-trial-test-property":{values:["normal","none"]},"outline-color":{values:["currentcolor"]},"outline-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"outline-width":{values:["thin","medium","thick"]},"overflow-anchor":{values:["visible","none","auto"]},"overflow-clip-margin":{values:["border-box","content-box","padding-box"]},"overflow-wrap":{values:["normal","break-word","anywhere"]},"overflow-x":{values:["visible","hidden","scroll","auto","overlay","clip"]},"overflow-y":{values:["visible","hidden","scroll","auto","overlay","clip"]},overlay:{values:["none","auto"]},"overscroll-behavior-x":{values:["auto","contain","none"]},"overscroll-behavior-y":{values:["auto","contain","none"]},page:{values:["auto"]},"paint-order":{values:["normal","fill","stroke","markers"]},perspective:{values:["none"]},"pointer-events":{values:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","bounding-box","all"]},position:{values:["static","relative","absolute","fixed","sticky"]},"position-anchor":{values:["auto"]},"position-area":{values:["none","top","bottom","center","left","right","x-start","x-end","y-start","y-end","start","end","self-start","self-end","all"]},"position-try-fallbacks":{values:["none","flip-block","flip-inline","flip-start"]},"position-try-order":{values:["normal","most-width","most-height","most-block-size","most-inline-size"]},"position-visibility":{values:["always","anchors-visible","no-overflow"]},quotes:{values:["auto","none"]},"reading-flow":{values:["normal","flex-visual","flex-flow","grid-rows","grid-columns","grid-order"]},resize:{values:["none","both","horizontal","vertical","block","inline"]},right:{values:["auto"]},"row-gap":{values:["normal"]},"ruby-align":{values:["space-around","start","center","space-between"]},"ruby-position":{values:["over","under"]},rx:{values:["auto"]},ry:{values:["auto"]},"scroll-behavior":{values:["auto","smooth"]},"scroll-marker-group":{values:["none","after","before"]},"scroll-padding-block-end":{values:["auto"]},"scroll-padding-block-start":{values:["auto"]},"scroll-padding-bottom":{values:["auto"]},"scroll-padding-inline-end":{values:["auto"]},"scroll-padding-inline-start":{values:["auto"]},"scroll-padding-left":{values:["auto"]},"scroll-padding-right":{values:["auto"]},"scroll-padding-top":{values:["auto"]},"scroll-snap-align":{values:["none","start","end","center"]},"scroll-snap-stop":{values:["normal","always"]},"scroll-snap-type":{values:["none","x","y","block","inline","both","mandatory","proximity"]},"scroll-start-target":{values:["none","auto"]},"scrollbar-color":{values:["auto"]},"scrollbar-gutter":{values:["auto","stable","both-edges"]},"scrollbar-width":{values:["auto","thin","none"]},"shape-margin":{values:["none"]},"shape-outside":{values:["none"]},"shape-rendering":{values:["auto","optimizespeed","crispedges","geometricprecision"]},speak:{values:["none","normal","spell-out","digits","literal-punctuation","no-punctuation"]},"stop-color":{values:["currentcolor"]},"stroke-dasharray":{values:["none"]},"stroke-linecap":{values:["butt","round","square"]},"stroke-linejoin":{values:["miter","bevel","round"]},"table-layout":{values:["auto","fixed"]},"text-align":{values:["left","right","center","justify","-webkit-left","-webkit-right","-webkit-center","start","end"]},"text-align-last":{values:["auto","start","end","left","right","center","justify"]},"text-anchor":{values:["start","middle","end"]},"text-autospace":{values:["normal","no-autospace"]},"text-box-trim":{values:["none","trim-start","trim-end","trim-both"]},"text-combine-upright":{values:["none","all"]},"text-decoration-color":{values:["currentcolor"]},"text-decoration-line":{values:["none","underline","overline","line-through","blink","spelling-error","grammar-error"]},"text-decoration-skip-ink":{values:["none","auto"]},"text-decoration-style":{values:["solid","double","dotted","dashed","wavy"]},"text-decoration-thickness":{values:["auto","from-font"]},"text-emphasis-color":{values:["currentcolor"]},"text-orientation":{values:["sideways","mixed","upright"]},"text-overflow":{values:["clip","ellipsis"]},"text-rendering":{values:["auto","optimizespeed","optimizelegibility","geometricprecision"]},"text-shadow":{values:["none"]},"text-size-adjust":{values:["none","auto"]},"text-spacing-trim":{values:["normal","space-all","space-first","trim-start"]},"text-transform":{values:["capitalize","uppercase","lowercase","none","math-auto"]},"text-underline-offset":{values:["auto"]},"text-underline-position":{values:["auto","from-font","under","left","right"]},"text-wrap-mode":{values:["wrap","nowrap"]},"text-wrap-style":{values:["auto","balance","pretty","stable"]},top:{values:["auto"]},"touch-action":{values:["auto","none","pan-x","pan-left","pan-right","pan-y","pan-up","pan-down","pinch-zoom","manipulation"]},transform:{values:["none"]},"transform-box":{values:["content-box","border-box","fill-box","stroke-box","view-box"]},"transform-style":{values:["flat","preserve-3d"]},"transition-behavior":{values:["normal","allow-discrete"]},"transition-property":{values:["none"]},"transition-timing-function":{values:["linear","ease","ease-in","ease-out","ease-in-out","jump-both","jump-end","jump-none","jump-start","step-start","step-end"]},"unicode-bidi":{values:["normal","embed","bidi-override","isolate","plaintext","isolate-override"]},"user-select":{values:["auto","none","text","all","contain"]},"vector-effect":{values:["none","non-scaling-stroke"]},"vertical-align":{values:["baseline","sub","super","text-top","text-bottom","middle"]},"view-transition-capture-mode":{values:["flat","layered"]},"view-transition-class":{values:["none"]},"view-transition-group":{values:["normal","contain","nearest"]},"view-transition-name":{values:["none","auto"]},visibility:{values:["visible","hidden","collapse"]},"white-space-collapse":{values:["collapse","preserve","preserve-breaks","break-spaces"]},width:{values:["auto","fit-content","min-content","max-content"]},"will-change":{values:["auto"]},"word-break":{values:["normal","break-all","keep-all","break-word","auto-phrase"]},"word-spacing":{values:["normal"]},"writing-mode":{values:["horizontal-tb","vertical-rl","vertical-lr","sideways-rl","sideways-lr"]},"z-index":{values:["auto"]}};var te=new Map([["-epub-caption-side","caption-side"],["-epub-text-combine","-webkit-text-combine"],["-epub-text-emphasis","text-emphasis"],["-epub-text-emphasis-color","text-emphasis-color"],["-epub-text-emphasis-style","text-emphasis-style"],["-epub-text-orientation","-webkit-text-orientation"],["-epub-text-transform","text-transform"],["-epub-word-break","word-break"],["-epub-writing-mode","-webkit-writing-mode"],["-webkit-align-content","align-content"],["-webkit-align-items","align-items"],["-webkit-align-self","align-self"],["-webkit-alternative-animation-with-timeline","-alternative-animation-with-timeline"],["-webkit-animation","animation"],["-webkit-animation-delay","animation-delay"],["-webkit-animation-direction","animation-direction"],["-webkit-animation-duration","animation-duration"],["-webkit-animation-fill-mode","animation-fill-mode"],["-webkit-animation-iteration-count","animation-iteration-count"],["-webkit-animation-name","animation-name"],["-webkit-animation-play-state","animation-play-state"],["-webkit-animation-timing-function","animation-timing-function"],["-webkit-app-region","app-region"],["-webkit-appearance","appearance"],["-webkit-backface-visibility","backface-visibility"],["-webkit-background-clip","background-clip"],["-webkit-background-origin","background-origin"],["-webkit-background-size","background-size"],["-webkit-border-after","border-block-end"],["-webkit-border-after-color","border-block-end-color"],["-webkit-border-after-style","border-block-end-style"],["-webkit-border-after-width","border-block-end-width"],["-webkit-border-before","border-block-start"],["-webkit-border-before-color","border-block-start-color"],["-webkit-border-before-style","border-block-start-style"],["-webkit-border-before-width","border-block-start-width"],["-webkit-border-bottom-left-radius","border-bottom-left-radius"],["-webkit-border-bottom-right-radius","border-bottom-right-radius"],["-webkit-border-end","border-inline-end"],["-webkit-border-end-color","border-inline-end-color"],["-webkit-border-end-style","border-inline-end-style"],["-webkit-border-end-width","border-inline-end-width"],["-webkit-border-radius","border-radius"],["-webkit-border-start","border-inline-start"],["-webkit-border-start-color","border-inline-start-color"],["-webkit-border-start-style","border-inline-start-style"],["-webkit-border-start-width","border-inline-start-width"],["-webkit-border-top-left-radius","border-top-left-radius"],["-webkit-border-top-right-radius","border-top-right-radius"],["-webkit-box-shadow","box-shadow"],["-webkit-box-sizing","box-sizing"],["-webkit-clip-path","clip-path"],["-webkit-column-count","column-count"],["-webkit-column-gap","column-gap"],["-webkit-column-rule","column-rule"],["-webkit-column-rule-color","column-rule-color"],["-webkit-column-rule-style","column-rule-style"],["-webkit-column-rule-width","column-rule-width"],["-webkit-column-span","column-span"],["-webkit-column-width","column-width"],["-webkit-columns","columns"],["-webkit-filter","filter"],["-webkit-flex","flex"],["-webkit-flex-basis","flex-basis"],["-webkit-flex-direction","flex-direction"],["-webkit-flex-flow","flex-flow"],["-webkit-flex-grow","flex-grow"],["-webkit-flex-shrink","flex-shrink"],["-webkit-flex-wrap","flex-wrap"],["-webkit-font-feature-settings","font-feature-settings"],["-webkit-hyphenate-character","hyphenate-character"],["-webkit-justify-content","justify-content"],["-webkit-logical-height","block-size"],["-webkit-logical-width","inline-size"],["-webkit-margin-after","margin-block-end"],["-webkit-margin-before","margin-block-start"],["-webkit-margin-end","margin-inline-end"],["-webkit-margin-start","margin-inline-start"],["-webkit-mask","mask"],["-webkit-mask-clip","mask-clip"],["-webkit-mask-composite","mask-composite"],["-webkit-mask-image","mask-image"],["-webkit-mask-origin","mask-origin"],["-webkit-mask-position","mask-position"],["-webkit-mask-repeat","mask-repeat"],["-webkit-mask-size","mask-size"],["-webkit-max-logical-height","max-block-size"],["-webkit-max-logical-width","max-inline-size"],["-webkit-min-logical-height","min-block-size"],["-webkit-min-logical-width","min-inline-size"],["-webkit-opacity","opacity"],["-webkit-order","order"],["-webkit-padding-after","padding-block-end"],["-webkit-padding-before","padding-block-start"],["-webkit-padding-end","padding-inline-end"],["-webkit-padding-start","padding-inline-start"],["-webkit-perspective","perspective"],["-webkit-perspective-origin","perspective-origin"],["-webkit-shape-image-threshold","shape-image-threshold"],["-webkit-shape-margin","shape-margin"],["-webkit-shape-outside","shape-outside"],["-webkit-text-emphasis","text-emphasis"],["-webkit-text-emphasis-color","text-emphasis-color"],["-webkit-text-emphasis-position","text-emphasis-position"],["-webkit-text-emphasis-style","text-emphasis-style"],["-webkit-text-size-adjust","text-size-adjust"],["-webkit-transform","transform"],["-webkit-transform-origin","transform-origin"],["-webkit-transform-style","transform-style"],["-webkit-transition","transition"],["-webkit-transition-delay","transition-delay"],["-webkit-transition-duration","transition-duration"],["-webkit-transition-property","transition-property"],["-webkit-transition-timing-function","transition-timing-function"],["-webkit-user-select","user-select"],["grid-column-gap","column-gap"],["grid-gap","gap"],["grid-row-gap","row-gap"],["word-wrap","overflow-wrap"]]);import*as re from"./../common/common.js";var ne=class e{#t;#r;#n;#i;#s;#o;#a;#l;#d;#c;constructor(t,r){this.#t=[];this.#r=new Map;this.#n=new Map;this.#i=new Set;this.#s=new Set;this.#o=new Map;this.#a=r;for(let e=0;e<t.length;++e){const r=t[e];const n=r.name;if(!CSS.supports(n,"initial")){continue}this.#t.push(n);if(r.inherited){this.#i.add(n)}if(r.svg){this.#s.add(n)}const i=t[e].longhands;if(i){this.#r.set(n,i);for(let e=0;e<i.length;++e){const t=i[e];let r=this.#n.get(t);if(!r){r=[];this.#n.set(t,r)}r.push(n)}}}this.#t.sort(e.sortPrefixesAndCSSWideKeywordsToEnd);this.#l=new Set(this.#t);const n=new Map;for(const[e,t]of Object.entries(ee)){n.set(e,new Set(t.values))}for(const[e,t]of Re){const r=n.get(e);if(r){n.set(e,r.union(t))}else{n.set(e,t)}}for(const[e,t]of n){for(const r of Ee){if(!t.has(r)&&CSS.supports(e,r)){t.add(r)}}this.#o.set(e,[...t])}this.#d=[];this.#c=[];for(const t of this.#l){const r=this.specificPropertyValues(t).filter((e=>CSS.supports(t,e))).sort(e.sortPrefixesAndCSSWideKeywordsToEnd);const n=r.map((e=>`${t}: ${e}`));if(!this.isSVGProperty(t)){this.#d.push(...n)}this.#c.push(...n)}}static isCSSWideKeyword(e){return se.includes(e)}static isPositionTryOrderKeyword(e){return ae.includes(e)}static sortPrefixesAndCSSWideKeywordsToEnd(t,r){const n=e.isCSSWideKeyword(t);const i=e.isCSSWideKeyword(r);if(n&&!i){return 1}if(!n&&i){return-1}const s=t.startsWith("-webkit-");const o=r.startsWith("-webkit-");if(s&&!o){return 1}if(!s&&o){return-1}return t<r?-1:t>r?1:0}allProperties(){return this.#t}aliasesFor(){return this.#a}nameValuePresets(e){return e?this.#c:this.#d}isSVGProperty(e){e=e.toLowerCase();return this.#s.has(e)}getLonghands(e){return this.#r.get(e)||null}getShorthands(e){return this.#n.get(e)||null}isColorAwareProperty(e){return Ie.has(e.toLowerCase())||this.isCustomProperty(e.toLowerCase())}isFontFamilyProperty(e){return e.toLowerCase()==="font-family"}isAngleAwareProperty(e){const t=e.toLowerCase();return Ie.has(t)||ke.has(t)}isGridAreaDefiningProperty(e){e=e.toLowerCase();return e==="grid"||e==="grid-template"||e==="grid-template-areas"}isGridColumnNameAwareProperty(e){e=e.toLowerCase();return["grid-column","grid-column-start","grid-column-end"].includes(e)}isGridRowNameAwareProperty(e){e=e.toLowerCase();return["grid-row","grid-row-start","grid-row-end"].includes(e)}isGridAreaNameAwareProperty(e){e=e.toLowerCase();return e==="grid-area"}isGridNameAwareProperty(e){return this.isGridAreaNameAwareProperty(e)||this.isGridColumnNameAwareProperty(e)||this.isGridRowNameAwareProperty(e)}isLengthProperty(e){e=e.toLowerCase();if(e==="line-height"){return false}return Se.has(e)||e.startsWith("margin")||e.startsWith("padding")||e.indexOf("width")!==-1||e.indexOf("height")!==-1}isBezierAwareProperty(e){e=e.toLowerCase();return ve.has(e)||this.isCustomProperty(e)}isFontAwareProperty(e){e=e.toLowerCase();return be.has(e)||this.isCustomProperty(e)}isCustomProperty(e){return e.startsWith("--")}isShadowProperty(e){e=e.toLowerCase();return e==="box-shadow"||e==="text-shadow"||e==="-webkit-box-shadow"}isStringProperty(e){e=e.toLowerCase();return e==="content"}canonicalPropertyName(e){if(this.isCustomProperty(e)){return e}e=e.toLowerCase();const t=this.#a.get(e);if(t){return t}if(!e||e.length<9||e.charAt(0)!=="-"){return e}const r=e.match(/(?:-webkit-)(.+)/);if(!r||!this.#l.has(r[1])){return e}return r[1]}isCSSPropertyName(e){e=e.toLowerCase();if(e.startsWith("--")&&e.length>2||e.startsWith("-moz-")||e.startsWith("-ms-")||e.startsWith("-o-")||e.startsWith("-webkit-")){return true}return this.#l.has(e)}isPropertyInherited(e){e=e.toLowerCase();return e.startsWith("--")||this.#i.has(this.canonicalPropertyName(e))||this.#i.has(e)}specificPropertyValues(e){const t=e.replace(/^-webkit-/,"");const r=this.#o;let n=r.get(e)||r.get(t);if(!n){n=[];for(const t of Ee){if(CSS.supports(e,t)){n.push(t)}}r.set(e,n)}return n}getPropertyValues(t){t=t.toLowerCase();const r=[...this.specificPropertyValues(t),...se];if(this.isColorAwareProperty(t)){r.push("currentColor");for(const e of re.Color.Nicknames.keys()){r.push(e)}}return r.sort(e.sortPrefixesAndCSSWideKeywordsToEnd)}propertyUsageWeight(e){return Te.get(e)||Te.get(this.canonicalPropertyName(e))||0}getValuePreset(e,t){const r=ye.get(e);let n=r?r.get(t):null;if(!n){return null}let i=n.length;let s=n.length;if(n){i=n.indexOf("|");s=n.lastIndexOf("|");s=i===s?s:s-1;n=n.replace(/\|/g,"")}return{text:n,startColumn:i,endColumn:s}}isHighlightPseudoType(e){return e===R.PseudoType.Highlight||e===R.PseudoType.Selection||e===R.PseudoType.TargetText||e===R.PseudoType.GrammarError||e===R.PseudoType.SpellingError}};var ie=(e=>{e["INHERIT"]="inherit";e["INITIAL"]="initial";e["REVERT"]="revert";e["REVERT_LAYER"]="revert-layer";e["UNSET"]="unset";return e})(ie||{});var se=["inherit","initial","revert","revert-layer","unset"];var oe=(e=>{e["NORMAL"]="normal";e["MOST_HEIGHT"]="most-height";e["MOST_WIDTH"]="most-width";e["MOST_BLOCK_SIZE"]="most-block-size";e["MOST_INLINE_SIZE"]="most-inline-size";return e})(oe||{});var ae=["normal","most-height","most-width","most-block-size","most-inline-size"];var le=/(\s*--.*?)/gs;var de=/(var\(\s*--.*?\))/gs;var ce=/(var\(*--[\w\d]+-([\w]+-[\w]+)\))/g;var ue=/url\(\s*('.+?'|".+?"|[^)]+)\s*\)/g;var he=/((?:\[[\w\- ]+\]\s*)*(?:"[^"]+"|'[^']+'))[^'"\[]*\[?[^'"\[]*/;var ge=null;function pe(){if(!ge){const e=Z;ge=new ne(e,te)}return ge}var me=new Map([["linear-gradient","linear-gradient(|45deg, black, transparent|)"],["radial-gradient","radial-gradient(|black, transparent|)"],["repeating-linear-gradient","repeating-linear-gradient(|45deg, black, transparent 100px|)"],["repeating-radial-gradient","repeating-radial-gradient(|black, transparent 100px|)"],["url","url(||)"]]);var fe=new Map([["blur","blur(|1px|)"],["brightness","brightness(|0.5|)"],["contrast","contrast(|0.5|)"],["drop-shadow","drop-shadow(|2px 4px 6px black|)"],["grayscale","grayscale(|1|)"],["hue-rotate","hue-rotate(|45deg|)"],["invert","invert(|1|)"],["opacity","opacity(|0.5|)"],["saturate","saturate(|0.5|)"],["sepia","sepia(|1|)"],["url","url(||)"]]);var ye=new Map([["filter",fe],["backdrop-filter",fe],["background",me],["background-image",me],["-webkit-mask-image",me],["transform",new Map([["scale","scale(|1.5|)"],["scaleX","scaleX(|1.5|)"],["scaleY","scaleY(|1.5|)"],["scale3d","scale3d(|1.5, 1.5, 1.5|)"],["rotate","rotate(|45deg|)"],["rotateX","rotateX(|45deg|)"],["rotateY","rotateY(|45deg|)"],["rotateZ","rotateZ(|45deg|)"],["rotate3d","rotate3d(|1, 1, 1, 45deg|)"],["skew","skew(|10deg, 10deg|)"],["skewX","skewX(|10deg|)"],["skewY","skewY(|10deg|)"],["translate","translate(|10px, 10px|)"],["translateX","translateX(|10px|)"],["translateY","translateY(|10px|)"],["translateZ","translateZ(|10px|)"],["translate3d","translate3d(|10px, 10px, 10px|)"],["matrix","matrix(|1, 0, 0, 1, 0, 0|)"],["matrix3d","matrix3d(|1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1|)"],["perspective","perspective(|10px|)"]])]]);var Se=new Set(["background-position","border-spacing","bottom","font-size","height","left","letter-spacing","max-height","max-width","min-height","min-width","right","text-indent","top","width","word-spacing","grid-row-gap","grid-column-gap","row-gap"]);var ve=new Set(["animation","animation-timing-function","transition","transition-timing-function","-webkit-animation","-webkit-animation-timing-function","-webkit-transition","-webkit-transition-timing-function"]);var be=new Set(["font-size","line-height","font-weight","font-family","letter-spacing"]);var Ie=new Set(["accent-color","background","background-color","background-image","border","border-color","border-image","border-image-source","border-bottom","border-bottom-color","border-left","border-left-color","border-right","border-right-color","border-top","border-top-color","border-block-end","border-block-end-color","border-block-start","border-block-start-color","border-inline-end","border-inline-end-color","border-inline-start","border-inline-start-color","box-shadow","caret-color","color","column-rule","column-rule-color","content","fill","list-style-image","mask","mask-image","mask-border","mask-border-source","outline","outline-color","scrollbar-color","stop-color","stroke","text-decoration-color","text-shadow","text-emphasis","text-emphasis-color","-webkit-border-after","-webkit-border-after-color","-webkit-border-before","-webkit-border-before-color","-webkit-border-end","-webkit-border-end-color","-webkit-border-start","-webkit-border-start-color","-webkit-box-reflect","-webkit-box-shadow","-webkit-column-rule-color","-webkit-mask","-webkit-mask-box-image","-webkit-mask-box-image-source","-webkit-mask-image","-webkit-tap-highlight-color","-webkit-text-emphasis","-webkit-text-emphasis-color","-webkit-text-fill-color","-webkit-text-stroke","-webkit-text-stroke-color"]);var ke=new Set(["-webkit-border-image","transform","-webkit-transform","rotate","filter","-webkit-filter","backdrop-filter","offset","offset-rotate","font-style"]);var we=new Set(["over","under","over right","over left","under right","under left"]);var Ce=new Set(["none","dot","circle","double-circle","triangle","sesame","filled","open","dot open","circle open","double-circle open","triangle open","sesame open",'"❤️"']);var Re=new Map([["background-repeat",new Set(["repeat","repeat-x","repeat-y","no-repeat","space","round"])],["content",new Set(["normal","close-quote","no-close-quote","no-open-quote","open-quote"])],["baseline-shift",new Set(["baseline"])],["max-height",new Set(["min-content","max-content","-webkit-fill-available","fit-content"])],["color",new Set(["black"])],["background-color",new Set(["white"])],["box-shadow",new Set(["inset"])],["text-shadow",new Set(["0 0 black"])],["-webkit-writing-mode",new Set(["horizontal-tb","vertical-rl","vertical-lr"])],["writing-mode",new Set(["lr","rl","tb","lr-tb","rl-tb","tb-rl"])],["page-break-inside",new Set(["avoid"])],["cursor",new Set(["-webkit-zoom-in","-webkit-zoom-out","-webkit-grab","-webkit-grabbing"])],["border-width",new Set(["medium","thick","thin"])],["border-style",new Set(["hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"])],["size",new Set(["a3","a4","a5","b4","b5","landscape","ledger","legal","letter","portrait"])],["overflow",new Set(["hidden","visible","overlay","scroll"])],["overscroll-behavior",new Set(["contain"])],["text-rendering",new Set(["optimizeSpeed","optimizeLegibility","geometricPrecision"])],["text-align",new Set(["-webkit-auto","-webkit-match-parent"])],["clip-path",new Set(["circle","ellipse","inset","polygon","url"])],["color-interpolation",new Set(["sRGB","linearRGB"])],["word-wrap",new Set(["normal","break-word"])],["font-weight",new Set(["100","200","300","400","500","600","700","800","900"])],["text-emphasis",Ce],["-webkit-text-emphasis",Ce],["color-rendering",new Set(["optimizeSpeed","optimizeQuality"])],["-webkit-text-combine",new Set(["horizontal"])],["text-orientation",new Set(["sideways-right"])],["outline",new Set(["inset","groove","ridge","outset","dotted","dashed","solid","double","medium","thick","thin"])],["font",new Set(["caption","icon","menu","message-box","small-caption","-webkit-mini-control","-webkit-small-control","-webkit-control","status-bar"])],["dominant-baseline",new Set(["text-before-edge","text-after-edge","use-script","no-change","reset-size"])],["text-emphasis-position",we],["-webkit-text-emphasis-position",we],["alignment-baseline",new Set(["before-edge","after-edge","text-before-edge","text-after-edge","hanging"])],["page-break-before",new Set(["left","right","always","avoid"])],["border-image",new Set(["repeat","stretch","space","round"])],["text-decoration",new Set(["blink","line-through","overline","underline","wavy","double","solid","dashed","dotted"])],["font-family",new Set(["serif","sans-serif","cursive","fantasy","monospace","system-ui","emoji","math","fangsong","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","-webkit-body"])],["zoom",new Set(["normal"])],["max-width",new Set(["min-content","max-content","-webkit-fill-available","fit-content"])],["-webkit-font-smoothing",new Set(["antialiased","subpixel-antialiased"])],["border",new Set(["hidden","inset","groove","ridge","outset","dotted","dashed","solid","double","medium","thick","thin"])],["font-variant",new Set(["small-caps","normal","common-ligatures","no-common-ligatures","discretionary-ligatures","no-discretionary-ligatures","historical-ligatures","no-historical-ligatures","contextual","no-contextual","all-small-caps","petite-caps","all-petite-caps","unicase","titling-caps","lining-nums","oldstyle-nums","proportional-nums","tabular-nums","diagonal-fractions","stacked-fractions","ordinal","slashed-zero","jis78","jis83","jis90","jis04","simplified","traditional","full-width","proportional-width","ruby"])],["vertical-align",new Set(["top","bottom","-webkit-baseline-middle"])],["page-break-after",new Set(["left","right","always","avoid"])],["text-emphasis-style",Ce],["-webkit-text-emphasis-style",Ce],["transform",new Set(["scale","scaleX","scaleY","scale3d","rotate","rotateX","rotateY","rotateZ","rotate3d","skew","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","matrix","matrix3d","perspective"])],["align-content",new Set(["normal","baseline","space-between","space-around","space-evenly","stretch","center","start","end","flex-start","flex-end"])],["justify-content",new Set(["normal","space-between","space-around","space-evenly","stretch","center","start","end","flex-start","flex-end","left","right"])],["place-content",new Set(["normal","space-between","space-around","space-evenly","stretch","center","start","end","flex-start","flex-end","baseline"])],["align-items",new Set(["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end","anchor-center"])],["justify-items",new Set(["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end","left","right","legacy","anchor-center"])],["place-items",new Set(["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end","anchor-center"])],["align-self",new Set(["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end","anchor-center"])],["justify-self",new Set(["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end","left","right","anchor-center"])],["place-self",new Set(["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end","anchor-center"])],["perspective-origin",new Set(["left","center","right","top","bottom"])],["transform-origin",new Set(["left","center","right","top","bottom"])],["transition-timing-function",new Set(["cubic-bezier","steps"])],["animation-timing-function",new Set(["cubic-bezier","steps"])],["-webkit-backface-visibility",new Set(["visible","hidden"])],["-webkit-column-break-after",new Set(["always","avoid"])],["-webkit-column-break-before",new Set(["always","avoid"])],["-webkit-column-break-inside",new Set(["avoid"])],["-webkit-column-span",new Set(["all"])],["-webkit-column-gap",new Set(["normal"])],["filter",new Set(["url","blur","brightness","contrast","drop-shadow","grayscale","hue-rotate","invert","opacity","saturate","sepia"])],["backdrop-filter",new Set(["url","blur","brightness","contrast","drop-shadow","grayscale","hue-rotate","invert","opacity","saturate","sepia"])],["grid-template-columns",new Set(["min-content","max-content"])],["grid-template-rows",new Set(["min-content","max-content"])],["grid-auto-flow",new Set(["dense"])],["background",new Set(["repeat","repeat-x","repeat-y","no-repeat","top","bottom","left","right","center","fixed","local","scroll","space","round","border-box","content-box","padding-box","linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient","url"])],["background-image",new Set(["linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient","url"])],["background-position",new Set(["top","bottom","left","right","center"])],["background-position-x",new Set(["left","right","center"])],["background-position-y",new Set(["top","bottom","center"])],["background-repeat-x",new Set(["repeat","no-repeat"])],["background-repeat-y",new Set(["repeat","no-repeat"])],["border-bottom",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"])],["border-left",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"])],["border-right",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"])],["border-top",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"])],["buffered-rendering",new Set(["static","dynamic"])],["color-interpolation-filters",new Set(["srgb","linearrgb"])],["column-rule",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"])],["flex-flow",new Set(["nowrap","row","row-reverse","column","column-reverse","wrap","wrap-reverse"])],["height",new Set(["-webkit-fill-available"])],["inline-size",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["list-style",new Set(["outside","inside","disc","circle","square","decimal","decimal-leading-zero","arabic-indic","bengali","cambodian","khmer","devanagari","gujarati","gurmukhi","kannada","lao","malayalam","mongolian","myanmar","oriya","persian","urdu","telugu","tibetan","thai","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","cjk-earthly-branch","cjk-heavenly-stem","ethiopic-halehame","ethiopic-halehame-am","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","hangul","hangul-consonant","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","hebrew","armenian","lower-armenian","upper-armenian","georgian","cjk-ideographic","simp-chinese-formal","simp-chinese-informal","trad-chinese-formal","trad-chinese-informal","hiragana","katakana","hiragana-iroha","katakana-iroha"])],["max-block-size",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["max-inline-size",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["min-block-size",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["min-height",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["min-inline-size",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["min-width",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["object-position",new Set(["top","bottom","left","right","center"])],["shape-outside",new Set(["border-box","content-box","padding-box","margin-box"])],["-webkit-appearance",new Set(["checkbox","radio","push-button","square-button","button","inner-spin-button","listbox","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","menulist","menulist-button","meter","progress-bar","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","searchfield","searchfield-cancel-button","textfield","textarea"])],["-webkit-border-after",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"])],["-webkit-border-after-style",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"])],["-webkit-border-after-width",new Set(["medium","thick","thin"])],["-webkit-border-before",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"])],["-webkit-border-before-style",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"])],["-webkit-border-before-width",new Set(["medium","thick","thin"])],["-webkit-border-end",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"])],["-webkit-border-end-style",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"])],["-webkit-border-end-width",new Set(["medium","thick","thin"])],["-webkit-border-start",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"])],["-webkit-border-start-style",new Set(["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"])],["-webkit-border-start-width",new Set(["medium","thick","thin"])],["-webkit-logical-height",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["-webkit-logical-width",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["-webkit-mask-box-image",new Set(["repeat","stretch","space","round"])],["-webkit-mask-box-image-repeat",new Set(["repeat","stretch","space","round"])],["-webkit-mask-clip",new Set(["text","border","border-box","content","content-box","padding","padding-box"])],["-webkit-mask-composite",new Set(["clear","copy","source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","plus-lighter"])],["-webkit-mask-image",new Set(["linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient","url"])],["-webkit-mask-origin",new Set(["border","border-box","content","content-box","padding","padding-box"])],["-webkit-mask-position",new Set(["top","bottom","left","right","center"])],["-webkit-mask-position-x",new Set(["left","right","center"])],["-webkit-mask-position-y",new Set(["top","bottom","center"])],["-webkit-mask-repeat",new Set(["repeat","repeat-x","repeat-y","no-repeat","space","round"])],["-webkit-mask-size",new Set(["contain","cover"])],["-webkit-max-logical-height",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["-webkit-max-logical-width",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["-webkit-min-logical-height",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["-webkit-min-logical-width",new Set(["-webkit-fill-available","min-content","max-content","fit-content"])],["-webkit-perspective-origin-x",new Set(["left","right","center"])],["-webkit-perspective-origin-y",new Set(["top","bottom","center"])],["-webkit-text-decorations-in-effect",new Set(["blink","line-through","overline","underline"])],["-webkit-text-stroke",new Set(["medium","thick","thin"])],["-webkit-text-stroke-width",new Set(["medium","thick","thin"])],["-webkit-transform-origin-x",new Set(["left","right","center"])],["-webkit-transform-origin-y",new Set(["top","bottom","center"])],["width",new Set(["-webkit-fill-available"])],["contain-intrinsic-width",new Set(["auto none","auto 100px"])],["contain-intrinsic-height",new Set(["auto none","auto 100px"])],["contain-intrinsic-size",new Set(["auto none","auto 100px"])],["contain-intrinsic-inline-size",new Set(["auto none","auto 100px"])],["contain-intrinsic-block-size",new Set(["auto none","auto 100px"])],["white-space",new Set(["normal","pre","pre-wrap","pre-line","nowrap","break-spaces"])],["text-box-edge",new Set(["auto","text","cap","ex","text alphabetic","cap alphabetic","ex alphabetic"])]]);var Te=new Map([["align-content",57],["align-items",129],["align-self",55],["animation",175],["animation-delay",114],["animation-direction",113],["animation-duration",137],["animation-fill-mode",132],["animation-iteration-count",124],["animation-name",139],["animation-play-state",104],["animation-timing-function",141],["backface-visibility",123],["background",260],["background-attachment",119],["background-clip",165],["background-color",259],["background-image",246],["background-origin",107],["background-position",237],["background-position-x",108],["background-position-y",93],["background-repeat",234],["background-size",203],["border",263],["border-bottom",233],["border-bottom-color",190],["border-bottom-left-radius",186],["border-bottom-right-radius",185],["border-bottom-style",150],["border-bottom-width",179],["border-collapse",209],["border-color",226],["border-image",89],["border-image-outset",50],["border-image-repeat",49],["border-image-slice",58],["border-image-source",32],["border-image-width",52],["border-left",221],["border-left-color",174],["border-left-style",142],["border-left-width",172],["border-radius",224],["border-right",223],["border-right-color",182],["border-right-style",130],["border-right-width",178],["border-spacing",198],["border-style",206],["border-top",231],["border-top-color",192],["border-top-left-radius",187],["border-top-right-radius",189],["border-top-style",152],["border-top-width",180],["border-width",214],["bottom",227],["box-shadow",213],["box-sizing",216],["caption-side",96],["clear",229],["clip",173],["clip-rule",5],["color",256],["content",219],["counter-increment",111],["counter-reset",110],["cursor",250],["direction",176],["display",262],["empty-cells",99],["fill",140],["fill-opacity",82],["fill-rule",22],["filter",160],["flex",133],["flex-basis",66],["flex-direction",85],["flex-flow",94],["flex-grow",112],["flex-shrink",61],["flex-wrap",68],["float",252],["font",211],["font-family",254],["font-kerning",18],["font-size",264],["font-stretch",77],["font-style",220],["font-variant",161],["font-weight",257],["height",266],["image-rendering",90],["justify-content",127],["left",248],["letter-spacing",188],["line-height",244],["list-style",215],["list-style-image",145],["list-style-position",149],["list-style-type",199],["margin",267],["margin-bottom",241],["margin-left",243],["margin-right",238],["margin-top",253],["mask",20],["max-height",205],["max-width",225],["min-height",217],["min-width",218],["object-fit",33],["opacity",251],["order",117],["orphans",146],["outline",222],["outline-color",153],["outline-offset",147],["outline-style",151],["outline-width",148],["overflow",255],["overflow-wrap",105],["overflow-x",184],["overflow-y",196],["padding",265],["padding-bottom",230],["padding-left",235],["padding-right",232],["padding-top",240],["page",8],["page-break-after",120],["page-break-before",69],["page-break-inside",121],["perspective",92],["perspective-origin",103],["pointer-events",183],["position",261],["quotes",158],["resize",168],["right",245],["shape-rendering",38],["size",64],["speak",118],["src",170],["stop-color",42],["stop-opacity",31],["stroke",98],["stroke-dasharray",36],["stroke-dashoffset",3],["stroke-linecap",30],["stroke-linejoin",21],["stroke-miterlimit",12],["stroke-opacity",34],["stroke-width",87],["table-layout",171],["tab-size",46],["text-align",260],["text-anchor",35],["text-decoration",247],["text-indent",207],["text-overflow",204],["text-rendering",155],["text-shadow",208],["text-transform",202],["top",258],["touch-action",80],["transform",181],["transform-origin",162],["transform-style",86],["transition",193],["transition-delay",134],["transition-duration",135],["transition-property",131],["transition-timing-function",122],["unicode-bidi",156],["unicode-range",136],["vertical-align",236],["visibility",242],["-webkit-appearance",191],["-webkit-backface-visibility",154],["-webkit-background-clip",164],["-webkit-background-origin",40],["-webkit-background-size",163],["-webkit-border-end",9],["-webkit-border-horizontal-spacing",81],["-webkit-border-image",75],["-webkit-border-radius",212],["-webkit-border-start",10],["-webkit-border-start-color",16],["-webkit-border-start-width",13],["-webkit-border-vertical-spacing",43],["-webkit-box-align",101],["-webkit-box-direction",51],["-webkit-box-flex",128],["-webkit-box-ordinal-group",91],["-webkit-box-orient",144],["-webkit-box-pack",106],["-webkit-box-reflect",39],["-webkit-box-shadow",210],["-webkit-column-break-inside",60],["-webkit-column-count",84],["-webkit-column-gap",76],["-webkit-column-rule",25],["-webkit-column-rule-color",23],["-webkit-columns",44],["-webkit-column-span",29],["-webkit-column-width",47],["-webkit-filter",159],["-webkit-font-feature-settings",59],["-webkit-font-smoothing",177],["-webkit-line-break",45],["-webkit-line-clamp",126],["-webkit-margin-after",67],["-webkit-margin-before",70],["-webkit-margin-collapse",14],["-webkit-margin-end",65],["-webkit-margin-start",100],["-webkit-mask",19],["-webkit-mask-box-image",72],["-webkit-mask-image",88],["-webkit-mask-position",54],["-webkit-mask-repeat",63],["-webkit-mask-size",79],["-webkit-padding-after",15],["-webkit-padding-before",28],["-webkit-padding-end",48],["-webkit-padding-start",73],["-webkit-print-color-adjust",83],["-webkit-rtl-ordering",7],["-webkit-tap-highlight-color",169],["-webkit-text-emphasis-color",11],["-webkit-text-fill-color",71],["-webkit-text-security",17],["-webkit-text-stroke",56],["-webkit-text-stroke-color",37],["-webkit-text-stroke-width",53],["-webkit-user-drag",95],["-webkit-user-modify",62],["-webkit-user-select",194],["-webkit-writing-mode",4],["white-space",228],["widows",115],["width",268],["will-change",74],["word-break",166],["word-spacing",157],["word-wrap",197],["writing-mode",41],["z-index",239],["zoom",200]]);var Ee=["auto","none"];var Pe={};a(Pe,{ProfileTreeModel:()=>Me});import*as xe from"./../../models/cpu_profile/cpu_profile.js";var Me=class extends xe.ProfileTreeModel.ProfileTreeModel{};var Ae={};a(Ae,{Events:()=>Za,InitiatorType:()=>el,NetworkRequest:()=>Ya,WebSocketFrameType:()=>tl,cookieBlockedReasonToAttribute:()=>sl,cookieBlockedReasonToUiString:()=>nl,cookieExemptionReasonToUiString:()=>rl,setCookieBlockedReasonToAttribute:()=>ol,setCookieBlockedReasonToUiString:()=>il});import*as Le from"./../../models/text_utils/text_utils.js";import*as Ne from"./../common/common.js";import*as Oe from"./../i18n/i18n.js";import*as De from"./../platform/platform.js";var Fe={};a(Fe,{Attribute:()=>_e,Cookie:()=>He,Type:()=>Ue});var Be="<opaque>";var He=class e{#u;#h;#g;#p;#m;#f;#y;#S;constructor(e,t,r,n,i){this.#u=e;this.#h=t;this.#g=r;this.#p=new Map;this.#m=0;this.#f=n||"Medium";this.#y=null;this.#S=i}static fromProtocolCookie(t){const r=new e(t.name,t.value,null,t.priority);r.addAttribute("domain",t["domain"]);r.addAttribute("path",t["path"]);if(t["expires"]){r.addAttribute("expires",t["expires"]*1e3)}if(t["httpOnly"]){r.addAttribute("http-only")}if(t["secure"]){r.addAttribute("secure")}if(t["sameSite"]){r.addAttribute("same-site",t["sameSite"])}if("sourcePort"in t){r.addAttribute("source-port",t.sourcePort)}if("sourceScheme"in t){r.addAttribute("source-scheme",t.sourceScheme)}if("partitionKey"in t){if(t.partitionKey){r.setPartitionKey(t.partitionKey.topLevelSite,t.partitionKey.hasCrossSiteAncestor)}}if("partitionKeyOpaque"in t&&t.partitionKeyOpaque){r.addAttribute("partition-key",Be)}r.setSize(t["size"]);return r}key(){return(this.domain()||"-")+" "+this.name()+" "+(this.path()||"-")+" "+(this.partitionKey()?this.topLevelSite()+" "+(this.hasCrossSiteAncestor()?"cross_site":"same_site"):"-")}name(){return this.#u}value(){return this.#h}type(){return this.#g}httpOnly(){return this.#p.has("http-only")}secure(){return this.#p.has("secure")}partitioned(){return this.#p.has("partitioned")||Boolean(this.partitionKey())||this.partitionKeyOpaque()}sameSite(){return this.#p.get("same-site")}partitionKey(){return this.#S}setPartitionKey(e,t){this.#S={topLevelSite:e,hasCrossSiteAncestor:t};if(!this.#p.has("partitioned")){this.addAttribute("partitioned")}}topLevelSite(){if(!this.#S){return""}return this.#S?.topLevelSite}setTopLevelSite(e,t){this.setPartitionKey(e,t)}hasCrossSiteAncestor(){if(!this.#S){return false}return this.#S?.hasCrossSiteAncestor}setHasCrossSiteAncestor(e){if(!this.partitionKey()||!Boolean(this.topLevelSite())){return}this.setPartitionKey(this.topLevelSite(),e)}partitionKeyOpaque(){if(!this.#S){return false}return this.topLevelSite()===Be}setPartitionKeyOpaque(){this.addAttribute("partition-key",Be);this.setPartitionKey(Be,false)}priority(){return this.#f}session(){return!(this.#p.has("expires")||this.#p.has("max-age"))}path(){return this.#p.get("path")}domain(){return this.#p.get("domain")}expires(){return this.#p.get("expires")}maxAge(){return this.#p.get("max-age")}sourcePort(){return this.#p.get("source-port")}sourceScheme(){return this.#p.get("source-scheme")}size(){return this.#m}url(){if(!this.domain()||!this.path()){return null}let e="";const t=this.sourcePort();if(t&&t!==80&&t!==443){e=`:${this.sourcePort()}`}return(this.secure()?"https://":"http://")+this.domain()+e+this.path()}setSize(e){this.#m=e}expiresDate(e){if(this.maxAge()){return new Date(e.getTime()+1e3*this.maxAge())}if(this.expires()){return new Date(this.expires())}return null}addAttribute(e,t){if(!e){return}switch(e){case"priority":this.#f=t;break;default:this.#p.set(e,t)}}setCookieLine(e){this.#y=e}getCookieLine(){return this.#y}matchesSecurityOrigin(t){const r=new URL(t).hostname;return e.isDomainMatch(this.domain(),r)}static isDomainMatch(e,t){if(t===e){return true}if(!e||e[0]!=="."){return false}if(e.substr(1)===t){return true}return t.length>e.length&&t.endsWith(e)}};var Ue=(e=>{e[e["REQUEST"]=0]="REQUEST";e[e["RESPONSE"]=1]="RESPONSE";return e})(Ue||{});var _e=(e=>{e["NAME"]="name";e["VALUE"]="value";e["SIZE"]="size";e["DOMAIN"]="domain";e["PATH"]="path";e["EXPIRES"]="expires";e["MAX_AGE"]="max-age";e["HTTP_ONLY"]="http-only";e["SECURE"]="secure";e["SAME_SITE"]="same-site";e["SOURCE_SCHEME"]="source-scheme";e["SOURCE_PORT"]="source-port";e["PRIORITY"]="priority";e["PARTITIONED"]="partitioned";e["PARTITION_KEY"]="partition-key";e["PARTITION_KEY_SITE"]="partition-key-site";e["HAS_CROSS_SITE_ANCESTOR"]="has-cross-site-ancestor";return e})(_e||{});var qe={};a(qe,{CookieModel:()=>xa,Events:()=>Ma});import*as We from"./../common/common.js";import*as Ve from"./../platform/platform.js";import*as je from"./../root/root.js";var Ge={};a(Ge,{ConditionsSerializer:()=>Ut,Events:()=>wt,Fast4GConditions:()=>At,FetchDispatcher:()=>Nt,InterceptedRequest:()=>Bt,MultitargetNetworkManager:()=>Ft,NetworkDispatcher:()=>Ot,NetworkManager:()=>kt,NoThrottlingConditions:()=>Ct,OfflineConditions:()=>Rt,Slow3GConditions:()=>Et,Slow4GConditions:()=>xt,networkConditionsEqual:()=>_t});import*as ze from"./../../models/text_utils/text_utils.js";import*as Ke from"./../common/common.js";import*as Qe from"./../host/host.js";import*as Xe from"./../i18n/i18n.js";import*as Je from"./../platform/platform.js";var $e={};a($e,{Capability:()=>nt,Target:()=>tt,Type:()=>rt});import*as Ye from"./../common/common.js";import*as Ze from"./../platform/platform.js";import*as et from"./../protocol_client/protocol_client.js";var tt=class extends et.InspectorBackend.TargetBase{#v;#u;#b;#I;#k;#g;#w;#C;#R;#T;#E;#P;constructor(e,t,r,n,i,s,o,a,l){const d=n==="node";super(d,i,s,a);this.#v=e;this.#u=r;this.#b=Ze.DevToolsPath.EmptyUrlString;this.#I="";this.#k=0;switch(n){case"frame":this.#k=1|8192|2|4|8|16|32|128|256|1024|2048|32768|65536|131072|262144|524288;if(i?.type()!=="frame"){this.#k|=4096|64|512|16384;if(Ye.ParsedURL.schemeIs(l?.url,"chrome-extension:")){this.#k&=~512}}break;case"service-worker":this.#k=4|8|16|32|2048|131072|524288;if(i?.type()!=="frame"){this.#k|=1}break;case"shared-worker":this.#k=4|8|16|32|131072|262144|2048|524288;break;case"shared-storage-worklet":this.#k=4|8|2048|524288;break;case"worker":this.#k=4|8|16|32|131072|262144|256|524288;break;case"worklet":this.#k=4|8|524288|16;break;case"node":this.#k=4;break;case"auction-worklet":this.#k=4|524288;break;case"browser":this.#k=32|131072;break;case"tab":this.#k=32|128;break}this.#g=n;this.#w=i;this.#C=t;this.#R=new Map;this.#T=o;this.#E=l}createModels(e){this.#P=true;const t=Array.from(p.registeredModels.entries());for(const[e,r]of t){if(r.early){this.model(e)}}for(const[r,n]of t){if(n.autostart||e.has(r)){this.model(r)}}this.#P=false}id(){return this.#C}name(){return this.#u||this.#I}setName(e){if(this.#u===e){return}this.#u=e;this.#v.onNameChange(this)}type(){return this.#g}markAsNodeJSForTest(){super.markAsNodeJSForTest();this.#g="node"}targetManager(){return this.#v}hasAllCapabilities(e){return(this.#k&e)===e}decorateLabel(e){return this.#g==="worker"||this.#g==="service-worker"?"⚙ "+e:e}parentTarget(){return this.#w}outermostTarget(){let e=null;let t=this;do{if(t.type()!=="tab"&&t.type()!=="browser"){e=t}t=t.parentTarget()}while(t);return e}dispose(e){super.dispose(e);this.#v.removeTarget(this);for(const e of this.#R.values()){e.dispose()}}model(e){if(!this.#R.get(e)){const t=p.registeredModels.get(e);if(t===void 0){throw"Model class is not registered @"+(new Error).stack}if((this.#k&t.capabilities)===t.capabilities){const t=new e(this);this.#R.set(e,t);if(!this.#P){this.#v.modelAdded(this,e,t,this.#v.isInScope(this))}}}return this.#R.get(e)||null}models(){return this.#R}inspectedURL(){return this.#b}setInspectedURL(e){this.#b=e;const t=Ye.ParsedURL.ParsedURL.fromString(e);this.#I=t?t.lastPathComponentWithFragment():"#"+this.#C;this.#v.onInspectedURLChange(this);if(!this.#u){this.#v.onNameChange(this)}}async suspend(e){if(this.#T){return}this.#T=true;await Promise.all(Array.from(this.models().values(),(t=>t.preSuspendModel(e))));await Promise.all(Array.from(this.models().values(),(t=>t.suspendModel(e))))}async resume(){if(!this.#T){return}this.#T=false;await Promise.all(Array.from(this.models().values(),(e=>e.resumeModel())));await Promise.all(Array.from(this.models().values(),(e=>e.postResumeModel())))}suspended(){return this.#T}updateTargetInfo(e){this.#E=e}targetInfo(){return this.#E}};var rt=(e=>{e["FRAME"]="frame";e["ServiceWorker"]="service-worker";e["Worker"]="worker";e["SHARED_WORKER"]="shared-worker";e["SHARED_STORAGE_WORKLET"]="shared-storage-worklet";e["NODE"]="node";e["BROWSER"]="browser";e["AUCTION_WORKLET"]="auction-worklet";e["WORKLET"]="worklet";e["TAB"]="tab";return e})(rt||{});var nt=(e=>{e[e["BROWSER"]=1]="BROWSER";e[e["DOM"]=2]="DOM";e[e["JS"]=4]="JS";e[e["LOG"]=8]="LOG";e[e["NETWORK"]=16]="NETWORK";e[e["TARGET"]=32]="TARGET";e[e["SCREEN_CAPTURE"]=64]="SCREEN_CAPTURE";e[e["TRACING"]=128]="TRACING";e[e["EMULATION"]=256]="EMULATION";e[e["SECURITY"]=512]="SECURITY";e[e["INPUT"]=1024]="INPUT";e[e["INSPECTOR"]=2048]="INSPECTOR";e[e["DEVICE_EMULATION"]=4096]="DEVICE_EMULATION";e[e["STORAGE"]=8192]="STORAGE";e[e["SERVICE_WORKER"]=16384]="SERVICE_WORKER";e[e["AUDITS"]=32768]="AUDITS";e[e["WEB_AUTHN"]=65536]="WEB_AUTHN";e[e["IO"]=131072]="IO";e[e["MEDIA"]=262144]="MEDIA";e[e["EVENT_BREAKPOINTS"]=524288]="EVENT_BREAKPOINTS";e[e["NONE"]=0]="NONE";return e})(nt||{});var it={};a(it,{Events:()=>ht,Observer:()=>gt,SDKModelObserver:()=>pt,TargetManager:()=>ut});import*as st from"./../common/common.js";import*as ot from"./../host/host.js";import*as at from"./../platform/platform.js";import{assertNotNullOrUndefined as lt}from"./../platform/platform.js";import*as dt from"./../root/root.js";var ct;var ut=class e extends st.ObjectWrapper.ObjectWrapper{#x;#M;#A;#L;#N;#T;#O;#D;#F;#B;constructor(){super();this.#x=new Set;this.#M=new Set;this.#A=new at.MapUtilities.Multimap;this.#L=new at.MapUtilities.Multimap;this.#T=false;this.#O=null;this.#D=null;this.#N=new WeakSet;this.#F=false;this.#B=new Set}static instance({forceNew:t}={forceNew:false}){if(!ct||t){ct=new e}return ct}static removeInstance(){ct=void 0}onInspectedURLChange(e){if(e!==this.#D){return}ot.InspectorFrontendHost.InspectorFrontendHostInstance.inspectedURLChanged(e.inspectedURL()||at.DevToolsPath.EmptyUrlString);this.dispatchEventToListeners("InspectedURLChanged",e)}onNameChange(e){this.dispatchEventToListeners("NameChanged",e)}async suspendAllTargets(e){if(this.#T){return}this.#T=true;this.dispatchEventToListeners("SuspendStateChanged");const t=Array.from(this.#x.values(),(t=>t.suspend(e)));await Promise.all(t)}async resumeAllTargets(){if(!this.#T){return}this.#T=false;this.dispatchEventToListeners("SuspendStateChanged");const e=Array.from(this.#x.values(),(e=>e.resume()));await Promise.all(e)}allTargetsSuspended(){return this.#T}models(e,t){const r=[];for(const n of this.#x){if(t?.scoped&&!this.isInScope(n)){continue}const i=n.model(e);if(!i){continue}r.push(i)}return r}inspectedURL(){const e=this.primaryPageTarget();return e?e.inspectedURL():""}observeModels(e,t,r){const n=this.models(e,r);this.#L.set(e,t);if(r?.scoped){this.#N.add(t)}for(const e of n){t.modelAdded(e)}}unobserveModels(e,t){this.#L.delete(e,t);this.#N.delete(t)}modelAdded(e,t,r,n){for(const e of this.#L.get(t).values()){if(!this.#N.has(e)||n){e.modelAdded(r)}}}modelRemoved(e,t,r,n){for(const e of this.#L.get(t).values()){if(!this.#N.has(e)||n){e.modelRemoved(r)}}}addModelListener(e,t,r,n,i){const s=e=>{if(!i?.scoped||this.isInScope(e)){r.call(n,e)}};for(const r of this.models(e)){r.addEventListener(t,s)}this.#A.set(t,{modelClass:e,thisObject:n,listener:r,wrappedListener:s})}removeModelListener(e,t,r,n){if(!this.#A.has(t)){return}let i=null;for(const s of this.#A.get(t)){if(s.modelClass===e&&s.listener===r&&s.thisObject===n){i=s.wrappedListener;this.#A.delete(t,s)}}if(i){for(const r of this.models(e)){r.removeEventListener(t,i)}}}observeTargets(e,t){if(this.#M.has(e)){throw new Error("Observer can only be registered once")}if(t?.scoped){this.#N.add(e)}for(const r of this.#x){if(!t?.scoped||this.isInScope(r)){e.targetAdded(r)}}this.#M.add(e)}unobserveTargets(e){this.#M.delete(e);this.#N.delete(e)}createTarget(e,t,r,n,i,s,o,a){const l=new tt(this,e,t,r,n,i||"",this.#T,o||null,a);if(s){void l.pageAgent().invoke_waitForDebugger()}l.createModels(new Set(this.#L.keysArray()));this.#x.add(l);const d=this.isInScope(l);for(const e of[...this.#M]){if(!this.#N.has(e)||d){e.targetAdded(l)}}for(const[e,t]of l.models().entries()){this.modelAdded(l,e,t,d)}for(const e of this.#A.keysArray()){for(const t of this.#A.get(e)){const r=l.model(t.modelClass);if(r){r.addEventListener(e,t.wrappedListener)}}}if(l===l.outermostTarget()&&(l.type()!==rt.FRAME||l===this.primaryPageTarget())&&!this.#F){this.setScopeTarget(l)}return l}removeTarget(e){if(!this.#x.has(e)){return}const t=this.isInScope(e);this.#x.delete(e);for(const r of e.models().keys()){const n=e.models().get(r);lt(n);this.modelRemoved(e,r,n,t)}for(const r of[...this.#M]){if(!this.#N.has(r)||t){r.targetRemoved(e)}}for(const t of this.#A.keysArray()){for(const r of this.#A.get(t)){const n=e.model(r.modelClass);if(n){n.removeEventListener(t,r.wrappedListener)}}}}targets(){return[...this.#x]}targetById(e){return this.targets().find((t=>t.id()===e))||null}rootTarget(){if(this.#x.size===0){return null}return this.#x.values().next().value??null}primaryPageTarget(){let e=this.rootTarget();if(e?.type()===rt.TAB){e=this.targets().find((t=>t.parentTarget()===e&&t.type()===rt.FRAME&&!t.targetInfo()?.subtype?.length))||null}return e}browserTarget(){return this.#O}async maybeAttachInitialTarget(){if(!Boolean(dt.Runtime.Runtime.queryParam("browserConnection"))){return false}if(!this.#O){this.#O=new tt(this,"main","browser",rt.BROWSER,null,"",false,null,void 0);this.#O.createModels(new Set(this.#L.keysArray()))}const e=await ot.InspectorFrontendHost.InspectorFrontendHostInstance.initialTargetId();void this.#O.targetAgent().invoke_autoAttachRelated({targetId:e,waitForDebuggerOnStart:true});return true}clearAllTargetsForTest(){this.#x.clear()}isInScope(e){if(!e){return false}if(mt(e)){e=e.source}if(e instanceof p){e=e.target()}while(e&&e!==this.#D){e=e.parentTarget()}return Boolean(e)&&e===this.#D}setScopeTarget(e){if(e===this.#D){return}for(const e of this.targets()){if(!this.isInScope(e)){continue}for(const t of this.#L.keysArray()){const r=e.models().get(t);if(!r){continue}for(const e of[...this.#L.get(t)].filter((e=>this.#N.has(e)))){e.modelRemoved(r)}}for(const t of[...this.#M].filter((e=>this.#N.has(e)))){t.targetRemoved(e)}}this.#D=e;for(const e of this.targets()){if(!this.isInScope(e)){continue}for(const t of[...this.#M].filter((e=>this.#N.has(e)))){t.targetAdded(e)}for(const[t,r]of e.models().entries()){for(const e of[...this.#L.get(t)].filter((e=>this.#N.has(e)))){e.modelAdded(r)}}}for(const e of this.#B){e()}if(e&&e.inspectedURL()){this.onInspectedURLChange(e)}}addScopeChangeListener(e){this.#B.add(e)}removeScopeChangeListener(e){this.#B.delete(e)}scopeTarget(){return this.#D}};var ht=(e=>{e["AVAILABLE_TARGETS_CHANGED"]="AvailableTargetsChanged";e["INSPECTED_URL_CHANGED"]="InspectedURLChanged";e["NAME_CHANGED"]="NameChanged";e["SUSPEND_STATE_CHANGED"]="SuspendStateChanged";return e})(ht||{});var gt=class{targetAdded(e){}targetRemoved(e){}};var pt=class{modelAdded(e){}modelRemoved(e){}};function mt(e){return"source"in e&&e.source instanceof p}var ft={noContentForWebSocket:"Content for WebSockets is currently not supported",noContentForRedirect:"No content available because this request was redirected",noContentForPreflight:"No content available for preflight request",noThrottling:"No throttling",offline:"Offline",slowG:"3G",fastG:"Slow 4G",fast4G:"Fast 4G",requestWasBlockedByDevtoolsS:'Request was blocked by DevTools: "{PH1}"',sFailedLoadingSS:'{PH1} failed loading: {PH2} "{PH3}".',sFinishedLoadingSS:'{PH1} finished loading: {PH2} "{PH3}".'};var yt=Xe.i18n.registerUIStrings("core/sdk/NetworkManager.ts",ft);var St=Xe.i18n.getLocalizedString.bind(void 0,yt);var vt=Xe.i18n.getLazilyComputedLocalizedString.bind(void 0,yt);var bt=new WeakMap;var It=new Map([["2g",O.ConnectionType.Cellular2g],["3g",O.ConnectionType.Cellular3g],["4g",O.ConnectionType.Cellular4g],["bluetooth",O.ConnectionType.Bluetooth],["wifi",O.ConnectionType.Wifi],["wimax",O.ConnectionType.Wimax]]);var kt=class e extends p{dispatcher;fetchDispatcher;#H;#U;constructor(e){super(e);this.dispatcher=new Ot(this);this.fetchDispatcher=new Nt(e.fetchAgent(),this);this.#H=e.networkAgent();e.registerNetworkDispatcher(this.dispatcher);e.registerFetchDispatcher(this.fetchDispatcher);if(Ke.Settings.Settings.instance().moduleSetting("cache-disabled").get()){void this.#H.invoke_setCacheDisabled({cacheDisabled:true})}void this.#H.invoke_enable({maxPostDataSize:Lt});void this.#H.invoke_setAttachDebugStack({enabled:true});this.#U=Ke.Settings.Settings.instance().createSetting("bypass-service-worker",false);if(this.#U.get()){this.bypassServiceWorkerChanged()}this.#U.addChangeListener(this.bypassServiceWorkerChanged,this);Ke.Settings.Settings.instance().moduleSetting("cache-disabled").addChangeListener(this.cacheDisabledSettingChanged,this)}static forRequest(e){return bt.get(e)||null}static canReplayRequest(e){return Boolean(bt.get(e))&&Boolean(e.backendRequestId())&&!e.isRedirect()&&e.resourceType()===Ke.ResourceType.resourceTypes.XHR}static replayRequest(e){const t=bt.get(e);const r=e.backendRequestId();if(!t||!r||e.isRedirect()){return}void t.#H.invoke_replayXHR({requestId:r})}static async searchInRequest(t,r,n,i){const s=e.forRequest(t);const o=t.backendRequestId();if(!s||!o||t.isRedirect()){return[]}const a=await s.#H.invoke_searchInResponseBody({requestId:o,query:r,caseSensitive:n,isRegex:i});return ze.TextUtils.performSearchInSearchMatches(a.result||[],r,n,i)}static async requestContentData(t){if(t.resourceType()===Ke.ResourceType.resourceTypes.WebSocket){return{error:St(ft.noContentForWebSocket)}}if(!t.finished){await t.once(Za.FINISHED_LOADING)}if(t.isRedirect()){return{error:St(ft.noContentForRedirect)}}if(t.isPreflightRequest()){return{error:St(ft.noContentForPreflight)}}const r=e.forRequest(t);if(!r){return{error:"No network manager for request"}}const n=t.backendRequestId();if(!n){return{error:"No backend request id for request"}}const i=await r.#H.invoke_getResponseBody({requestId:n});const s=i.getError();if(s){return{error:s}}return new ze.ContentData.ContentData(i.body,i.base64Encoded,t.mimeType,t.charset()??void 0)}static async streamResponseBody(t){if(t.finished){return{error:"Streaming the response body is only available for in-flight requests."}}const r=e.forRequest(t);if(!r){return{error:"No network manager for request"}}const n=t.backendRequestId();if(!n){return{error:"No backend request id for request"}}const i=await r.#H.invoke_streamResourceContent({requestId:n});const s=i.getError();if(s){return{error:s}}await t.waitForResponseReceived();return new ze.ContentData.ContentData(i.bufferedData,true,t.mimeType,t.charset()??void 0)}static async requestPostData(t){const r=e.forRequest(t);if(!r){console.error("No network manager for request");return null}const n=t.backendRequestId();if(!n){console.error("No backend request id for request");return null}try{const{postData:e}=await r.#H.invoke_getRequestPostData({requestId:n});return e}catch(e){return e.message}}static connectionType(e){if(!e.download&&!e.upload){return O.ConnectionType.None}try{const t=typeof e.title==="function"?e.title().toLowerCase():e.title.toLowerCase();for(const[e,r]of It){if(t.includes(e)){return r}}}catch{return O.ConnectionType.None}return O.ConnectionType.Other}static lowercaseHeaders(e){const t={};for(const r in e){t[r.toLowerCase()]=e[r]}return t}requestForURL(e){return this.dispatcher.requestForURL(e)}requestForId(e){return this.dispatcher.requestForId(e)}requestForLoaderId(e){return this.dispatcher.requestForLoaderId(e)}cacheDisabledSettingChanged({data:e}){void this.#H.invoke_setCacheDisabled({cacheDisabled:e})}dispose(){Ke.Settings.Settings.instance().moduleSetting("cache-disabled").removeChangeListener(this.cacheDisabledSettingChanged,this)}bypassServiceWorkerChanged(){void this.#H.invoke_setBypassServiceWorker({bypass:this.#U.get()})}async getSecurityIsolationStatus(e){const t=await this.#H.invoke_getSecurityIsolationStatus({frameId:e??void 0});if(t.getError()){return null}return t.status}async enableReportingApi(e=true){return this.#H.invoke_enableReportingApi({enable:e})}async loadNetworkResource(e,t,r){const n=await this.#H.invoke_loadNetworkResource({frameId:e??void 0,url:t,options:r});if(n.getError()){throw new Error(n.getError())}return n.resource}clearRequests(){this.dispatcher.clearRequests()}};var wt=(e=>{e["RequestStarted"]="RequestStarted";e["RequestUpdated"]="RequestUpdated";e["RequestFinished"]="RequestFinished";e["RequestUpdateDropped"]="RequestUpdateDropped";e["ResponseReceived"]="ResponseReceived";e["MessageGenerated"]="MessageGenerated";e["RequestRedirected"]="RequestRedirected";e["LoadingFinished"]="LoadingFinished";e["ReportingApiReportAdded"]="ReportingApiReportAdded";e["ReportingApiReportUpdated"]="ReportingApiReportUpdated";e["ReportingApiEndpointsChangedForOrigin"]="ReportingApiEndpointsChangedForOrigin";return e})(wt||{});var Ct={title:vt(ft.noThrottling),i18nTitleKey:ft.noThrottling,download:-1,upload:-1,latency:0};var Rt={title:vt(ft.offline),i18nTitleKey:ft.offline,download:0,upload:0,latency:0};var Tt=400;var Et={title:vt(ft.slowG),i18nTitleKey:ft.slowG,download:500*1e3/8*.8,upload:500*1e3/8*.8,latency:Tt*5,targetLatency:Tt};var Pt=150;var xt={title:vt(ft.fastG),i18nTitleKey:ft.fastG,download:1.6*1e3*1e3/8*.9,upload:750*1e3/8*.9,latency:Pt*3.75,targetLatency:Pt};var Mt=60;var At={title:vt(ft.fast4G),i18nTitleKey:ft.fast4G,download:9*1e3*1e3/8*.9,upload:1.5*1e3*1e3/8*.9,latency:Mt*2.75,targetLatency:Mt};var Lt=64*1024;var Nt=class{#_;#q;constructor(e,t){this.#_=e;this.#q=t}requestPaused({requestId:e,request:t,resourceType:r,responseStatusCode:n,responseHeaders:i,networkId:s}){const o=s?this.#q.requestForId(s):null;if(o?.originalResponseHeaders.length===0&&i){o.originalResponseHeaders=i}void Ft.instance().requestIntercepted(new Bt(this.#_,t,r,e,o,n,i))}authRequired({}){}};var Ot=class{#q;#W;#V;#j;#G;#z;constructor(e){this.#q=e;this.#W=new Map;this.#V=new Map;this.#j=new Map;this.#G=new Map;this.#z=new Map;Ft.instance().addEventListener(Ft.Events.REQUEST_INTERCEPTED,this.#K.bind(this))}#K(e){const t=this.requestForId(e.data);if(t){t.setWasIntercepted(true)}}headersMapToHeadersArray(e){const t=[];for(const r in e){const n=e[r].split("\n");for(let e=0;e<n.length;++e){t.push({name:r,value:n[e]})}}return t}updateNetworkRequestWithRequest(e,t){e.requestMethod=t.method;e.setRequestHeaders(this.headersMapToHeadersArray(t.headers));e.setRequestFormData(Boolean(t.hasPostData),t.postData||null);e.setInitialPriority(t.initialPriority);e.mixedContentType=t.mixedContentType||H.MixedContentType.None;e.setReferrerPolicy(t.referrerPolicy);e.setIsSameSite(t.isSameSite||false)}updateNetworkRequestWithResponse(e,t){if(t.url&&e.url()!==t.url){e.setUrl(t.url)}e.mimeType=t.mimeType;e.setCharset(t.charset);if(!e.statusCode||e.wasIntercepted()){e.statusCode=t.status}if(!e.statusText||e.wasIntercepted()){e.statusText=t.statusText}if(!e.hasExtraResponseInfo()||e.wasIntercepted()){e.responseHeaders=this.headersMapToHeadersArray(t.headers)}if(t.encodedDataLength>=0){e.setTransferSize(t.encodedDataLength)}if(t.requestHeaders&&!e.hasExtraRequestInfo()){e.setRequestHeaders(this.headersMapToHeadersArray(t.requestHeaders));e.setRequestHeadersText(t.requestHeadersText||"")}e.connectionReused=t.connectionReused;e.connectionId=String(t.connectionId);if(t.remoteIPAddress){e.setRemoteAddress(t.remoteIPAddress,t.remotePort||-1)}if(t.fromServiceWorker){e.fetchedViaServiceWorker=true}if(t.fromDiskCache){e.setFromDiskCache()}if(t.fromPrefetchCache){e.setFromPrefetchCache()}if(t.fromEarlyHints){e.setFromEarlyHints()}if(t.cacheStorageCacheName){e.setResponseCacheStorageCacheName(t.cacheStorageCacheName)}if(t.serviceWorkerRouterInfo){e.serviceWorkerRouterInfo=t.serviceWorkerRouterInfo}if(t.responseTime){e.setResponseRetrievalTime(new Date(t.responseTime))}e.timing=t.timing;e.protocol=t.protocol||"";e.alternateProtocolUsage=t.alternateProtocolUsage;if(t.serviceWorkerResponseSource){e.setServiceWorkerResponseSource(t.serviceWorkerResponseSource)}e.setSecurityState(t.securityState);if(t.securityDetails){e.setSecurityDetails(t.securityDetails)}const r=Ke.ResourceType.ResourceType.fromMimeTypeOverride(e.mimeType);if(r){e.setResourceType(r)}if(e.responseReceivedPromiseResolve){e.responseReceivedPromiseResolve()}else{e.responseReceivedPromise=Promise.resolve()}}requestForId(e){return this.#W.get(e)||null}requestForURL(e){return this.#V.get(e)||null}requestForLoaderId(e){return this.#j.get(e)||null}resourceChangedPriority({requestId:e,newPriority:t}){const r=this.#W.get(e);if(r){r.setPriority(t)}}signedExchangeReceived({requestId:e,info:t}){let r=this.#W.get(e);if(!r){r=this.#V.get(t.outerResponse.url);if(!r){return}}r.setSignedExchangeInfo(t);r.setResourceType(Ke.ResourceType.resourceTypes.SignedExchange);this.updateNetworkRequestWithResponse(r,t.outerResponse);this.updateNetworkRequest(r);this.#q.dispatchEventToListeners("ResponseReceived",{request:r,response:t.outerResponse})}requestWillBeSent({requestId:e,loaderId:t,documentURL:r,request:n,timestamp:i,wallTime:s,initiator:o,redirectResponse:a,type:l,frameId:d,hasUserGesture:c}){let u=this.#W.get(e);if(u){if(!a){return}if(!u.signedExchangeInfo()){this.responseReceived({requestId:e,loaderId:t,timestamp:i,type:l||O.ResourceType.Other,response:a,hasExtraInfo:false,frameId:d})}u=this.appendRedirect(e,i,n.url);this.#q.dispatchEventToListeners("RequestRedirected",u)}else{u=Ya.create(e,n.url,r,d??null,t,o,c);bt.set(u,this.#q)}u.hasNetworkData=true;this.updateNetworkRequestWithRequest(u,n);u.setIssueTime(i,s);u.setResourceType(l?Ke.ResourceType.resourceTypes[l]:Ke.ResourceType.resourceTypes.Other);if(n.trustTokenParams){u.setTrustTokenParams(n.trustTokenParams)}const h=this.#z.get(e);if(h){u.setTrustTokenOperationDoneEvent(h);this.#z.delete(e)}this.getExtraInfoBuilder(e).addRequest(u);this.startNetworkRequest(u,n)}requestServedFromCache({requestId:e}){const t=this.#W.get(e);if(!t){return}t.setFromMemoryCache()}responseReceived({requestId:e,loaderId:t,timestamp:r,type:n,response:i,frameId:s}){const o=this.#W.get(e);const a=kt.lowercaseHeaders(i.headers);if(!o){const e=a["last-modified"];const r={url:i.url,frameId:s??null,loaderId:t,resourceType:n,mimeType:i.mimeType,lastModified:e?new Date(e):null};this.#q.dispatchEventToListeners("RequestUpdateDropped",r);return}o.responseReceivedTime=r;o.setResourceType(Ke.ResourceType.resourceTypes[n]);this.updateNetworkRequestWithResponse(o,i);this.updateNetworkRequest(o);this.#q.dispatchEventToListeners("ResponseReceived",{request:o,response:i})}dataReceived(e){let t=this.#W.get(e.requestId);if(!t){t=this.maybeAdoptMainResourceRequest(e.requestId)}if(!t){return}t.addDataReceivedEvent(e);this.updateNetworkRequest(t)}loadingFinished({requestId:e,timestamp:t,encodedDataLength:r}){let n=this.#W.get(e);if(!n){n=this.maybeAdoptMainResourceRequest(e)}if(!n){return}this.getExtraInfoBuilder(e).finished();this.finishNetworkRequest(n,t,r);this.#q.dispatchEventToListeners("LoadingFinished",n)}loadingFailed({requestId:e,timestamp:t,type:r,errorText:n,canceled:i,blockedReason:s,corsErrorStatus:o}){const a=this.#W.get(e);if(!a){return}a.failed=true;a.setResourceType(Ke.ResourceType.resourceTypes[r]);a.canceled=Boolean(i);if(s){a.setBlockedReason(s);if(s===O.BlockedReason.Inspector){const t=St(ft.requestWasBlockedByDevtoolsS,{PH1:a.url()});this.#q.dispatchEventToListeners("MessageGenerated",{message:t,requestId:e,warning:true})}}if(o){a.setCorsErrorStatus(o)}a.localizedFailDescription=n;this.getExtraInfoBuilder(e).finished();this.finishNetworkRequest(a,t,-1)}webSocketCreated({requestId:e,url:t,initiator:r}){const n=Ya.createForWebSocket(e,t,r);bt.set(n,this.#q);n.setResourceType(Ke.ResourceType.resourceTypes.WebSocket);this.startNetworkRequest(n,null)}webSocketWillSendHandshakeRequest({requestId:e,timestamp:t,wallTime:r,request:n}){const i=this.#W.get(e);if(!i){return}i.requestMethod="GET";i.setRequestHeaders(this.headersMapToHeadersArray(n.headers));i.setIssueTime(t,r);this.updateNetworkRequest(i)}webSocketHandshakeResponseReceived({requestId:e,timestamp:t,response:r}){const n=this.#W.get(e);if(!n){return}n.statusCode=r.status;n.statusText=r.statusText;n.responseHeaders=this.headersMapToHeadersArray(r.headers);n.responseHeadersText=r.headersText||"";if(r.requestHeaders){n.setRequestHeaders(this.headersMapToHeadersArray(r.requestHeaders))}if(r.requestHeadersText){n.setRequestHeadersText(r.requestHeadersText)}n.responseReceivedTime=t;n.protocol="websocket";this.updateNetworkRequest(n)}webSocketFrameReceived({requestId:e,timestamp:t,response:r}){const n=this.#W.get(e);if(!n){return}n.addProtocolFrame(r,t,false);n.responseReceivedTime=t;this.updateNetworkRequest(n)}webSocketFrameSent({requestId:e,timestamp:t,response:r}){const n=this.#W.get(e);if(!n){return}n.addProtocolFrame(r,t,true);n.responseReceivedTime=t;this.updateNetworkRequest(n)}webSocketFrameError({requestId:e,timestamp:t,errorMessage:r}){const n=this.#W.get(e);if(!n){return}n.addProtocolFrameError(r,t);n.responseReceivedTime=t;this.updateNetworkRequest(n)}webSocketClosed({requestId:e,timestamp:t}){const r=this.#W.get(e);if(!r){return}this.finishNetworkRequest(r,t,-1)}eventSourceMessageReceived({requestId:e,timestamp:t,eventName:r,eventId:n,data:i}){const s=this.#W.get(e);if(!s){return}s.addEventSourceMessage(t,r,n,i)}requestIntercepted({}){}requestWillBeSentExtraInfo({requestId:e,associatedCookies:t,headers:r,clientSecurityState:n,connectTiming:i,siteHasCookieInOtherPartition:s}){const o=[];const a=[];for(const{blockedReasons:e,exemptionReason:r,cookie:n}of t){if(e.length===0){a.push({exemptionReason:r,cookie:He.fromProtocolCookie(n)})}else{o.push({blockedReasons:e,cookie:He.fromProtocolCookie(n)})}}const l={blockedRequestCookies:o,includedRequestCookies:a,requestHeaders:this.headersMapToHeadersArray(r),clientSecurityState:n,connectTiming:i,siteHasCookieInOtherPartition:s};this.getExtraInfoBuilder(e).addRequestExtraInfo(l)}responseReceivedEarlyHints({requestId:e,headers:t}){this.getExtraInfoBuilder(e).setEarlyHintsHeaders(this.headersMapToHeadersArray(t))}responseReceivedExtraInfo({requestId:e,blockedCookies:t,headers:r,headersText:n,resourceIPAddressSpace:i,statusCode:s,cookiePartitionKey:o,cookiePartitionKeyOpaque:a,exemptedCookies:l}){const d={blockedResponseCookies:t.map((e=>({blockedReasons:e.blockedReasons,cookieLine:e.cookieLine,cookie:e.cookie?He.fromProtocolCookie(e.cookie):null}))),responseHeaders:this.headersMapToHeadersArray(r),responseHeadersText:n,resourceIPAddressSpace:i,statusCode:s,cookiePartitionKey:o,cookiePartitionKeyOpaque:a,exemptedResponseCookies:l?.map((e=>({cookie:He.fromProtocolCookie(e.cookie),cookieLine:e.cookieLine,exemptionReason:e.exemptionReason})))};this.getExtraInfoBuilder(e).addResponseExtraInfo(d)}getExtraInfoBuilder(e){let t;if(!this.#G.has(e)){t=new Ht;this.#G.set(e,t)}else{t=this.#G.get(e)}return t}appendRedirect(e,t,r){const n=this.#W.get(e);if(!n){throw new Error(`Could not find original network request for ${e}`)}let i=0;for(let e=n.redirectSource();e;e=e.redirectSource()){i++}n.markAsRedirect(i);this.finishNetworkRequest(n,t,-1);const s=Ya.create(e,r,n.documentURL,n.frameId,n.loaderId,n.initiator(),n.hasUserGesture()??void 0);bt.set(s,this.#q);s.setRedirectSource(n);n.setRedirectDestination(s);return s}maybeAdoptMainResourceRequest(e){const t=Ft.instance().inflightMainResourceRequests.get(e);if(!t){return null}const r=kt.forRequest(t).dispatcher;r.#W.delete(e);r.#V.delete(t.url());const n=t.loaderId;if(n){r.#j.delete(n)}const i=r.#G.get(e);r.#G.delete(e);this.#W.set(e,t);this.#V.set(t.url(),t);if(n){this.#j.set(n,t)}if(i){this.#G.set(e,i)}bt.set(t,this.#q);return t}startNetworkRequest(e,t){this.#W.set(e.requestId(),e);this.#V.set(e.url(),e);const r=e.loaderId;if(r){this.#j.set(r,e)}if(e.loaderId===e.requestId()){Ft.instance().inflightMainResourceRequests.set(e.requestId(),e)}this.#q.dispatchEventToListeners("RequestStarted",{request:e,originalRequest:t})}updateNetworkRequest(e){this.#q.dispatchEventToListeners("RequestUpdated",e)}finishNetworkRequest(e,t,r){e.endTime=t;e.finished=true;if(r>=0){const t=e.redirectSource();if(t&&t.signedExchangeInfo()){e.setTransferSize(0);t.setTransferSize(r);this.updateNetworkRequest(t)}else{e.setTransferSize(r)}}this.#q.dispatchEventToListeners("RequestFinished",e);Ft.instance().inflightMainResourceRequests.delete(e.requestId());if(Ke.Settings.Settings.instance().moduleSetting("monitoring-xhr-enabled").get()&&e.resourceType().category()===Ke.ResourceType.resourceCategories.XHR){let t;const r=e.failed||e.hasErrorStatusCode();if(r){t=St(ft.sFailedLoadingSS,{PH1:e.resourceType().title(),PH2:e.requestMethod,PH3:e.url()})}else{t=St(ft.sFinishedLoadingSS,{PH1:e.resourceType().title(),PH2:e.requestMethod,PH3:e.url()})}this.#q.dispatchEventToListeners("MessageGenerated",{message:t,requestId:e.requestId(),warning:false})}}clearRequests(){for(const[e,t]of this.#W){if(t.finished){this.#W.delete(e)}}for(const[e,t]of this.#V){if(t.finished){this.#V.delete(e)}}for(const[e,t]of this.#j){if(t.finished){this.#j.delete(e)}}for(const[e,t]of this.#G){if(t.isFinished()){this.#G.delete(e)}}}webTransportCreated({transportId:e,url:t,timestamp:r,initiator:n}){const i=Ya.createForWebSocket(e,t,n);i.hasNetworkData=true;bt.set(i,this.#q);i.setResourceType(Ke.ResourceType.resourceTypes.WebTransport);i.setIssueTime(r,0);this.startNetworkRequest(i,null)}webTransportConnectionEstablished({transportId:e,timestamp:t}){const r=this.#W.get(e);if(!r){return}r.responseReceivedTime=t;r.endTime=t+.001;this.updateNetworkRequest(r)}webTransportClosed({transportId:e,timestamp:t}){const r=this.#W.get(e);if(!r){return}r.endTime=t;this.finishNetworkRequest(r,t,0)}trustTokenOperationDone(e){const t=this.#W.get(e.requestId);if(!t){this.#z.set(e.requestId,e);return}t.setTrustTokenOperationDoneEvent(e)}subresourceWebBundleMetadataReceived({requestId:e,urls:t}){const r=this.getExtraInfoBuilder(e);r.setWebBundleInfo({resourceUrls:t});const n=r.finalRequest();if(n){this.updateNetworkRequest(n)}}subresourceWebBundleMetadataError({requestId:e,errorMessage:t}){const r=this.getExtraInfoBuilder(e);r.setWebBundleInfo({errorMessage:t});const n=r.finalRequest();if(n){this.updateNetworkRequest(n)}}subresourceWebBundleInnerResponseParsed({innerRequestId:e,bundleRequestId:t}){const r=this.getExtraInfoBuilder(e);r.setWebBundleInnerRequestInfo({bundleRequestId:t});const n=r.finalRequest();if(n){this.updateNetworkRequest(n)}}subresourceWebBundleInnerResponseError({innerRequestId:e,errorMessage:t}){const r=this.getExtraInfoBuilder(e);r.setWebBundleInnerRequestInfo({errorMessage:t});const n=r.finalRequest();if(n){this.updateNetworkRequest(n)}}reportingApiReportAdded(e){this.#q.dispatchEventToListeners("ReportingApiReportAdded",e.report)}reportingApiReportUpdated(e){this.#q.dispatchEventToListeners("ReportingApiReportUpdated",e.report)}reportingApiEndpointsChangedForOrigin(e){this.#q.dispatchEventToListeners("ReportingApiEndpointsChangedForOrigin",e)}policyUpdated(){}createNetworkRequest(e,t,r,n,i,s){const o=Ya.create(e,n,i,t,r,s);bt.set(o,this.#q);return o}};var Dt;var Ft=class e extends Ke.ObjectWrapper.ObjectWrapper{#Q;#X;#J;#$;#Y;inflightMainResourceRequests;#Z;#ee;#te;#re;#ne;#ie;#se;#oe;constructor(){super();this.#Q="";this.#X=null;this.#J=null;this.#$=new Set;this.#Y=new Set;this.inflightMainResourceRequests=new Map;this.#Z=Ct;this.#ee=null;const t=()=>{this.updateBlockedPatterns();this.dispatchEventToListeners(e.Events.BLOCKED_PATTERNS_CHANGED)};this.#te=Ke.Settings.Settings.instance().moduleSetting("request-blocking-enabled");this.#te.addChangeListener(t);this.#re=Ke.Settings.Settings.instance().createSetting("network-blocked-patterns",[]);this.#re.addChangeListener(t);this.#ne=[];this.updateBlockedPatterns();this.#ie=new Je.MapUtilities.Multimap;ut.instance().observeModels(kt,this)}static instance(t={forceNew:null}){const{forceNew:r}=t;if(!Dt||r){Dt=new e}return Dt}static dispose(){Dt=null}static getChromeVersion(){const e=/(?:^|\W)(?:Chrome|HeadlessChrome)\/(\S+)/;const t=navigator.userAgent.match(e);if(t&&t.length>1){return t[1]}return""}static patchUserAgentWithChromeVersion(t){const r=e.getChromeVersion();if(r.length>0){const e=r.split(".",1)[0]+".0.100.0";return Je.StringUtilities.sprintf(t,r,e)}return t}static patchUserAgentMetadataWithChromeVersion(t){if(!t.brands){return}const r=e.getChromeVersion();if(r.length===0){return}const n=r.split(".",1)[0];for(const e of t.brands){if(e.version.includes("%s")){e.version=Je.StringUtilities.sprintf(e.version,n)}}if(t.fullVersion){if(t.fullVersion.includes("%s")){t.fullVersion=Je.StringUtilities.sprintf(t.fullVersion,r)}}}modelAdded(e){const t=e.target().networkAgent();const r=e.target().fetchAgent();if(this.#se){void t.invoke_setExtraHTTPHeaders({headers:this.#se})}if(this.currentUserAgent()){void t.invoke_setUserAgentOverride({userAgent:this.currentUserAgent(),userAgentMetadata:this.#X||void 0})}if(this.#ne.length){void t.invoke_setBlockedURLs({urls:this.#ne})}if(this.isIntercepting()){void r.invoke_enable({patterns:this.#ie.valuesArray()})}if(this.#J===null){void t.invoke_clearAcceptedEncodingsOverride()}else{void t.invoke_setAcceptedEncodings({encodings:this.#J})}this.#$.add(t);this.#Y.add(r);if(this.isThrottling()){this.updateNetworkConditions(t)}}modelRemoved(e){for(const t of this.inflightMainResourceRequests){const r=kt.forRequest(t[1]);if(r!==e){continue}this.inflightMainResourceRequests.delete(t[0])}this.#$.delete(e.target().networkAgent());this.#Y.delete(e.target().fetchAgent())}isThrottling(){return this.#Z.download>=0||this.#Z.upload>=0||this.#Z.latency>0}isOffline(){return!this.#Z.download&&!this.#Z.upload}setNetworkConditions(t){this.#Z=t;for(const e of this.#$){this.updateNetworkConditions(e)}this.dispatchEventToListeners(e.Events.CONDITIONS_CHANGED)}networkConditions(){return this.#Z}updateNetworkConditions(e){const t=this.#Z;if(!this.isThrottling()){void e.invoke_emulateNetworkConditions({offline:false,latency:0,downloadThroughput:0,uploadThroughput:0})}else{void e.invoke_emulateNetworkConditions({offline:this.isOffline(),latency:t.latency,downloadThroughput:t.download<0?0:t.download,uploadThroughput:t.upload<0?0:t.upload,packetLoss:(t.packetLoss??0)<0?0:t.packetLoss,packetQueueLength:t.packetQueueLength,packetReordering:t.packetReordering,connectionType:kt.connectionType(t)})}}setExtraHTTPHeaders(e){this.#se=e;for(const e of this.#$){void e.invoke_setExtraHTTPHeaders({headers:this.#se})}}currentUserAgent(){return this.#oe?this.#oe:this.#Q}updateUserAgentOverride(){const e=this.currentUserAgent();for(const t of this.#$){void t.invoke_setUserAgentOverride({userAgent:e,userAgentMetadata:this.#X||void 0})}}setUserAgentOverride(t,r){const n=this.#Q!==t;this.#Q=t;if(!this.#oe){this.#X=r;this.updateUserAgentOverride()}else{this.#X=null}if(n){this.dispatchEventToListeners(e.Events.USER_AGENT_CHANGED)}}userAgentOverride(){return this.#Q}setCustomUserAgentOverride(e,t=null){this.#oe=e;this.#X=t;this.updateUserAgentOverride()}setCustomAcceptedEncodingsOverride(t){this.#J=t;this.updateAcceptedEncodingsOverride();this.dispatchEventToListeners(e.Events.ACCEPTED_ENCODINGS_CHANGED)}clearCustomAcceptedEncodingsOverride(){this.#J=null;this.updateAcceptedEncodingsOverride();this.dispatchEventToListeners(e.Events.ACCEPTED_ENCODINGS_CHANGED)}isAcceptedEncodingOverrideSet(){return this.#J!==null}updateAcceptedEncodingsOverride(){const e=this.#J;for(const t of this.#$){if(e===null){void t.invoke_clearAcceptedEncodingsOverride()}else{void t.invoke_setAcceptedEncodings({encodings:e})}}}blockedPatterns(){return this.#re.get().slice()}blockingEnabled(){return this.#te.get()}isBlocking(){return Boolean(this.#ne.length)}setBlockedPatterns(e){this.#re.set(e)}setBlockingEnabled(e){if(this.#te.get()===e){return}this.#te.set(e)}updateBlockedPatterns(){const e=[];if(this.#te.get()){for(const t of this.#re.get()){if(t.enabled){e.push(t.url)}}}if(!e.length&&!this.#ne.length){return}this.#ne=e;for(const e of this.#$){void e.invoke_setBlockedURLs({urls:this.#ne})}}isIntercepting(){return Boolean(this.#ie.size)}setInterceptionHandlerForPatterns(e,t){this.#ie.deleteAll(t);for(const r of e){this.#ie.set(t,r)}return this.updateInterceptionPatternsOnNextTick()}updateInterceptionPatternsOnNextTick(){if(!this.#ee){this.#ee=Promise.resolve().then(this.updateInterceptionPatterns.bind(this))}return this.#ee}async updateInterceptionPatterns(){if(!Ke.Settings.Settings.instance().moduleSetting("cache-disabled").get()){Ke.Settings.Settings.instance().moduleSetting("cache-disabled").set(true)}this.#ee=null;const t=[];for(const e of this.#Y){t.push(e.invoke_enable({patterns:this.#ie.valuesArray()}))}this.dispatchEventToListeners(e.Events.INTERCEPTORS_CHANGED);await Promise.all(t)}async requestIntercepted(t){for(const r of this.#ie.keysArray()){await r(t);if(t.hasResponded()&&t.networkRequest){this.dispatchEventToListeners(e.Events.REQUEST_INTERCEPTED,t.networkRequest.requestId());return}}if(!t.hasResponded()){t.continueRequestWithoutChange()}}clearBrowserCache(){for(const e of this.#$){void e.invoke_clearBrowserCache()}}clearBrowserCookies(){for(const e of this.#$){void e.invoke_clearBrowserCookies()}}async getCertificate(e){const t=ut.instance().primaryPageTarget();if(!t){return[]}const r=await t.networkAgent().invoke_getCertificate({origin:e});if(!r){return[]}return r.tableNames}async loadResource(e){const t={};const r=this.currentUserAgent();if(r){t["User-Agent"]=r}if(Ke.Settings.Settings.instance().moduleSetting("cache-disabled").get()){t["Cache-Control"]="no-cache"}const n=Ke.Settings.Settings.instance().moduleSetting("network.enable-remote-file-loading").get();return new Promise((r=>Qe.ResourceLoader.load(e,t,((e,t,n,i)=>{r({success:e,content:n,errorDescription:i})}),n)))}};(e=>{let t;(e=>{e["BLOCKED_PATTERNS_CHANGED"]="BlockedPatternsChanged";e["CONDITIONS_CHANGED"]="ConditionsChanged";e["USER_AGENT_CHANGED"]="UserAgentChanged";e["INTERCEPTORS_CHANGED"]="InterceptorsChanged";e["ACCEPTED_ENCODINGS_CHANGED"]="AcceptedEncodingsChanged";e["REQUEST_INTERCEPTED"]="RequestIntercepted";e["REQUEST_FULFILLED"]="RequestFulfilled"})(t=e.Events||(e.Events={}))})(Ft||(Ft={}));var Bt=class e{#_;#ae;request;resourceType;responseStatusCode;responseHeaders;requestId;networkRequest;constructor(e,t,r,n,i,s,o){this.#_=e;this.#ae=false;this.request=t;this.resourceType=r;this.responseStatusCode=s;this.responseHeaders=o;this.requestId=n;this.networkRequest=i}hasResponded(){return this.#ae}static mergeSetCookieHeaders(e,t){const r=e=>{const t=new Map;for(const r of e){const e=r.value.match(/^([a-zA-Z0-9!#$%&'*+.^_`|~-]+=)(.*)$/);if(e){if(t.has(e[1])){t.get(e[1])?.push(r.value)}else{t.set(e[1],[r.value])}}else{if(t.has(r.value)){t.get(r.value)?.push(r.value)}else{t.set(r.value,[r.value])}}}return t};const n=r(e);const i=r(t);const s=[];for(const[e,t]of n){if(i.has(e)){for(const t of i.get(e)||[]){s.push({name:"set-cookie",value:t})}}else{for(const e of t){s.push({name:"set-cookie",value:e})}}}for(const[e,t]of i){if(n.has(e)){continue}for(const e of t){s.push({name:"set-cookie",value:e})}}return s}async continueRequestWithContent(t,r,n,i){this.#ae=true;const s=r?await t.text():await Ke.Base64.encode(t).catch((e=>{console.error(e);return""}));const o=i?200:this.responseStatusCode||200;if(this.networkRequest){const t=this.networkRequest?.originalResponseHeaders.filter((e=>e.name==="set-cookie"))||[];const r=n.filter((e=>e.name==="set-cookie"));this.networkRequest.setCookieHeaders=e.mergeSetCookieHeaders(t,r);this.networkRequest.hasOverriddenContent=i}void this.#_.invoke_fulfillRequest({requestId:this.requestId,responseCode:o,body:s,responseHeaders:n});Ft.instance().dispatchEventToListeners("RequestFulfilled",this.request.url)}continueRequestWithoutChange(){console.assert(!this.#ae);this.#ae=true;void this.#_.invoke_continueRequest({requestId:this.requestId})}continueRequestWithError(e){console.assert(!this.#ae);this.#ae=true;void this.#_.invoke_failRequest({requestId:this.requestId,errorReason:e})}async responseBody(){const e=await this.#_.invoke_getResponseBody({requestId:this.requestId});const t=e.getError();if(t){return{error:t}}const{mimeType:r,charset:n}=this.getMimeTypeAndCharset();return new ze.ContentData.ContentData(e.body,e.base64Encoded,r??"application/octet-stream",n??void 0)}isRedirect(){return this.responseStatusCode!==void 0&&this.responseStatusCode>=300&&this.responseStatusCode<400}getMimeTypeAndCharset(){for(const e of this.responseHeaders??[]){if(e.name.toLowerCase()==="content-type"){return Je.MimeType.parseContentType(e.value)}}const e=this.networkRequest?.mimeType??null;const t=this.networkRequest?.charset()??null;return{mimeType:e,charset:t}}};var Ht=class{#le;#de;#ce;#ue;#he;#ge;#pe;constructor(){this.#le=[];this.#de=[];this.#ue=[];this.#ce=[];this.#he=false;this.#ge=null;this.#pe=null}addRequest(e){this.#le.push(e);this.sync(this.#le.length-1)}addRequestExtraInfo(e){this.#de.push(e);this.sync(this.#de.length-1)}addResponseExtraInfo(e){this.#ce.push(e);this.sync(this.#ce.length-1)}setEarlyHintsHeaders(e){this.#ue=e;this.updateFinalRequest()}setWebBundleInfo(e){this.#ge=e;this.updateFinalRequest()}setWebBundleInnerRequestInfo(e){this.#pe=e;this.updateFinalRequest()}finished(){this.#he=true;this.updateFinalRequest()}isFinished(){return this.#he}sync(e){const t=this.#le[e];if(!t){return}const r=this.#de[e];if(r){t.addExtraRequestInfo(r);this.#de[e]=null}const n=this.#ce[e];if(n){t.addExtraResponseInfo(n);this.#ce[e]=null}}finalRequest(){if(!this.#he){return null}return this.#le[this.#le.length-1]||null}updateFinalRequest(){if(!this.#he){return}const e=this.finalRequest();e?.setWebBundleInfo(this.#ge);e?.setWebBundleInnerRequestInfo(this.#pe);e?.setEarlyHintsHeaders(this.#ue)}};p.register(kt,{capabilities:nt.NETWORK,autostart:true});var Ut=class{stringify(e){const t=e;return JSON.stringify({...t,title:typeof t.title==="function"?t.title():t.title})}parse(e){const t=JSON.parse(e);return{...t,title:t.i18nTitleKey?vt(t.i18nTitleKey):t.title}}};function _t(e,t){const r=e.i18nTitleKey||(typeof e.title==="function"?e.title():e.title);const n=t.i18nTitleKey||(typeof t.title==="function"?t.title():t.title);return t.download===e.download&&t.upload===e.upload&&t.latency===e.latency&&e.packetLoss===t.packetLoss&&e.packetQueueLength===t.packetQueueLength&&e.packetReordering===t.packetReordering&&n===r}var qt={};a(qt,{Events:()=>Ra,PageDispatcher:()=>Ea,PrimaryPageChangeType:()=>Pa,ResourceTreeFrame:()=>Ta,ResourceTreeModel:()=>Ca});import*as Wt from"./../common/common.js";import*as Vt from"./../i18n/i18n.js";import*as jt from"./../platform/platform.js";var Gt={};a(Gt,{DOMDocument:()=>ia,DOMModel:()=>sa,DOMModelUndoStack:()=>da,DOMNode:()=>ta,DOMNodeShortcut:()=>na,DeferredDOMNode:()=>ra,Events:()=>oa});import*as zt from"./../common/common.js";import*as Kt from"./../host/host.js";import*as Qt from"./../platform/platform.js";import*as Xt from"./../root/root.js";var Jt={};a(Jt,{CSSLocation:()=>Ms,CSSModel:()=>Ts,CSSPropertyTracker:()=>Os,CSSPropertyTrackerEvents:()=>Fs,ColorScheme:()=>Rs,Edit:()=>xs,Events:()=>Es,InlineStyleResult:()=>Ns});import*as $t from"./../../models/text_utils/text_utils.js";import*as Yt from"./../common/common.js";import*as Zt from"./../host/host.js";import*as er from"./../platform/platform.js";var tr={};a(tr,{CSSFontFace:()=>rr});var rr=class{#me;#fe;#ye;#Se;#ve;constructor(e){this.#me=e.fontFamily;this.#fe=e.fontVariationAxes||[];this.#ye=new Map;this.#Se=e.src;this.#ve=e.fontDisplay;for(const e of this.#fe){this.#ye.set(e.tag,e)}}getFontFamily(){return this.#me}getSrc(){return this.#Se}getFontDisplay(){return this.#ve}getVariationAxisByTag(e){return this.#ye.get(e)}};var nr={};a(nr,{CSSMatchedStyles:()=>Fn,CSSRegisteredProperty:()=>Dn,CSSValueSource:()=>Un,PropertyState:()=>jn});import*as ir from"./../platform/platform.js";var sr={};a(sr,{CSSProperty:()=>qr});import*as or from"./../../models/text_utils/text_utils.js";import*as ar from"./../common/common.js";import*as lr from"./../host/host.js";import*as dr from"./../platform/platform.js";var cr={};a(cr,{ASTUtils:()=>Lr,BottomUpTreeMatching:()=>Er,CSSControlMap:()=>Ar,ComputedText:()=>xr,SyntaxTree:()=>Cr,TextMatch:()=>Dr,TreeSearch:()=>_r,TreeWalker:()=>Rr,VariableMatch:()=>Nr,VariableMatcher:()=>Or,matcherBase:()=>Tr,parseFontFamily:()=>Sr,parseFontVariationSettings:()=>fr,requiresSpace:()=>Mr,splitByComma:()=>vr,stripComments:()=>br,tokenizeDeclaration:()=>Hr,tokenizePropertyName:()=>Ur});import*as ur from"./../../third_party/codemirror.next/codemirror.next.js";var hr=new Set(["inherit","initial","unset"]);var gr=/[\x20-\x7E]{4}/;var pr=/[+-]?(?:\d*\.)?\d+(?:[eE]\d+)?/;var mr=new RegExp(`(?:'(${gr.source})')|(?:"(${gr.source})")\\s+(${pr.source})`);function fr(e){if(hr.has(e.trim())||e.trim()==="normal"){return[]}const t=[];for(const r of vr(br(e))){const e=r.match(mr);if(e){t.push({tag:e[1]||e[2],value:parseFloat(e[3])})}}return t}var yr=/^"(.+)"|'(.+)'$/;function Sr(e){if(hr.has(e.trim())){return[]}const t=[];for(const r of vr(br(e))){const e=r.match(yr);if(e){t.push(e[1]||e[2])}else{t.push(r)}}return t}function vr(e){return e.split(",").map((e=>e.trim()))}function br(e){return e.replaceAll(/(\/\*(?:.|\s)*?\*\/)/g,"")}var Ir=ur.css.cssLanguage.parser;function kr(e,t){return wr(e,e,t)}function wr(e,t,r){return r.substring(e.from,t.to)}var Cr=class e{propertyValue;rule;tree;trailingNodes;propertyName;constructor(e,t,r,n,i=[]){this.propertyName=n;this.propertyValue=e;this.rule=t;this.tree=r;this.trailingNodes=i}text(e){if(e===null){return""}return kr(e??this.tree,this.rule)}textRange(e,t){return wr(e,t,this.rule)}subtree(t){return new e(this.propertyValue,this.rule,t)}};var Rr=class{ast;constructor(e){this.ast=e}static walkExcludingSuccessors(e,...t){const r=new this(e,...t);if(e.tree.name==="Declaration"){r.iterateDeclaration(e.tree)}else{r.iterateExcludingSuccessors(e.tree)}return r}static walk(e,...t){const r=new this(e,...t);if(e.tree.name==="Declaration"){r.iterateDeclaration(e.tree)}else{r.iterate(e.tree)}return r}iterateDeclaration(e){if(e.name!=="Declaration"){return}if(this.enter(e)){Lr.declValue(e)?.cursor().iterate(this.enter.bind(this),this.leave.bind(this))}this.leave(e)}iterate(e){e.cursor().iterate(this.enter.bind(this),this.leave.bind(this))}iterateExcludingSuccessors(e){if(this.enter(e)){e.firstChild?.cursor().iterate(this.enter.bind(this),this.leave.bind(this))}this.leave(e)}enter(e){return true}leave(e){}};function Tr(e){class t{matchType=e;accepts(e){return true}matches(e,t){return null}}return t}var Er=class extends Rr{#be=[];#Ie=new Map;computedText;#ke(e){return`${e.from}:${e.to}`}constructor(e,t){super(e);this.computedText=new xr(e.rule.substring(e.tree.from));this.#be.push(...t.filter((t=>!e.propertyName||t.accepts(e.propertyName))));this.#be.push(new Fr)}leave({node:e}){for(const t of this.#be){const r=t.matches(e,this);if(r){this.computedText.push(r,e.from-this.ast.tree.from);this.#Ie.set(this.#ke(e),r);break}}}matchText(e){const t=this.#be.splice(0);this.#be.push(new Fr);this.iterateExcludingSuccessors(e);this.#be.push(...t)}getMatch(e){return this.#Ie.get(this.#ke(e))}hasUnresolvedVars(e){return this.hasUnresolvedVarsRange(e,e)}hasUnresolvedVarsRange(e,t){return this.computedText.hasUnresolvedVars(e.from-this.ast.tree.from,t.to-this.ast.tree.from)}getComputedText(e,t){return this.getComputedTextRange(e,e,t)}getComputedTextRange(e,t,r){return this.computedText.get(e.from-this.ast.tree.from,t.to-this.ast.tree.from,r)}};var Pr=class{constructor(e,t){this.match=e;this.offset=t}#we=null;get end(){return this.offset+this.length}get length(){return this.match.text.length}get computedText(){if(this.#we===null){this.#we=this.match.computedText()}return this.#we}};var xr=class{#Ce=[];text;#Re=true;constructor(e){this.text=e}clear(){this.#Ce.splice(0)}get chunkCount(){return this.#Ce.length}#Te(){if(this.#Re){return}this.#Ce.sort(((e,t)=>{if(e.offset<t.offset){return-1}if(t.offset<e.offset){return 1}if(e.end>t.end){return-1}if(e.end<t.end){return 1}return 0}));this.#Re=true}push(e,t){function r(e){return Boolean(e.computedText)}if(!r(e)||t<0||t>=this.text.length){return}const n=new Pr(e,t);if(n.end>this.text.length){return}this.#Re=false;this.#Ce.push(n)}*#Ee(e,t){this.#Te();let r=this.#Ce.findIndex((t=>t.offset>=e));while(r>=0&&r<this.#Ce.length&&this.#Ce[r].end>e&&e<t){if(this.#Ce[r].end>t){r++;continue}yield this.#Ce[r];e=this.#Ce[r].end;while(e<t&&r<this.#Ce.length&&this.#Ce[r].offset<e){r++}}}hasUnresolvedVars(e,t){for(const r of this.#Ee(e,t)){if(r.computedText===null){return true}}return false}*#Pe(e,t){for(const r of this.#Ee(e,t)){const n=this.text.substring(e,Math.min(r.offset,t));yield n;if(t>=r.end){yield r}e=r.end}if(e<t){const r=this.text.substring(e,t);yield r}}get(e,t,r){const n=[];const i=e=>{if(typeof e==="string"){return e}const t=r?.get(e.match);if(t){return i(t)}return e.computedText??e.match.text};for(const r of this.#Pe(e,t)){const e=i(r);if(e.length===0){continue}if(n.length>0&&Mr(n[n.length-1],e)){n.push(" ")}n.push(e)}return n.join("")}};function Mr(e,t){const r=Array.isArray(e)?e.findLast((e=>e.textContent))?.textContent:e;const n=Array.isArray(t)?t.find((e=>e.textContent))?.textContent:t;const i=r?r[r.length-1]:"";const s=n?n[0]:"";const o=["","(","{","}",";","["];const a=["","(",")",",",":","*","{",";","]"];return!/\s/.test(i)&&!/\s/.test(s)&&!o.includes(i)&&!a.includes(s)}var Ar=Map;var Lr;(e=>{function t(e){const t=[];while(e){t.push(e);e=e.nextSibling}return t}e.siblings=t;function r(e){return t(e?.firstChild??null)}e.children=r;function n(e){if(e.name!=="Declaration"){return null}return r(e).find((e=>e.name===":"))?.nextSibling??null}e.declValue=n;function*i(e){for(const t of e){if(t.type.name!=="Comment"){yield t}}}e.stripComments=i;function s(e){const t=[];let r=[];for(const n of e){if(n.name===","){t.push(r);r=[]}else{r.push(n)}}t.push(r);return t}e.split=s;function o(e){const t=r(e.getChild("ArgList"));const n=t.splice(0,1)[0];const i=t.pop();if(n?.name!=="("||i?.name!==")"){return[]}return s(t)}e.callArgs=o;function a(e,t){return e.name===t.name&&e.from===t.from&&e.to===t.to}e.equals=a})(Lr||(Lr={}));var Nr=class{constructor(e,t,r,n,i,s){this.text=e;this.node=t;this.name=r;this.fallback=n;this.matching=i;this.computedTextCallback=s}computedText(){return this.computedTextCallback(this,this.matching)}};var Or=class extends(Tr(Nr)){#xe;constructor(e){super();this.#xe=e}matches(e,t){const r=e.getChild("Callee");const n=e.getChild("ArgList");if(e.name!=="CallExpression"||!r||t.ast.text(r)!=="var"||!n){return null}const[i,s,...o]=Lr.children(n);if(i?.name!=="("||s?.name!=="VariableName"){return null}if(o.length<=1&&o[0]?.name!==")"){return null}let a=[];if(o.length>1){if(o.shift()?.name!==","){return null}if(o.pop()?.name!==")"){return null}a=o;if(a.length===0){return null}if(a.some((e=>e.name===","))){return null}}const l=t.ast.text(s);if(!l.startsWith("--")){return null}return new Nr(t.ast.text(e),e,l,a,t,this.#xe)}};var Dr=class{constructor(e,t){this.text=e;this.node=t;if(t.name==="Comment"){this.computedText=()=>""}}computedText;render(){return[document.createTextNode(this.text)]}};var Fr=class extends(Tr(Dr)){accepts(){return true}matches(e,t){if(!e.firstChild||e.name==="NumberLiteral"){const r=t.ast.text(e);if(r.length){return new Dr(r,e)}}return null}};function Br(e){return Ir.parse(e).topNode.getChild("RuleSet")?.getChild("Block")?.getChild("Declaration")??null}function Hr(e,t){const r=Ur(e);if(!r){return null}const n=`*{${r}: ${t};}`;const i=Br(n);if(!i||i.type.isError){return null}const s=Lr.children(i);if(s.length<2){return null}const[o,a,l]=s;if(!o||o.type.isError||!a||a.type.isError||l?.type.isError){return null}const d=Lr.siblings(i).slice(1);const[c,u]=d.splice(d.length-2,2);if(c?.name!==";"&&u?.name!=="}"){return null}const h=new Cr(t,n,i,r,d);if(h.text(o)!==r||a.name!==":"){return null}return h}function Ur(e){const t=`*{${e}: inherit;}`;const r=Br(t);if(!r||r.type.isError){return null}const n=r.getChild("PropertyName")??r.getChild("VariableName");if(!n){return null}return kr(n,t)}var _r=class e extends Rr{#Me=null;#Ae;constructor(e,t){super(e);this.#Ae=t}enter({node:e}){if(this.#Me){return false}if(this.#Ae(e)){this.#Me=this.#Me??e;return false}return true}static find(t,r){return e.walk(t,r).#Me}static findAll(t,r){const n=[];e.walk(t,(e=>{if(r(e)){n.push(e)}return false}));return n}};var qr=class e{ownerStyle;index;name;value;important;disabled;parsedOk;implicit;text;range;#Le;#Ne;#Oe;#De;#Fe=[];constructor(t,r,n,i,s,o,a,l,d,c,u){this.ownerStyle=t;this.index=r;this.name=n;this.value=i;this.important=s;this.disabled=o;this.parsedOk=a;this.implicit=l;this.text=d;this.range=c?or.TextRange.TextRange.fromObject(c):null;this.#Le=true;this.#Ne=null;this.#Oe=null;if(u&&u.length>0){for(const n of u){this.#Fe.push(new e(t,++r,n.name,n.value,s,o,a,true))}}else{const i=pe().getLonghands(n);for(const n of i||[]){this.#Fe.push(new e(t,++r,n,"",s,o,a,true))}}}static parsePayload(t,r,n){const i=new e(t,r,n.name,n.value,n.important||false,n.disabled||false,"parsedOk"in n?Boolean(n.parsedOk):true,Boolean(n.implicit),n.text,n.range,n.longhandProperties);return i}ensureRanges(){if(this.#Ne&&this.#Oe){return}const e=this.range;const t=this.text?new or.Text.Text(this.text):null;if(!e||!t){return}const r=t.value().indexOf(this.name);const n=t.value().lastIndexOf(this.value);if(r===-1||n===-1||r>n){return}const i=new or.TextRange.SourceRange(r,this.name.length);const s=new or.TextRange.SourceRange(n,this.value.length);this.#Ne=o(t.toTextRange(i),e.startLine,e.startColumn);this.#Oe=o(t.toTextRange(s),e.startLine,e.startColumn);function o(e,t,r){if(e.startLine===0){e.startColumn+=r;e.endColumn+=r}e.startLine+=t;e.endLine+=t;return e}}nameRange(){this.ensureRanges();return this.#Ne}valueRange(){this.ensureRanges();return this.#Oe}rebase(e){if(this.ownerStyle.styleSheetId!==e.styleSheetId){return}if(this.range){this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange)}}setActive(e){this.#Le=e}get propertyText(){if(this.text!==void 0){return this.text}if(this.name===""){return""}return this.name+": "+this.value+(this.important?" !important":"")+";"}activeInStyle(){return this.#Le}trimmedValueWithoutImportant(){const e="!important";return this.value.endsWith(e)?this.value.slice(0,-e.length).trim():this.value.trim()}async setText(t,r,n){if(!this.ownerStyle){throw new Error("No ownerStyle for property")}if(!this.ownerStyle.styleSheetId){throw new Error("No owner style id")}if(!this.range||!this.ownerStyle.range){throw new Error("Style not editable")}if(r){lr.userMetrics.actionTaken(lr.UserMetrics.Action.StyleRuleEdited);if(this.ownerStyle.parentRule?.isKeyframeRule()){lr.userMetrics.actionTaken(lr.UserMetrics.Action.StylePropertyInsideKeyframeEdited)}if(this.name.startsWith("--")){lr.userMetrics.actionTaken(lr.UserMetrics.Action.CustomPropertyEdited)}}if(n&&t===this.propertyText){this.ownerStyle.cssModel().domModel().markUndoableState(!r);return true}const i=this.range.relativeTo(this.ownerStyle.range.startLine,this.ownerStyle.range.startColumn);const s=this.ownerStyle.cssText?this.detectIndentation(this.ownerStyle.cssText):ar.Settings.Settings.instance().moduleSetting("text-editor-indent").get();const o=this.ownerStyle.cssText?s.substring(0,this.ownerStyle.range.endColumn):"";const a=new or.Text.Text(this.ownerStyle.cssText||"");const l=a.replaceRange(i,dr.StringUtilities.sprintf(";%s;",t));const d=await e.formatStyle(l,s,o);return this.ownerStyle.setText(d,r)}static async formatStyle(e,t,r){const n=t.substring(r.length)+t;if(t){t="\n"+t}let i="";let s="";let o="";let a=false;let l=false;const d=or.CodeMirrorUtils.createCssTokenizer();await d("*{"+e+"}",c);if(a){i+=o}i=i.substring(2,i.length-1).trimEnd();return i+(t?"\n"+r:"");function c(e,r){if(!a){const n=r?.includes("comment")&&u(e);const s=r?.includes("def")||r?.includes("string")||r?.includes("meta")||r?.includes("property")||r?.includes("variableName")&&r!=="variableName.function";if(n){i=i.trimEnd()+t+e}else if(s){a=true;o=e}else if(e!==";"||l){i+=e;if(e.trim()&&!r?.includes("comment")){l=e!==";"}}if(e==="{"&&!r){l=false}return}if(e==="}"||e===";"){const r=o.trim();i=i.trimEnd()+t+r+(r.endsWith(":")?" ":"")+e;l=false;a=false;s="";return}if(pe().isGridAreaDefiningProperty(s)){const t=he.exec(e);if(t&&t.index===0&&!o.trimEnd().endsWith("]")){o=o.trimEnd()+"\n"+n}}if(!s&&e===":"){s=o}o+=e}function u(e){const t=e.indexOf(":");if(t===-1){return false}const r=e.substring(2,t).trim();return pe().isCSSPropertyName(r)}}detectIndentation(e){const t=e.split("\n");if(t.length<2){return""}return or.TextUtils.Utils.lineIndent(t[1])}setValue(e,t,r,n){const i=this.name+": "+e+(this.important?" !important":"")+";";void this.setText(i,t,r).then(n)}async setDisabled(e){if(!this.ownerStyle){return false}if(e===this.disabled){return true}if(!this.text){return true}const t=this.text.trim();const r=e=>e+(e.endsWith(";")?"":";");let n;if(e){n="/* "+r(br(t))+" */"}else{n=r(this.text.substring(2,t.length-2).trim())}return this.setText(n,true,true)}setDisplayedStringForInvalidProperty(e){this.#De=e}getInvalidStringForInvalidProperty(){return this.#De}getLonghandProperties(){return this.#Fe}};var Wr={};a(Wr,{CSSFontPaletteValuesRule:()=>Rn,CSSKeyframeRule:()=>En,CSSKeyframesRule:()=>Tn,CSSPositionTryRule:()=>Pn,CSSPropertyRule:()=>Cn,CSSRule:()=>In,CSSStyleRule:()=>wn});import*as Vr from"./../../models/text_utils/text_utils.js";import*as jr from"./../platform/platform.js";var Gr={};a(Gr,{CSSContainerQuery:()=>Xr,CSSContainerQueryContainer:()=>Jr,PhysicalAxis:()=>en,QueryAxis:()=>Zr,getPhysicalAxisFromQueryAxis:()=>Yr,getQueryAxisFromContainerType:()=>$r});import*as zr from"./../../models/text_utils/text_utils.js";var Kr={};a(Kr,{CSSQuery:()=>Qr});var Qr=class{text="";range;styleSheetId;cssModel;constructor(e){this.cssModel=e}rebase(e){if(this.styleSheetId!==e.styleSheetId||!this.range){return}if(e.oldRange.equal(this.range)){this.reinitialize(e.payload)}else{this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange)}}equal(e){if(!this.styleSheetId||!this.range||!e.range){return false}return this.styleSheetId===e.styleSheetId&&this.range.equal(e.range)}lineNumberInSource(){if(!this.range){return void 0}return this.header()?.lineNumberInSource(this.range.startLine)}columnNumberInSource(){if(!this.range){return void 0}return this.header()?.columnNumberInSource(this.range.startLine,this.range.startColumn)}header(){return this.styleSheetId?this.cssModel.styleSheetHeaderForId(this.styleSheetId):null}rawLocation(){const e=this.header();if(!e||this.lineNumberInSource()===void 0){return null}const t=Number(this.lineNumberInSource());return new Ms(e,t,this.columnNumberInSource())}};var Xr=class e extends Qr{name;physicalAxes;logicalAxes;queriesScrollState;static parseContainerQueriesPayload(t,r){return r.map((r=>new e(t,r)))}constructor(e,t){super(e);this.reinitialize(t)}reinitialize(e){this.text=e.text;this.range=e.range?zr.TextRange.TextRange.fromObject(e.range):null;this.styleSheetId=e.styleSheetId;this.name=e.name;this.physicalAxes=e.physicalAxes;this.logicalAxes=e.logicalAxes;this.queriesScrollState=e.queriesScrollState}active(){return true}async getContainerForNode(e){const t=await this.cssModel.domModel().getContainerForNode(e,this.name,this.physicalAxes,this.logicalAxes,this.queriesScrollState);if(!t){return}return new Jr(t)}};var Jr=class{containerNode;constructor(e){this.containerNode=e}async getContainerSizeDetails(){const e=await this.containerNode.domModel().cssModel().getComputedStyle(this.containerNode.id);if(!e){return}const t=e.get("container-type");const r=e.get("writing-mode");if(!t||!r){return}const n=$r(`${t}`);const i=Yr(n,r);let s,o;if(i==="Both"||i==="Horizontal"){s=e.get("width")}if(i==="Both"||i==="Vertical"){o=e.get("height")}return{queryAxis:n,physicalAxis:i,width:s,height:o}}};var $r=e=>{const t=e.split(" ");let r=false;for(const e of t){if(e==="size"){return"size"}r=r||e==="inline-size"}if(r){return"inline-size"}return""};var Yr=(e,t)=>{const r=t.startsWith("vertical");switch(e){case"":return"";case"size":return"Both";case"inline-size":return r?"Vertical":"Horizontal";case"block-size":return r?"Horizontal":"Vertical"}};var Zr=(e=>{e["NONE"]="";e["INLINE"]="inline-size";e["BLOCK"]="block-size";e["BOTH"]="size";return e})(Zr||{});var en=(e=>{e["NONE"]="";e["HORIZONTAL"]="Horizontal";e["VERTICAL"]="Vertical";e["BOTH"]="Both";return e})(en||{});var tn={};a(tn,{CSSLayer:()=>nn});import*as rn from"./../../models/text_utils/text_utils.js";var nn=class e extends Qr{static parseLayerPayload(t,r){return r.map((r=>new e(t,r)))}constructor(e,t){super(e);this.reinitialize(t)}reinitialize(e){this.text=e.text;this.range=e.range?rn.TextRange.TextRange.fromObject(e.range):null;this.styleSheetId=e.styleSheetId}active(){return true}};var sn={};a(sn,{CSSMedia:()=>dn,CSSMediaQuery:()=>an,CSSMediaQueryExpression:()=>ln,Source:()=>cn});import*as on from"./../../models/text_utils/text_utils.js";var an=class e{#Be;#He;constructor(e){this.#Be=e.active;this.#He=[];for(let t=0;t<e.expressions.length;++t){this.#He.push(ln.parsePayload(e.expressions[t]))}}static parsePayload(t){return new e(t)}active(){return this.#Be}expressions(){return this.#He}};var ln=class e{#h;#Ue;#_e;#Oe;#qe;constructor(e){this.#h=e.value;this.#Ue=e.unit;this.#_e=e.feature;this.#Oe=e.valueRange?on.TextRange.TextRange.fromObject(e.valueRange):null;this.#qe=e.computedLength||null}static parsePayload(t){return new e(t)}value(){return this.#h}unit(){return this.#Ue}feature(){return this.#_e}valueRange(){return this.#Oe}computedLength(){return this.#qe}};var dn=class e extends Qr{source;sourceURL;mediaList;static parseMediaArrayPayload(t,r){return r.map((r=>new e(t,r)))}constructor(e,t){super(e);this.reinitialize(t)}reinitialize(e){this.text=e.text;this.source=e.source;this.sourceURL=e.sourceURL||"";this.range=e.range?on.TextRange.TextRange.fromObject(e.range):null;this.styleSheetId=e.styleSheetId;this.mediaList=null;if(e.mediaList){this.mediaList=[];for(let t=0;t<e.mediaList.length;++t){this.mediaList.push(an.parsePayload(e.mediaList[t]))}}}active(){if(!this.mediaList){return true}for(let e=0;e<this.mediaList.length;++e){if(this.mediaList[e].active()){return true}}return false}};var cn={LINKED_SHEET:"linkedSheet",INLINE_SHEET:"inlineSheet",MEDIA_RULE:"mediaRule",IMPORT_RULE:"importRule"};var un={};a(un,{CSSScope:()=>gn});import*as hn from"./../../models/text_utils/text_utils.js";var gn=class e extends Qr{static parseScopesPayload(t,r){return r.map((r=>new e(t,r)))}constructor(e,t){super(e);this.reinitialize(t)}reinitialize(e){this.text=e.text;this.range=e.range?hn.TextRange.TextRange.fromObject(e.range):null;this.styleSheetId=e.styleSheetId}active(){return true}};var pn={};a(pn,{CSSStyleDeclaration:()=>fn,Type:()=>yn});import*as mn from"./../../models/text_utils/text_utils.js";var fn=class{#We;parentRule;#Ve;styleSheetId;range;cssText;#je;#Ge;#ze;#Ke;type;constructor(e,t,r,n){this.#We=e;this.parentRule=t;this.#Qe(r);this.type=n}rebase(e){if(this.styleSheetId!==e.styleSheetId||!this.range){return}if(e.oldRange.equal(this.range)){this.#Qe(e.payload)}else{this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange);for(let t=0;t<this.#Ve.length;++t){this.#Ve[t].rebase(e)}}}#Qe(e){this.styleSheetId=e.styleSheetId;this.range=e.range?mn.TextRange.TextRange.fromObject(e.range):null;const t=e.shorthandEntries;this.#je=new Map;this.#Ge=new Set;for(let e=0;e<t.length;++e){this.#je.set(t[e].name,t[e].value);if(t[e].important){this.#Ge.add(t[e].name)}}this.#Ve=[];if(e.cssText&&this.range){const t=[];for(const r of e.cssProperties){const e=r.range;if(!e){continue}const n=qr.parsePayload(this,this.#Ve.length,r);this.#Ve.push(n);for(const e of n.getLonghandProperties()){t.push(e)}}for(const e of t){e.index=this.#Ve.length;this.#Ve.push(e)}}else{for(const t of e.cssProperties){this.#Ve.push(qr.parsePayload(this,this.#Ve.length,t))}}this.#Xe();this.#Je();this.#ze=new Map;for(const e of this.#Ve){if(!e.activeInStyle()){continue}this.#ze.set(e.name,e)}this.cssText=e.cssText;this.#Ke=null}#Xe(){if(this.range){return}if(!this.#je.size){return}const e=new Set;for(const t of this.#Ve){e.add(t.name)}const t=[];for(const r of this.#Ve){const n=pe().getShorthands(r.name)||[];for(const r of n){if(e.has(r)){continue}const n=this.#je.get(r);if(!n){continue}const i=Boolean(this.#Ge.has(r));const s=new qr(this,this.allProperties().length,r,n,i,false,true,false);t.push(s);e.add(r)}}this.#Ve=this.#Ve.concat(t)}#$e(){function e(e){return Boolean(e.range)}if(this.range){return this.#Ve.filter(e)}const t=[];for(const e of this.#Ve){const r=pe().getShorthands(e.name)||[];let n=false;for(const e of r){if(this.#je.get(e)){n=true;break}}if(!n){t.push(e)}}return t}leadingProperties(){if(!this.#Ke){this.#Ke=this.#$e()}return this.#Ke}target(){return this.#We.target()}cssModel(){return this.#We}#Je(){const e=new Map;const t=new Set;for(const r of this.#Ve){const n=pe();const i=n.canonicalPropertyName(r.name);if(r.disabled||!r.parsedOk){if(!r.disabled&&n.isCustomProperty(r.name)){e.get(i)?.setActive(false);e.delete(i)}r.setActive(false);continue}if(t.has(r)){continue}for(const n of r.getLonghandProperties()){const r=e.get(n.name);if(!r){e.set(n.name,n)}else if(!r.important||n.important){r.setActive(false);e.set(n.name,n)}else{n.setActive(false)}t.add(n)}const s=e.get(i);if(!s){e.set(i,r)}else if(!s.important||r.important){s.setActive(false);e.set(i,r)}else{r.setActive(false)}}}allProperties(){return this.#Ve}hasActiveProperty(e){return this.#ze.has(e)}getPropertyValue(e){const t=this.#ze.get(e);return t?t.value:""}isPropertyImplicit(e){const t=this.#ze.get(e);return t?t.implicit:false}propertyAt(e){return e<this.allProperties().length?this.allProperties()[e]:null}pastLastSourcePropertyIndex(){for(let e=this.allProperties().length-1;e>=0;--e){if(this.allProperties()[e].range){return e+1}}return 0}#Ye(e){const t=this.propertyAt(e);if(t&&t.range){return t.range.collapseToStart()}if(!this.range){throw new Error("CSSStyleDeclaration.range is null")}return this.range.collapseToEnd()}newBlankProperty(e){e=typeof e==="undefined"?this.pastLastSourcePropertyIndex():e;const t=new qr(this,e,"","",false,false,true,false,"",this.#Ye(e));return t}setText(e,t){if(!this.range||!this.styleSheetId){return Promise.resolve(false)}return this.#We.setStyleText(this.styleSheetId,this.range,e,t)}insertPropertyAt(e,t,r,n){void this.newBlankProperty(e).setText(t+": "+r+";",false,true).then(n)}appendProperty(e,t,r){this.insertPropertyAt(this.allProperties().length,e,t,r)}};var yn=(e=>{e["Regular"]="Regular";e["Inline"]="Inline";e["Attributes"]="Attributes";e["Pseudo"]="Pseudo";return e})(yn||{});var Sn={};a(Sn,{CSSSupports:()=>bn});import*as vn from"./../../models/text_utils/text_utils.js";var bn=class e extends Qr{static parseSupportsPayload(t,r){return r.map((r=>new e(t,r)))}#Le=true;constructor(e,t){super(e);this.reinitialize(t)}reinitialize(e){this.text=e.text;this.range=e.range?vn.TextRange.TextRange.fromObject(e.range):null;this.styleSheetId=e.styleSheetId;this.#Le=e.active}active(){return this.#Le}};var In=class{cssModelInternal;styleSheetId;sourceURL;origin;style;constructor(e,t){this.cssModelInternal=e;this.styleSheetId=t.styleSheetId;if(this.styleSheetId){const e=this.getStyleSheetHeader(this.styleSheetId);this.sourceURL=e.sourceURL}this.origin=t.origin;this.style=new fn(this.cssModelInternal,this,t.style,yn.Regular)}rebase(e){if(this.styleSheetId!==e.styleSheetId){return}this.style.rebase(e)}resourceURL(){if(!this.styleSheetId){return jr.DevToolsPath.EmptyUrlString}const e=this.getStyleSheetHeader(this.styleSheetId);return e.resourceURL()}isUserAgent(){return this.origin===w.StyleSheetOrigin.UserAgent}isInjected(){return this.origin===w.StyleSheetOrigin.Injected}isViaInspector(){return this.origin===w.StyleSheetOrigin.Inspector}isRegular(){return this.origin===w.StyleSheetOrigin.Regular}isKeyframeRule(){return false}cssModel(){return this.cssModelInternal}getStyleSheetHeader(e){const t=this.cssModelInternal.styleSheetHeaderForId(e);console.assert(t!==null);return t}};var kn=class{text;range;specificity;constructor(e){this.text=e.text;if(e.range){this.range=Vr.TextRange.TextRange.fromObject(e.range)}if(e.specificity){this.specificity=e.specificity}}rebase(e){if(!this.range){return}this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange)}};var wn=class e extends In{selectors;nestingSelectors;media;containerQueries;supports;scopes;layers;ruleTypes;wasUsed;constructor(e,t,r){super(e,{origin:t.origin,style:t.style,styleSheetId:t.styleSheetId});this.reinitializeSelectors(t.selectorList);this.nestingSelectors=t.nestingSelectors;this.media=t.media?dn.parseMediaArrayPayload(e,t.media):[];this.containerQueries=t.containerQueries?Xr.parseContainerQueriesPayload(e,t.containerQueries):[];this.scopes=t.scopes?gn.parseScopesPayload(e,t.scopes):[];this.supports=t.supports?bn.parseSupportsPayload(e,t.supports):[];this.layers=t.layers?nn.parseLayerPayload(e,t.layers):[];this.ruleTypes=t.ruleTypes||[];this.wasUsed=r||false}static createDummyRule(t,r){const n={selectorList:{text:"",selectors:[{text:r,value:void 0}]},style:{styleSheetId:"0",range:new Vr.TextRange.TextRange(0,0,0,0),shorthandEntries:[],cssProperties:[]},origin:w.StyleSheetOrigin.Inspector};return new e(t,n)}reinitializeSelectors(e){this.selectors=[];for(let t=0;t<e.selectors.length;++t){this.selectors.push(new kn(e.selectors[t]))}}setSelectorText(e){const t=this.styleSheetId;if(!t){throw"No rule stylesheet id"}const r=this.selectorRange();if(!r){throw"Rule selector is not editable"}return this.cssModelInternal.setSelectorText(t,r,e)}selectorText(){return this.selectors.map((e=>e.text)).join(", ")}selectorRange(){if(this.selectors.length===0){return null}const e=this.selectors[0].range;const t=this.selectors[this.selectors.length-1].range;if(!e||!t){return null}return new Vr.TextRange.TextRange(e.startLine,e.startColumn,t.endLine,t.endColumn)}lineNumberInSource(e){const t=this.selectors[e];if(!t||!t.range||!this.styleSheetId){return 0}const r=this.getStyleSheetHeader(this.styleSheetId);return r.lineNumberInSource(t.range.startLine)}columnNumberInSource(e){const t=this.selectors[e];if(!t||!t.range||!this.styleSheetId){return void 0}const r=this.getStyleSheetHeader(this.styleSheetId);return r.columnNumberInSource(t.range.startLine,t.range.startColumn)}rebase(e){if(this.styleSheetId!==e.styleSheetId){return}const t=this.selectorRange();if(t&&t.equal(e.oldRange)){this.reinitializeSelectors(e.payload)}else{for(let t=0;t<this.selectors.length;++t){this.selectors[t].rebase(e)}}this.media.forEach((t=>t.rebase(e)));this.containerQueries.forEach((t=>t.rebase(e)));this.scopes.forEach((t=>t.rebase(e)));this.supports.forEach((t=>t.rebase(e)));super.rebase(e)}};var Cn=class extends In{#Ze;constructor(e,t){super(e,{origin:t.origin,style:t.style,styleSheetId:t.styleSheetId});this.#Ze=new kn(t.propertyName)}propertyName(){return this.#Ze}initialValue(){return this.style.hasActiveProperty("initial-value")?this.style.getPropertyValue("initial-value"):null}syntax(){return this.style.getPropertyValue("syntax")}inherits(){return this.style.getPropertyValue("inherits")==="true"}setPropertyName(e){const t=this.styleSheetId;if(!t){throw new Error("No rule stylesheet id")}const r=this.#Ze.range;if(!r){throw new Error("Property name is not editable")}return this.cssModelInternal.setPropertyRulePropertyName(t,r,e)}};var Rn=class extends In{#et;constructor(e,t){super(e,{origin:t.origin,style:t.style,styleSheetId:t.styleSheetId});this.#et=new kn(t.fontPaletteName)}name(){return this.#et}};var Tn=class{#tt;#rt;constructor(e,t){this.#tt=new kn(t.animationName);this.#rt=t.keyframes.map((t=>new En(e,t)))}name(){return this.#tt}keyframes(){return this.#rt}};var En=class extends In{#nt;constructor(e,t){super(e,{origin:t.origin,style:t.style,styleSheetId:t.styleSheetId});this.reinitializeKey(t.keyText)}key(){return this.#nt}reinitializeKey(e){this.#nt=new kn(e)}rebase(e){if(this.styleSheetId!==e.styleSheetId||!this.#nt.range){return}if(e.oldRange.equal(this.#nt.range)){this.reinitializeKey(e.payload)}else{this.#nt.rebase(e)}super.rebase(e)}isKeyframeRule(){return true}setKeyText(e){const t=this.styleSheetId;if(!t){throw"No rule stylesheet id"}const r=this.#nt.range;if(!r){throw"Keyframe key is not editable"}return this.cssModelInternal.setKeyframeKey(t,r,e)}};var Pn=class extends In{#Ze;#Le;constructor(e,t){super(e,{origin:t.origin,style:t.style,styleSheetId:t.styleSheetId});this.#Ze=new kn(t.name);this.#Le=t.active}name(){return this.#Ze}active(){return this.#Le}};function xn(e,t){if(!t.styleSheetId||!t.range){return false}for(const r of e){if(t.styleSheetId===r.styleSheetId&&r.range&&t.range.equal(r.range)){return true}}return false}function Mn(e){const t=e.allProperties();return t.some((e=>pe().isCustomProperty(e.name)))}function An(e){const t=e.allProperties();for(let e=0;e<t.length;++e){const r=t[e];if(r.activeInStyle()&&pe().isPropertyInherited(r.name)){return true}}return false}function Ln(e){for(const t of e){i(t)}const t=[];for(const i of e){const e=t[t.length-1];if(!e||i.rule.origin!=="user-agent"||e.rule.origin!=="user-agent"||i.rule.selectorList.text!==e.rule.selectorList.text||n(i)!==n(e)){t.push(i);continue}r(i,e)}return t;function r(e,t){const r=new Map;const n=new Map;for(const e of t.rule.style.shorthandEntries){r.set(e.name,e.value)}for(const e of t.rule.style.cssProperties){n.set(e.name,e.value)}for(const t of e.rule.style.shorthandEntries){r.set(t.name,t.value)}for(const t of e.rule.style.cssProperties){n.set(t.name,t.value)}t.rule.style.shorthandEntries=[...r.entries()].map((([e,t])=>({name:e,value:t})));t.rule.style.cssProperties=[...n.entries()].map((([e,t])=>({name:e,value:t})))}function n(e){if(!e.rule.media){return null}return e.rule.media.map((e=>e.text)).join(", ")}function i(e){const{matchingSelectors:t,rule:r}=e;if(r.origin!=="user-agent"||!t.length){return}r.selectorList.selectors=r.selectorList.selectors.filter(((e,r)=>t.includes(r)));r.selectorList.text=r.selectorList.selectors.map((e=>e.text)).join(", ");e.matchingSelectors=t.map(((e,t)=>t))}}function Nn(e){const t=new Map;for(let r=0;r<e.matchingSelectors.length;r++){const n=e.matchingSelectors[r];const i=e.rule.selectorList.selectors[n].text;const s=i.match(/::highlight\((.*)\)/);if(s){const e=s[1];const r=t.get(e);if(r){r.push(n)}else{t.set(e,[n])}}}return t}function On(e){if(!e.parentRule){return true}const t=e.parentRule;const r=[...t.media,...t.containerQueries,...t.supports,...t.scopes];for(const e of r){if(!e.active()){return false}}return true}var Dn=class{#it;#st;#ot;constructor(e,t){this.#st=e;this.#it=t}isAtProperty(){return this.#it instanceof Cn}propertyName(){return this.#it instanceof Cn?this.#it.propertyName().text:this.#it.propertyName}initialValue(){return this.#it instanceof Cn?this.#it.initialValue():this.#it.initialValue?.text??null}inherits(){return this.#it instanceof Cn?this.#it.inherits():this.#it.inherits}syntax(){return this.#it instanceof Cn?this.#it.syntax():`"${this.#it.syntax}"`}#at(){if(this.#it instanceof Cn){return[]}const{inherits:e,initialValue:t,syntax:r}=this.#it;const n=[{name:"inherits",value:`${e}`},{name:"syntax",value:`"${r}"`}];if(t!==void 0){n.push({name:"initial-value",value:t.text})}return n}style(){if(!this.#ot){this.#ot=this.#it instanceof Cn?this.#it.style:new fn(this.#st,null,{cssProperties:this.#at(),shorthandEntries:[]},yn.Pseudo)}return this.#ot}};var Fn=class e{#We;#lt;#dt;#ct;#rt;#ut;#ht=new Map;#gt;#pt;#mt;#ft;#yt;#St;#vt;#bt;#It;#kt;static async create(t){const r=new e(t);await r.init(t);return r}constructor({cssModel:e,node:t,animationsPayload:r,parentLayoutNodeId:n,positionTryRules:i,propertyRules:s,cssPropertyRegistrations:o,fontPaletteValuesRule:a,activePositionFallbackIndex:l}){this.#We=e;this.#lt=t;this.#dt=new Map;this.#ct=new Map;this.#ut=[...s.map((t=>new Cn(e,t))),...o].map((t=>new Dn(e,t)));this.#rt=[];if(r){this.#rt=r.map((t=>new Tn(e,t)))}this.#yt=i.map((t=>new Pn(e,t)));this.#ft=n;this.#kt=a?new Rn(e,a):void 0;this.#gt=new Map;this.#pt=new Set;this.#mt=new Map;this.#ht=new Map;this.#St=l}async init({matchedPayload:e,inheritedPayload:t,inlinePayload:r,attributesPayload:n,pseudoPayload:i,inheritedPseudoPayload:s}){e=Ln(e);for(const e of t){e.matchedCSSRules=Ln(e.matchedCSSRules)}this.#vt=await this.buildMainCascade(r,n,e,t);[this.#bt,this.#It]=this.buildPseudoCascades(i,s);for(const e of Array.from(this.#It.values()).concat(Array.from(this.#bt.values())).concat(this.#vt)){for(const t of e.styles()){this.#mt.set(t,e)}}for(const e of this.#ut){this.#ht.set(e.propertyName(),e)}}async buildMainCascade(e,t,r,n){const i=[];const s=[];function o(){if(!t){return}const e=new fn(this.#We,null,t,yn.Attributes);this.#gt.set(e,this.#lt);s.push(e)}if(e&&this.#lt.nodeType()===Node.ELEMENT_NODE){const t=new fn(this.#We,null,e,yn.Inline);this.#gt.set(t,this.#lt);s.push(t)}let a;for(let e=r.length-1;e>=0;--e){const t=new wn(this.#We,r[e].rule);if((t.isInjected()||t.isUserAgent())&&!a){a=true;o.call(this)}this.#gt.set(t.style,this.#lt);s.push(t.style);this.addMatchingSelectors(this.#lt,t,r[e].matchingSelectors)}if(!a){o.call(this)}i.push(new Bn(this,s,false));let l=this.#lt.parentNode;const d=async e=>{if(e.hasAssignedSlot()){return await(e.assignedSlot?.deferredNode.resolvePromise())??null}return e.parentNode};for(let e=0;l&&n&&e<n.length;++e){const t=[];const r=n[e];const o=r.inlineStyle?new fn(this.#We,null,r.inlineStyle,yn.Inline):null;if(o&&An(o)){this.#gt.set(o,l);t.push(o);this.#pt.add(o)}const a=r.matchedCSSRules||[];for(let e=a.length-1;e>=0;--e){const r=new wn(this.#We,a[e].rule);this.addMatchingSelectors(l,r,a[e].matchingSelectors);if(!An(r.style)){continue}if(!Mn(r.style)){if(xn(s,r.style)||xn(this.#pt,r.style)){continue}}this.#gt.set(r.style,l);t.push(r.style);this.#pt.add(r.style)}l=await d(l);i.push(new Bn(this,t,true))}return new Vn(i,this.#ut)}buildSplitCustomHighlightCascades(e,t,r,n){const i=new Map;for(let n=e.length-1;n>=0;--n){const s=Nn(e[n]);for(const[o,a]of s){const s=new wn(this.#We,e[n].rule);this.#gt.set(s.style,t);if(r){this.#pt.add(s.style)}this.addMatchingSelectors(t,s,a);const l=i.get(o);if(l){l.push(s.style)}else{i.set(o,[s.style])}}}for(const[e,t]of i){const i=new Bn(this,t,r,true);const s=n.get(e);if(s){s.push(i)}else{n.set(e,[i])}}}buildPseudoCascades(e,t){const r=new Map;const n=new Map;if(!e){return[r,n]}const i=new Map;const s=new Map;for(let t=0;t<e.length;++t){const r=e[t];const n=this.#lt.pseudoElements().get(r.pseudoType)?.at(-1)||null;const o=[];const a=r.matches||[];if(r.pseudoType===R.PseudoType.Highlight){this.buildSplitCustomHighlightCascades(a,this.#lt,false,s)}else{for(let e=a.length-1;e>=0;--e){const t=new wn(this.#We,a[e].rule);o.push(t.style);const i=pe().isHighlightPseudoType(r.pseudoType)?this.#lt:n;this.#gt.set(t.style,i);if(i){this.addMatchingSelectors(i,t,a[e].matchingSelectors)}}const e=pe().isHighlightPseudoType(r.pseudoType);const t=new Bn(this,o,false,e);i.set(r.pseudoType,[t])}}if(t){let e=this.#lt.parentNode;for(let r=0;e&&r<t.length;++r){const n=t[r].pseudoElements;for(let t=0;t<n.length;++t){const r=n[t];const o=r.matches||[];if(r.pseudoType===R.PseudoType.Highlight){this.buildSplitCustomHighlightCascades(o,e,true,s)}else{const t=[];for(let r=o.length-1;r>=0;--r){const n=new wn(this.#We,o[r].rule);t.push(n.style);this.#gt.set(n.style,e);this.#pt.add(n.style);this.addMatchingSelectors(e,n,o[r].matchingSelectors)}const n=pe().isHighlightPseudoType(r.pseudoType);const s=new Bn(this,t,true,n);const a=i.get(r.pseudoType);if(a){a.push(s)}else{i.set(r.pseudoType,[s])}}}e=e.parentNode}}for(const[e,t]of i.entries()){r.set(e,new Vn(t,this.#ut))}for(const[e,t]of s.entries()){n.set(e,new Vn(t,this.#ut))}return[r,n]}addMatchingSelectors(e,t,r){for(const n of r){const r=t.selectors[n];if(r){this.setSelectorMatches(e,r.text,true)}}}node(){return this.#lt}cssModel(){return this.#We}hasMatchingSelectors(e){return(e.selectors.length===0||this.getMatchingSelectors(e).length>0)&&On(e.style)}getParentLayoutNodeId(){return this.#ft}getMatchingSelectors(e){const t=this.nodeForStyle(e.style);if(!t||typeof t.id!=="number"){return[]}const r=this.#ct.get(t.id);if(!r){return[]}const n=[];for(let t=0;t<e.selectors.length;++t){if(r.get(e.selectors[t].text)){n.push(t)}}return n}async recomputeMatchingSelectors(e){const t=this.nodeForStyle(e.style);if(!t){return}const r=[];for(const i of e.selectors){r.push(n.call(this,t,i.text))}await Promise.all(r);async function n(e,t){const r=e.ownerDocument;if(!r){return}if(typeof e.id==="number"){const r=this.#ct.get(e.id);if(r&&r.has(t)){return}}if(typeof r.id!=="number"){return}const n=await this.#lt.domModel().querySelectorAll(r.id,t);if(n){if(typeof e.id==="number"){this.setSelectorMatches(e,t,n.indexOf(e.id)!==-1)}else{this.setSelectorMatches(e,t,false)}}}}addNewRule(e,t){this.#dt.set(e.style,t);return this.recomputeMatchingSelectors(e)}setSelectorMatches(e,t,r){if(typeof e.id!=="number"){return}let n=this.#ct.get(e.id);if(!n){n=new Map;this.#ct.set(e.id,n)}n.set(t,r)}nodeStyles(){ir.assertNotNullOrUndefined(this.#vt);return this.#vt.styles()}registeredProperties(){return this.#ut}getRegisteredProperty(e){return this.#ht.get(e)}fontPaletteValuesRule(){return this.#kt}keyframes(){return this.#rt}positionTryRules(){return this.#yt}activePositionFallbackIndex(){return this.#St}pseudoStyles(e){ir.assertNotNullOrUndefined(this.#bt);const t=this.#bt.get(e);return t?t.styles():[]}pseudoTypes(){ir.assertNotNullOrUndefined(this.#bt);return new Set(this.#bt.keys())}customHighlightPseudoStyles(e){ir.assertNotNullOrUndefined(this.#It);const t=this.#It.get(e);return t?t.styles():[]}customHighlightPseudoNames(){ir.assertNotNullOrUndefined(this.#It);return new Set(this.#It.keys())}nodeForStyle(e){return this.#dt.get(e)||this.#gt.get(e)||null}availableCSSVariables(e){const t=this.#mt.get(e);return t?t.findAvailableCSSVariables(e):[]}computeCSSVariable(e,t){const r=this.#mt.get(e);return r?r.computeCSSVariable(e,t):null}resolveGlobalKeyword(e,t){const r=this.#mt.get(e.ownerStyle)?.resolveGlobalKeyword(e,t);return r?new Un(r):null}isInherited(e){return this.#pt.has(e)}propertyState(e){const t=this.#mt.get(e.ownerStyle);return t?t.propertyState(e):null}resetActiveProperties(){ir.assertNotNullOrUndefined(this.#vt);ir.assertNotNullOrUndefined(this.#bt);ir.assertNotNullOrUndefined(this.#It);this.#vt.reset();for(const e of this.#bt.values()){e.reset()}for(const e of this.#It.values()){e.reset()}}};var Bn=class{#wt;styles;#Ct;#Rt;propertiesState;activeProperties;constructor(e,t,r,n=false){this.#wt=e;this.styles=t;this.#Ct=r;this.#Rt=n;this.propertiesState=new Map;this.activeProperties=new Map}computeActiveProperties(){this.propertiesState.clear();this.activeProperties.clear();for(let e=this.styles.length-1;e>=0;e--){const t=this.styles[e];const r=t.parentRule;if(r&&!(r instanceof wn)){continue}if(r&&!this.#wt.hasMatchingSelectors(r)){continue}for(const e of t.allProperties()){const r=pe();if(this.#Ct&&!this.#Rt&&!r.isPropertyInherited(e.name)){continue}if(t.range&&!e.range){continue}if(!e.activeInStyle()){this.propertiesState.set(e,"Overloaded");continue}if(this.#Ct){const t=this.#wt.getRegisteredProperty(e.name);if(t&&!t.inherits()){this.propertiesState.set(e,"Overloaded");continue}}const n=r.canonicalPropertyName(e.name);this.updatePropertyState(e,n);for(const t of e.getLonghandProperties()){if(r.isCSSPropertyName(t.name)){this.updatePropertyState(t,t.name)}}}}}updatePropertyState(e,t){const r=this.activeProperties.get(t);if(r?.important&&!e.important){this.propertiesState.set(e,"Overloaded");return}if(r){this.propertiesState.set(r,"Overloaded")}this.propertiesState.set(e,"Active");this.activeProperties.set(t,e)}};function Hn(e){return"ownerStyle"in e}var Un=class{declaration;constructor(e){this.declaration=e}get value(){return Hn(this.declaration)?this.declaration.value:this.declaration.initialValue()}get style(){return Hn(this.declaration)?this.declaration.ownerStyle:this.declaration.style()}get name(){return Hn(this.declaration)?this.declaration.name:this.declaration.propertyName()}};var _n=class{constructor(e,t,r){this.nodeCascade=e;this.name=t;this.discoveryTime=r;this.rootDiscoveryTime=r}rootDiscoveryTime;get isRootEntry(){return this.rootDiscoveryTime===this.discoveryTime}updateRoot(e){this.rootDiscoveryTime=Math.min(this.rootDiscoveryTime,e.rootDiscoveryTime)}};var qn=class{#Tt=0;#Et=[];#Pt=new Map;get(e,t){return this.#Pt.get(e)?.get(t)}add(e,t){const r=this.get(e,t);if(r){return r}const n=new _n(e,t,this.#Tt++);this.#Et.push(n);let i=this.#Pt.get(e);if(!i){i=new Map;this.#Pt.set(e,i)}i.set(t,n);return n}isInInProgressSCC(e){return this.#Et.includes(e)}finishSCC(e){const t=this.#Et.lastIndexOf(e);console.assert(t>=0,"Root is not an in-progress scc");return this.#Et.splice(t)}};function*Wn(e,t){const r=t!==void 0?e.indexOf(t)+1:0;for(let t=r;t<e.length;++t){yield e[t]}}var Vn=class{#xt;#Mt;#At;#Lt;#Nt;#Ot;#ut;constructor(e,t){this.#xt=e;this.#Mt=new Map;this.#At=new Map;this.#Lt=new Map;this.#Nt=false;this.#ut=t;this.#Ot=new Map;for(const t of e){for(const e of t.styles){this.#Ot.set(e,t)}}}findAvailableCSSVariables(e){const t=this.#Ot.get(e);if(!t){return[]}this.ensureInitialized();const r=this.#At.get(t);if(!r){return[]}return Array.from(r.keys())}#Dt(e,t){const r=this.#Ot.get(e.ownerStyle);if(!r){return null}for(const n of Wn(r.styles,e.ownerStyle)){const r=n.allProperties().findLast((r=>r.name===e.name&&t(r)));if(r){return r}}return null}#Ft(e){const t=this.#Ot.get(e.ownerStyle);if(!t){return null}for(const r of Wn(this.#xt,t)){for(const t of r.styles){const r=t.allProperties().findLast((t=>t.name===e.name));if(r){return r}}}return null}#Bt(e){if(!pe().isPropertyInherited(e.name)||!(this.#Ht(e)?.inherits()??true)){return null}return this.#Ft(e)}#Ht(e){const t=this.#ut.find((t=>t.propertyName()===e.name));return t?t:null}resolveGlobalKeyword(e,t){const r=t=>{if(!(t.ownerStyle.parentRule instanceof wn)){return false}if(e.ownerStyle.type===yn.Inline){return true}if(e.ownerStyle.parentRule instanceof wn&&t.ownerStyle.parentRule?.origin===w.StyleSheetOrigin.Regular){return JSON.stringify(t.ownerStyle.parentRule.layers)!==JSON.stringify(e.ownerStyle.parentRule.layers)}return false};switch(t){case ie.INITIAL:return this.#Ht(e);case ie.INHERIT:return this.#Ft(e)??this.#Ht(e);case ie.REVERT:return this.#Dt(e,(t=>t.ownerStyle.parentRule!==null&&t.ownerStyle.parentRule.origin!==(e.ownerStyle.parentRule?.origin??w.StyleSheetOrigin.Regular)))??this.resolveGlobalKeyword(e,ie.UNSET);case ie.REVERT_LAYER:return this.#Dt(e,r)??this.resolveGlobalKeyword(e,ie.REVERT);case ie.UNSET:return this.#Bt(e)??this.#Ht(e)}}computeCSSVariable(e,t){const r=this.#Ot.get(e);if(!r){return null}this.ensureInitialized();return this.innerComputeCSSVariable(r,t)}innerComputeCSSVariable(e,t,r=new qn){const n=this.#At.get(e);const i=this.#Lt.get(e);if(!i||!n?.has(t)){return null}if(i?.has(t)){return i.get(t)||null}let s=n.get(t);if(s===void 0||s===null){return null}if(s.declaration.declaration instanceof qr&&s.declaration.value&&ne.isCSSWideKeyword(s.declaration.value)){const e=this.resolveGlobalKeyword(s.declaration.declaration,s.declaration.value);if(!e){return s}const t=new Un(e);const{value:r}=t;if(!r){return s}s={declaration:t,value:r}}const o=Hr(`--${t}`,s.value);if(!o){return null}const a=r.add(e,t);const l=Er.walk(o,[new Or((e=>{const t=s.declaration.style;const n=this.#Ot.get(t);if(!n){return null}const i=r.get(n,e.name);if(i){if(r.isInInProgressSCC(i)){a.updateRoot(i);return null}return this.#Lt.get(n)?.get(e.name)?.value??null}const o=this.innerComputeCSSVariable(n,e.name,r);const l=r.get(n,e.name);l&&a.updateRoot(l);if(o?.value!==void 0){return o.value}if(e.fallback.length===0||e.matching.hasUnresolvedVarsRange(e.fallback[0],e.fallback[e.fallback.length-1])){return null}return e.matching.getComputedTextRange(e.fallback[0],e.fallback[e.fallback.length-1])}))]);const d=Lr.siblings(Lr.declValue(l.ast.tree));const c=d.length>0?l.getComputedTextRange(d[0],d[d.length-1]):"";if(a.isRootEntry){const t=r.finishSCC(a);if(t.length>1){for(const r of t){console.assert(r.nodeCascade===e,"Circles should be within the cascade");i.set(r.name,null)}return null}}if(d.length>0&&l.hasUnresolvedVarsRange(d[0],d[d.length-1])){i.set(t,null);return null}const u={value:c,declaration:s.declaration};i.set(t,u);return u}styles(){return Array.from(this.#Ot.keys())}propertyState(e){this.ensureInitialized();return this.#Mt.get(e)||null}reset(){this.#Nt=false;this.#Mt.clear();this.#At.clear();this.#Lt.clear()}ensureInitialized(){if(this.#Nt){return}this.#Nt=true;const e=new Map;for(const t of this.#xt){t.computeActiveProperties();for(const[r,n]of t.propertiesState){if(n==="Overloaded"){this.#Mt.set(r,"Overloaded");continue}const t=pe().canonicalPropertyName(r.name);if(e.has(t)){this.#Mt.set(r,"Overloaded");continue}e.set(t,r);this.#Mt.set(r,"Active")}}for(const[t,r]of e){const n=r.ownerStyle;const i=r.getLonghandProperties();if(!i.length){continue}let s=false;for(const t of i){const r=pe().canonicalPropertyName(t.name);const i=e.get(r);if(!i){continue}if(i.ownerStyle===n){s=true;break}}if(s){continue}e.delete(t);this.#Mt.set(r,"Overloaded")}const t=new Map;for(const e of this.#ut){const r=e.initialValue();t.set(e.propertyName(),r!==null?{value:r,declaration:new Un(e)}:null)}for(let e=this.#xt.length-1;e>=0;--e){const r=this.#xt[e];const n=[];for(const e of r.activeProperties.entries()){const r=e[0];const i=e[1];if(r.startsWith("--")){t.set(r,{value:i.value,declaration:new Un(i)});n.push(r)}}const i=new Map(t);const s=new Map;this.#At.set(r,i);this.#Lt.set(r,s);for(const e of n){const n=t.get(e);t.delete(e);const i=this.innerComputeCSSVariable(r,e);if(n&&i?.value===n.value){i.declaration=n.declaration}t.set(e,i)}}}};var jn=(e=>{e["ACTIVE"]="Active";e["OVERLOADED"]="Overloaded";return e})(jn||{});var Gn={};a(Gn,{CSSStyleSheetHeader:()=>ei});import*as zn from"./../../models/text_utils/text_utils.js";import*as Kn from"./../common/common.js";import*as Qn from"./../i18n/i18n.js";import*as Xn from"./../platform/platform.js";import*as Jn from"./../root/root.js";var $n={couldNotFindTheOriginalStyle:"Could not find the original style sheet.",thereWasAnErrorRetrievingThe:"There was an error retrieving the source styles."};var Yn=Qn.i18n.registerUIStrings("core/sdk/CSSStyleSheetHeader.ts",$n);var Zn=Qn.i18n.getLocalizedString.bind(void 0,Yn);var ei=class{#We;id;frameId;sourceURL;hasSourceURL;origin;title;disabled;isInline;isMutable;isConstructed;startLine;startColumn;endLine;endColumn;contentLength;ownerNode;sourceMapURL;loadingFailed;#Ut;constructor(e,t){this.#We=e;this.id=t.styleSheetId;this.frameId=t.frameId;this.sourceURL=t.sourceURL;this.hasSourceURL=Boolean(t.hasSourceURL);this.origin=t.origin;this.title=t.title;this.disabled=t.disabled;this.isInline=t.isInline;this.isMutable=t.isMutable;this.isConstructed=t.isConstructed;this.startLine=t.startLine;this.startColumn=t.startColumn;this.endLine=t.endLine;this.endColumn=t.endColumn;this.contentLength=t.length;if(t.ownerNode){this.ownerNode=new ra(e.target(),t.ownerNode)}this.sourceMapURL=t.sourceMapURL;this.loadingFailed=t.loadingFailed??false;this.#Ut=null}originalContentProvider(){if(!this.#Ut){const e=async()=>{const e=await this.#We.originalStyleSheetText(this);if(e===null){return{error:Zn($n.couldNotFindTheOriginalStyle)}}return new zn.ContentData.ContentData(e,false,"text/css")};this.#Ut=new zn.StaticContentProvider.StaticContentProvider(this.contentURL(),this.contentType(),e)}return this.#Ut}setSourceMapURL(e){this.sourceMapURL=e}cssModel(){return this.#We}isAnonymousInlineStyleSheet(){return!this.resourceURL()&&!this.#We.sourceMapManager().sourceMapForClient(this)}isConstructedByNew(){return this.isConstructed&&this.sourceURL.length===0}resourceURL(){const e=this.isViaInspector()?this.viaInspectorResourceURL():this.sourceURL;if(!e&&Jn.Runtime.experiments.isEnabled(Jn.Runtime.ExperimentName.STYLES_PANE_CSS_CHANGES)){return this.dynamicStyleURL()}return e}getFrameURLPath(){const e=this.#We.target().model(Ca);console.assert(Boolean(e));if(!e){return""}const t=e.frameForId(this.frameId);if(!t){return""}console.assert(Boolean(t));const r=new Kn.ParsedURL.ParsedURL(t.url);let n=r.host+r.folderPathComponents;if(!n.endsWith("/")){n+="/"}return n}viaInspectorResourceURL(){return`inspector://${this.getFrameURLPath()}inspector-stylesheet`}dynamicStyleURL(){return`stylesheet://${this.getFrameURLPath()}style#${this.id}`}lineNumberInSource(e){return this.startLine+e}columnNumberInSource(e,t){return(e?0:this.startColumn)+t}containsLocation(e,t){const r=e===this.startLine&&t>=this.startColumn||e>this.startLine;const n=e<this.endLine||e===this.endLine&&t<=this.endColumn;return r&&n}contentURL(){return this.resourceURL()}contentType(){return Kn.ResourceType.resourceTypes.Stylesheet}requestContent(){return this.requestContentData().then(zn.ContentData.ContentData.asDeferredContent.bind(void 0))}async requestContentData(){const e=await this.#We.getStyleSheetText(this.id);if(e===null){return{error:Zn($n.thereWasAnErrorRetrievingThe)}}return new zn.ContentData.ContentData(e,false,"text/css")}async searchInContent(e,t,r){const n=await this.requestContentData();return zn.TextUtils.performSearchInContentData(n,e,t,r)}isViaInspector(){return this.origin==="inspector"}createPageResourceLoadInitiator(){return{target:this.#We.target(),frameId:this.frameId,initiatorUrl:this.hasSourceURL?Xn.DevToolsPath.EmptyUrlString:this.sourceURL}}};var ti={};a(ti,{Events:()=>Cs,SourceMapManager:()=>ks});import*as ri from"./../common/common.js";import*as ni from"./../platform/platform.js";var ii={};a(ii,{Events:()=>Hi,PageResourceLoader:()=>Fi,ResourceKey:()=>Oi,getLoadThroughTargetSetting:()=>Bi});import*as si from"./../common/common.js";import*as oi from"./../host/host.js";import*as ai from"./../i18n/i18n.js";var li={};a(li,{Events:()=>hi,FrameManager:()=>ui});import*as di from"./../common/common.js";var ci=null;var ui=class e extends di.ObjectWrapper.ObjectWrapper{#_t=new WeakMap;#qt=new Map;#Wt=new Map;#Vt=null;#jt=new Map;#Gt=new Map;constructor(){super();ut.instance().observeModels(Ca,this)}static instance({forceNew:t}={forceNew:false}){if(!ci||t){ci=new e}return ci}static removeInstance(){ci=null}modelAdded(e){const t=e.addEventListener(Ra.FrameAdded,this.frameAdded,this);const r=e.addEventListener(Ra.FrameDetached,this.frameDetached,this);const n=e.addEventListener(Ra.FrameNavigated,this.frameNavigated,this);const i=e.addEventListener(Ra.ResourceAdded,this.resourceAdded,this);this.#_t.set(e,[t,r,n,i]);this.#Wt.set(e.target().id(),new Set)}modelRemoved(e){const t=this.#_t.get(e);if(t){di.EventTarget.removeEventListeners(t)}const r=this.#Wt.get(e.target().id());if(r){for(const e of r){this.decreaseOrRemoveFrame(e)}}this.#Wt.delete(e.target().id())}frameAdded(e){const t=e.data;const r=this.#qt.get(t.id);if(r){t.setCreationStackTrace(r.frame.getCreationStackTraceData());this.#qt.set(t.id,{frame:t,count:r.count+1})}else{const e=this.#jt.get(t.id);if(e?.creationStackTrace&&e?.creationStackTraceTarget){t.setCreationStackTrace({creationStackTrace:e.creationStackTrace,creationStackTraceTarget:e.creationStackTraceTarget})}this.#qt.set(t.id,{frame:t,count:1});this.#jt.delete(t.id)}this.resetOutermostFrame();const n=this.#Wt.get(t.resourceTreeModel().target().id());if(n){n.add(t.id)}this.dispatchEventToListeners("FrameAddedToTarget",{frame:t});this.resolveAwaitedFrame(t)}frameDetached(e){const{frame:t,isSwap:r}=e.data;this.decreaseOrRemoveFrame(t.id);if(r&&!this.#qt.get(t.id)){const e=t.getCreationStackTraceData();const r={...e.creationStackTrace&&{creationStackTrace:e.creationStackTrace},...e.creationStackTrace&&{creationStackTraceTarget:e.creationStackTraceTarget}};this.#jt.set(t.id,r)}const n=this.#Wt.get(t.resourceTreeModel().target().id());if(n){n.delete(t.id)}}frameNavigated(e){const t=e.data;this.dispatchEventToListeners("FrameNavigated",{frame:t});if(t.isOutermostFrame()){this.dispatchEventToListeners("OutermostFrameNavigated",{frame:t})}}resourceAdded(e){this.dispatchEventToListeners("ResourceAdded",{resource:e.data})}decreaseOrRemoveFrame(e){const t=this.#qt.get(e);if(t){if(t.count===1){this.#qt.delete(e);this.resetOutermostFrame();this.dispatchEventToListeners("FrameRemoved",{frameId:e})}else{t.count--}}}resetOutermostFrame(){const e=this.getAllFrames().filter((e=>e.isOutermostFrame()));this.#Vt=e.length>0?e[0]:null}getFrame(e){const t=this.#qt.get(e);if(t){return t.frame}return null}getAllFrames(){return Array.from(this.#qt.values(),(e=>e.frame))}getOutermostFrame(){return this.#Vt}async getOrWaitForFrame(e,t){const r=this.getFrame(e);if(r&&(!t||t!==r.resourceTreeModel().target())){return r}return new Promise((r=>{const n=this.#Gt.get(e);if(n){n.push({notInTarget:t,resolve:r})}else{this.#Gt.set(e,[{notInTarget:t,resolve:r}])}}))}resolveAwaitedFrame(e){const t=this.#Gt.get(e.id);if(!t){return}const r=t.filter((({notInTarget:t,resolve:r})=>{if(!t||t!==e.resourceTreeModel().target()){r(e);return false}return true}));if(r.length>0){this.#Gt.set(e.id,r)}else{this.#Gt.delete(e.id)}}};var hi=(e=>{e["FRAME_ADDED_TO_TARGET"]="FrameAddedToTarget";e["FRAME_NAVIGATED"]="FrameNavigated";e["FRAME_REMOVED"]="FrameRemoved";e["RESOURCE_ADDED"]="ResourceAdded";e["OUTERMOST_FRAME_NAVIGATED"]="OutermostFrameNavigated";return e})(hi||{});var gi={};a(gi,{IOModel:()=>xi});import*as pi from"./../common/common.js";var mi={};a(mi,{LinearMemoryInspectable:()=>Pi,LocalJSONObject:()=>Ii,RemoteArray:()=>wi,RemoteArrayBuffer:()=>ki,RemoteError:()=>Ri,RemoteFunction:()=>Ci,RemoteObject:()=>fi,RemoteObjectImpl:()=>yi,RemoteObjectProperty:()=>bi,ScopeRef:()=>vi,ScopeRemoteObject:()=>Si});var fi=class e{static fromLocalObject(e){return new Ii(e)}static type(e){if(e===null){return"null"}const t=typeof e;if(t!=="object"&&t!=="function"){return t}return e.type}static isNullOrUndefined(e){if(e===void 0){return true}switch(e.type){case Y.RemoteObjectType.Object:return e.subtype===Y.RemoteObjectSubtype.Null;case Y.RemoteObjectType.Undefined:return true;default:return false}}static arrayNameFromDescription(e){return e.replace(Ti,"").replace(Ei,"")}static arrayLength(e){if(e.subtype!=="array"&&e.subtype!=="typedarray"){return 0}const t=e.description&&e.description.match(Ti);const r=e.description&&e.description.match(Ei);return t?parseInt(t[1],10):r?parseInt(r[1],10):0}static arrayBufferByteLength(e){if(e.subtype!=="arraybuffer"){return 0}const t=e.description&&e.description.match(Ti);return t?parseInt(t[1],10):0}static unserializableDescription(e){if(typeof e==="number"){const t=String(e);if(e===0&&1/e<0){return"-0"}if(t==="NaN"||t==="Infinity"||t==="-Infinity"){return t}}if(typeof e==="bigint"){return e+"n"}return null}static toCallArgument(t){const r=typeof t;if(r==="undefined"){return{}}const n=e.unserializableDescription(t);if(r==="number"){if(n!==null){return{unserializableValue:n}}return{value:t}}if(r==="bigint"){return{unserializableValue:n}}if(r==="string"||r==="boolean"){return{value:t}}if(!t){return{value:null}}const i=t;if(t instanceof e){const e=t.unserializableValue();if(e!==void 0){return{unserializableValue:e}}}else if(i.unserializableValue!==void 0){return{unserializableValue:i.unserializableValue}}if(typeof i.objectId!=="undefined"){return{objectId:i.objectId}}return{value:i.value}}static async loadFromObjectPerProto(e,t,r=false){const n=await Promise.all([e.getAllProperties(true,t,r),e.getOwnProperties(t,r)]);const i=n[0].properties;const s=n[1].properties;const o=n[1].internalProperties;if(!s||!i){return{properties:null,internalProperties:null}}const a=new Map;const l=[];for(let e=0;e<i.length;e++){const t=i[e];if(t.symbol){l.push(t)}else if(t.isOwn||t.name!=="__proto__"){a.set(t.name,t)}}for(let e=0;e<s.length;e++){const t=s[e];if(t.isAccessorProperty()){continue}if(t.private||t.symbol){l.push(t)}else{a.set(t.name,t)}}return{properties:[...a.values()].concat(l),internalProperties:o?o:null}}customPreview(){return null}get objectId(){return"Not implemented"}get type(){throw"Not implemented"}get subtype(){throw"Not implemented"}get value(){throw"Not implemented"}unserializableValue(){throw"Not implemented"}get description(){throw"Not implemented"}set description(e){throw"Not implemented"}get hasChildren(){throw"Not implemented"}get preview(){return void 0}get className(){return null}arrayLength(){throw"Not implemented"}arrayBufferByteLength(){throw"Not implemented"}getOwnProperties(e,t){throw"Not implemented"}getAllProperties(e,t,r){throw"Not implemented"}async deleteProperty(e){throw"Not implemented"}async setPropertyValue(e,t){throw"Not implemented"}callFunction(e,t){throw"Not implemented"}callFunctionJSON(e,t){throw"Not implemented"}release(){}debuggerModel(){throw new Error("DebuggerModel-less object")}runtimeModel(){throw new Error("RuntimeModel-less object")}isNode(){return false}isLinearMemoryInspectable(){return false}webIdl};var yi=class extends fi{runtimeModelInternal;#zt;#g;#Kt;#Qt;#Xt;hasChildrenInternal;#Jt;#$t;#h;#Yt;#Zt;constructor(e,t,r,n,i,s,o,a,l,d){super();this.runtimeModelInternal=e;this.#zt=e.target().runtimeAgent();this.#g=r;this.#Kt=n;if(t){this.#Qt=t;this.#Xt=o;this.hasChildrenInternal=r!=="symbol";this.#Jt=a}else{this.#Xt=o;if(!this.description&&s){this.#Xt=s}if(!this.#Xt&&(typeof i!=="object"||i===null)){this.#Xt=String(i)}this.hasChildrenInternal=false;if(typeof s==="string"){this.#$t=s;if(s==="Infinity"||s==="-Infinity"||s==="-0"||s==="NaN"){this.#h=Number(s)}else if(r==="bigint"&&s.endsWith("n")){this.#h=BigInt(s.substring(0,s.length-1))}else{this.#h=s}}else{this.#h=i}}this.#Yt=l||null;this.#Zt=typeof d==="string"?d:null}customPreview(){return this.#Yt}get objectId(){return this.#Qt}get type(){return this.#g}get subtype(){return this.#Kt}get value(){return this.#h}unserializableValue(){return this.#$t}get description(){return this.#Xt}set description(e){this.#Xt=e}get hasChildren(){return this.hasChildrenInternal}get preview(){return this.#Jt}get className(){return this.#Zt}getOwnProperties(e,t=false){return this.doGetProperties(true,false,t,e)}getAllProperties(e,t,r=false){return this.doGetProperties(false,e,r,t)}async createRemoteObject(e){return this.runtimeModelInternal.createRemoteObject(e)}async doGetProperties(e,t,r,n){if(!this.#Qt){return{properties:null,internalProperties:null}}const i=await this.#zt.invoke_getProperties({objectId:this.#Qt,ownProperties:e,accessorPropertiesOnly:t,nonIndexedPropertiesOnly:r,generatePreview:n});if(i.getError()){return{properties:null,internalProperties:null}}if(i.exceptionDetails){this.runtimeModelInternal.exceptionThrown(Date.now(),i.exceptionDetails);return{properties:null,internalProperties:null}}const{result:s=[],internalProperties:o=[],privateProperties:a=[]}=i;const l=[];for(const e of s){const t=e.value?await this.createRemoteObject(e.value):null;const r=e.symbol?this.runtimeModelInternal.createRemoteObject(e.symbol):null;const n=new bi(e.name,t,Boolean(e.enumerable),Boolean(e.writable),Boolean(e.isOwn),Boolean(e.wasThrown),r);if(typeof e.value==="undefined"){if(e.get&&e.get.type!=="undefined"){n.getter=this.runtimeModelInternal.createRemoteObject(e.get)}if(e.set&&e.set.type!=="undefined"){n.setter=this.runtimeModelInternal.createRemoteObject(e.set)}}l.push(n)}for(const e of a){const t=e.value?this.runtimeModelInternal.createRemoteObject(e.value):null;const r=new bi(e.name,t,true,true,true,false,void 0,false,void 0,true);if(typeof e.value==="undefined"){if(e.get&&e.get.type!=="undefined"){r.getter=this.runtimeModelInternal.createRemoteObject(e.get)}if(e.set&&e.set.type!=="undefined"){r.setter=this.runtimeModelInternal.createRemoteObject(e.set)}}l.push(r)}const d=[];for(const e of o){if(!e.value){continue}const t=this.runtimeModelInternal.createRemoteObject(e.value);d.push(new bi(e.name,t,true,false,void 0,void 0,void 0,true))}return{properties:l,internalProperties:d}}async setPropertyValue(e,t){if(!this.#Qt){return"Can’t set a property of non-object."}const r=await this.#zt.invoke_evaluate({expression:t,silent:true});if(r.getError()||r.exceptionDetails){return r.getError()||(r.result.type!=="string"?r.result.description:r.result.value)}if(typeof e==="string"){e=fi.toCallArgument(e)}const n=this.doSetObjectPropertyValue(r.result,e);if(r.result.objectId){void this.#zt.invoke_releaseObject({objectId:r.result.objectId})}return n}async doSetObjectPropertyValue(e,t){const r="function(a, b) { this[a] = b; }";const n=[t,fi.toCallArgument(e)];const i=await this.#zt.invoke_callFunctionOn({objectId:this.#Qt,functionDeclaration:r,arguments:n,silent:true});const s=i.getError();return s||i.exceptionDetails?s||i.result.description:void 0}async deleteProperty(e){if(!this.#Qt){return"Can’t delete a property of non-object."}const t="function(a) { delete this[a]; return !(a in this); }";const r=await this.#zt.invoke_callFunctionOn({objectId:this.#Qt,functionDeclaration:t,arguments:[e],silent:true});if(r.getError()||r.exceptionDetails){return r.getError()||r.result.description}if(!r.result.value){return"Failed to delete property."}return void 0}async callFunction(e,t){const r=await this.#zt.invoke_callFunctionOn({objectId:this.#Qt,functionDeclaration:e.toString(),arguments:t,silent:true});if(r.getError()){return{object:null,wasThrown:false}}return{object:this.runtimeModelInternal.createRemoteObject(r.result),wasThrown:Boolean(r.exceptionDetails)}}async callFunctionJSON(e,t){const r=await this.#zt.invoke_callFunctionOn({objectId:this.#Qt,functionDeclaration:e.toString(),arguments:t,silent:true,returnByValue:true});return r.getError()||r.exceptionDetails?null:r.result.value}release(){if(!this.#Qt){return}void this.#zt.invoke_releaseObject({objectId:this.#Qt})}arrayLength(){return fi.arrayLength(this)}arrayBufferByteLength(){return fi.arrayBufferByteLength(this)}debuggerModel(){return this.runtimeModelInternal.debuggerModel()}runtimeModel(){return this.runtimeModelInternal}isNode(){return Boolean(this.#Qt)&&this.type==="object"&&this.subtype==="node"}isLinearMemoryInspectable(){return this.type==="object"&&this.subtype!==void 0&&["webassemblymemory","typedarray","dataview","arraybuffer"].includes(this.subtype)}};var Si=class extends yi{#er;#tr;constructor(e,t,r,n,i,s,o,a,l){super(e,t,n,i,s,o,a,l);this.#er=r;this.#tr=void 0}async doGetProperties(e,t,r){if(t){return{properties:[],internalProperties:[]}}if(this.#tr){return{properties:this.#tr.slice(),internalProperties:null}}const n=await super.doGetProperties(e,t,false,true);if(Array.isArray(n.properties)){this.#tr=n.properties.slice();for(const e of this.#tr){e.writable=false}}return n}async doSetObjectPropertyValue(e,t){const r=t.value;const n=await this.debuggerModel().setVariableValue(this.#er.number,r,fi.toCallArgument(e),this.#er.callFrameId);if(n){return n}if(this.#tr){for(const t of this.#tr){if(t.name===r){t.value=this.runtimeModel().createRemoteObject(e)}}}return}};var vi=class{number;callFrameId;constructor(e,t){this.number=e;this.callFrameId=t}};var bi=class e{name;value;enumerable;writable;isOwn;wasThrown;symbol;synthetic;syntheticSetter;private;getter;setter;webIdl;constructor(e,t,r,n,i,s,o,a,l,d){this.name=e;this.value=t!==null?t:void 0;this.enumerable=typeof r!=="undefined"?r:true;const c=!a||Boolean(l);this.writable=typeof n!=="undefined"?n:c;this.isOwn=Boolean(i);this.wasThrown=Boolean(s);if(o){this.symbol=o}this.synthetic=Boolean(a);if(l){this.syntheticSetter=l}this.private=Boolean(d)}async setSyntheticValue(e){if(!this.syntheticSetter){return false}const t=await this.syntheticSetter(e);if(t){this.value=t}return Boolean(t)}isAccessorProperty(){return Boolean(this.getter||this.setter)}match({includeNullOrUndefinedValues:e,regex:t}){if(t!==null){if(!t.test(this.name)&&!t.test(this.value?.description??"")){return false}}if(!e){if(!this.isAccessorProperty()&&fi.isNullOrUndefined(this.value)){return false}}return true}cloneWithNewName(t){const r=new e(t,this.value??null,this.enumerable,this.writable,this.isOwn,this.wasThrown,this.symbol,this.synthetic,this.syntheticSetter,this.private);r.getter=this.getter;r.setter=this.setter;return r}};var Ii=class extends fi{valueInternal;#rr;#nr;constructor(e){super();this.valueInternal=e}get objectId(){return void 0}get value(){return this.valueInternal}unserializableValue(){const e=fi.unserializableDescription(this.valueInternal);return e||void 0}get description(){if(this.#rr){return this.#rr}function e(e){return this.formatValue(e.value||null)}function t(e){let t=e.name;if(/^\s|\s$|^$|\n/.test(t)){t='"'+t.replace(/\n/g,"↵")+'"'}return t+": "+this.formatValue(e.value||null)}if(this.type==="object"){switch(this.subtype){case"array":this.#rr=this.concatenate("[","]",e.bind(this));break;case"date":this.#rr=String(this.valueInternal);break;case"null":this.#rr="null";break;default:this.#rr=this.concatenate("{","}",t.bind(this))}}else{this.#rr=String(this.valueInternal)}return this.#rr}formatValue(e){if(!e){return"undefined"}const t=e.description||"";if(e.type==="string"){return'"'+t.replace(/\n/g,"↵")+'"'}return t}concatenate(e,t,r){const n=100;let i=e;const s=this.children();for(let e=0;e<s.length;++e){const t=r(s[e]);if(i.length+t.length>n){i+=",…";break}if(e){i+=", "}i+=t}i+=t;return i}get type(){return typeof this.valueInternal}get subtype(){if(this.valueInternal===null){return"null"}if(Array.isArray(this.valueInternal)){return"array"}if(this.valueInternal instanceof Date){return"date"}return void 0}get hasChildren(){if(typeof this.valueInternal!=="object"||this.valueInternal===null){return false}return Boolean(Object.keys(this.valueInternal).length)}async getOwnProperties(e,t=false){function r(e){const t=Number(e)>>>0;return String(t)===e}let n=this.children();if(t){n=n.filter((e=>!r(e.name)))}return{properties:n,internalProperties:null}}async getAllProperties(e,t,r=false){if(e){return{properties:[],internalProperties:null}}return await this.getOwnProperties(t,r)}children(){if(!this.hasChildren){return[]}if(!this.#nr){this.#nr=Object.entries(this.valueInternal).map((([e,t])=>new bi(e,t instanceof fi?t:fi.fromLocalObject(t))))}return this.#nr}arrayLength(){return Array.isArray(this.valueInternal)?this.valueInternal.length:0}async callFunction(e,t){const r=this.valueInternal;const n=t?t.map((e=>e.value)):[];let i;let s=false;try{i=e.apply(r,n)}catch(e){s=true}const o=fi.fromLocalObject(i);return{object:o,wasThrown:s}}async callFunctionJSON(e,t){const r=this.valueInternal;const n=t?t.map((e=>e.value)):[];let i;try{i=e.apply(r,n)}catch(e){i=null}return i}};var ki=class{#ir;constructor(e){if(e.type!=="object"||e.subtype!=="arraybuffer"){throw new Error("Object is not an arraybuffer")}this.#ir=e}byteLength(){return this.#ir.arrayBufferByteLength()}async bytes(e=0,t=this.byteLength()){if(e<0||e>=this.byteLength()){throw new RangeError("start is out of range")}if(t<e||t>this.byteLength()){throw new RangeError("end is out of range")}return await this.#ir.callFunctionJSON(r,[{value:e},{value:t-e}]);function r(e,t){return[...new Uint8Array(this,e,t)]}}object(){return this.#ir}};var wi=class e{#ir;constructor(e){this.#ir=e}static objectAsArray(t){if(!t||t.type!=="object"||t.subtype!=="array"&&t.subtype!=="typedarray"){throw new Error("Object is empty or not an array")}return new e(t)}static async createFromRemoteObjects(t){if(!t.length){throw new Error("Input array is empty")}const r=await t[0].callFunction(n,t.map(fi.toCallArgument));if(r.wasThrown||!r.object){throw new Error("Call function throws exceptions or returns empty value")}return e.objectAsArray(r.object);function n(...e){return e}}async at(e){if(e<0||e>this.#ir.arrayLength()){throw new Error("Out of range")}const t=await this.#ir.callFunction(r,[fi.toCallArgument(e)]);if(t.wasThrown||!t.object){throw new Error("Exception in callFunction or result value is empty")}return t.object;function r(e){return this[e]}}length(){return this.#ir.arrayLength()}map(e){const t=[];for(let r=0;r<this.length();++r){t.push(this.at(r).then(e))}return Promise.all(t)}object(){return this.#ir}};var Ci=class e{#sr;constructor(e){this.#sr=e}static objectAsFunction(t){if(t.type!=="function"){throw new Error("Object is empty or not a function")}return new e(t)}async targetFunction(){const e=await this.#sr.getOwnProperties(false);const t=e.internalProperties?.find((({name:e})=>e==="[[TargetFunction]]"));return t?.value??this.#sr}async targetFunctionDetails(){const e=await this.targetFunction();const t=await e.debuggerModel().functionDetailsPromise(e);if(this.#sr!==e){e.release()}return t}};var Ri=class e{#sr;#or;#ar;constructor(e){this.#sr=e}static objectAsError(t){if(t.subtype!=="error"){throw new Error(`Object of type ${t.subtype} is not an error`)}return new e(t)}get errorStack(){return this.#sr.description??""}exceptionDetails(){if(!this.#or){this.#or=this.#lr()}return this.#or}#lr(){if(this.#sr.objectId){return this.#sr.runtimeModel().getExceptionDetails(this.#sr.objectId)}return Promise.resolve(void 0)}cause(){if(!this.#ar){this.#ar=this.#dr()}return this.#ar}async#dr(){const e=await this.#sr.getAllProperties(false,false);const t=e.properties?.find((e=>e.name==="cause"));return t?.value}};var Ti=/\(([0-9]+)\)/;var Ei=/\[([0-9]+)\]/;var Pi=class{object;expression;constructor(e,t){if(!e.isLinearMemoryInspectable()){throw new Error("object must be linear memory inspectable")}this.object=e;this.expression=t}};var xi=class extends p{constructor(e){super(e)}async read(e,t,r){const n=await this.target().ioAgent().invoke_read({handle:e,offset:r,size:t});if(n.getError()){throw new Error(n.getError())}if(n.eof){return null}if(n.base64Encoded){return pi.Base64.decode(n.data)}return n.data}async close(e){const t=await this.target().ioAgent().invoke_close({handle:e});if(t.getError()){console.error("Could not close stream.")}}async resolveBlob(e){const t=e instanceof fi?e.objectId:e;if(!t){throw new Error("Remote object has undefined objectId")}const r=await this.target().ioAgent().invoke_resolveBlob({objectId:t});if(r.getError()){throw new Error(r.getError())}return`blob:${r.uuid}`}async readToString(e){const t=[];const r=new TextDecoder;for(;;){const n=await this.read(e,1024*1024);if(n===null){t.push(r.decode());break}if(n instanceof ArrayBuffer){t.push(r.decode(n,{stream:true}))}else{t.push(n)}}return t.join("")}};p.register(xi,{capabilities:nt.IO,autostart:true});var Mi={loadCanceledDueToReloadOf:"Load canceled due to reload of inspected page"};var Ai=ai.i18n.registerUIStrings("core/sdk/PageResourceLoader.ts",Mi);var Li=ai.i18n.getLocalizedString.bind(void 0,Ai);function Ni(e){return"extensionId"in e}var Oi=class{key;constructor(e){this.key=e}};var Di=null;var Fi=class e extends si.ObjectWrapper.ObjectWrapper{#cr;#ur;#hr;#gr;#pr;#mr;constructor(e,t){super();this.#cr=0;this.#ur=new Map;this.#hr=t;this.#gr=new Map;this.#pr=[];ut.instance().addModelListener(Ca,Ra.PrimaryPageChanged,this.onPrimaryPageChanged,this);this.#mr=e}static instance({forceNew:t,loadOverride:r,maxConcurrentLoads:n}={forceNew:false,loadOverride:null,maxConcurrentLoads:500}){if(!Di||t){Di=new e(r,n)}return Di}static removeInstance(){Di=null}onPrimaryPageChanged(e){const{frame:t,type:r}=e.data;if(!t.isOutermostFrame()){return}for(const{reject:e}of this.#pr){e(new Error(Li(Mi.loadCanceledDueToReloadOf)))}this.#pr=[];const n=t.resourceTreeModel().target();const i=new Map;for(const[e,t]of this.#gr.entries()){if(r===Pa.ACTIVATION&&n===t.initiator.target){i.set(e,t)}}this.#gr=i;this.dispatchEventToListeners("Update")}getResourcesLoaded(){return this.#gr}getScopedResourcesLoaded(){return new Map([...this.#gr].filter((([e,t])=>ut.instance().isInScope(t.initiator.target)||Ni(t.initiator))))}getNumberOfResources(){return{loading:this.#cr,queued:this.#pr.length,resources:this.#gr.size}}getScopedNumberOfResources(){const e=ut.instance();let t=0;for(const[r,n]of this.#ur){const i=e.targetById(r);if(e.isInScope(i)){t+=n}}return{loading:t,resources:this.getScopedResourcesLoaded().size}}async acquireLoadSlot(e){this.#cr++;if(e){const t=this.#ur.get(e.id())||0;this.#ur.set(e.id(),t+1)}if(this.#cr>this.#hr){const e={resolve:()=>{},reject:()=>{}};const t=new Promise(((t,r)=>{e.resolve=t;e.reject=r}));this.#pr.push(e);await t}}releaseLoadSlot(e){this.#cr--;if(e){const t=this.#ur.get(e.id());if(t){this.#ur.set(e.id(),t-1)}}const t=this.#pr.shift();if(t){t.resolve()}}static makeExtensionKey(e,t){if(Ni(t)&&t.extensionId){return`${e}-${t.extensionId}`}throw new Error("Invalid initiator")}static makeKey(e,t){if(t.frameId){return`${e}-${t.frameId}`}if(t.target){return`${e}-${t.target.id()}`}throw new Error("Invalid initiator")}resourceLoadedThroughExtension(t){const r=e.makeExtensionKey(t.url,t.initiator);this.#gr.set(r,t);this.dispatchEventToListeners("Update")}async loadResource(t,r){if(Ni(r)){throw new Error("Invalid initiator")}const n=e.makeKey(t,r);const i={success:null,size:null,errorMessage:void 0,url:t,initiator:r};this.#gr.set(n,i);this.dispatchEventToListeners("Update");try{await this.acquireLoadSlot(r.target);const e=this.dispatchLoad(t,r);const n=await e;i.errorMessage=n.errorDescription.message;i.success=n.success;if(n.success){i.size=n.content.length;return{content:n.content}}throw new Error(n.errorDescription.message)}catch(e){if(i.errorMessage===void 0){i.errorMessage=e.message}if(i.success===null){i.success=false}throw e}finally{this.releaseLoadSlot(r.target);this.dispatchEventToListeners("Update")}}async dispatchLoad(e,t){if(Ni(t)){throw new Error("Invalid initiator")}let r=null;if(this.#mr){return this.#mr(e)}const n=new si.ParsedURL.ParsedURL(e);const i=Bi().get()&&n&&n.scheme!=="file"&&n.scheme!=="data"&&n.scheme!=="devtools";oi.userMetrics.developerResourceScheme(this.getDeveloperResourceScheme(n));if(i){try{if(t.target){oi.userMetrics.developerResourceLoaded(oi.UserMetrics.DeveloperResourceLoaded.LOAD_THROUGH_PAGE_VIA_TARGET);const r=await this.loadFromTarget(t.target,t.frameId,e);return r}const r=ui.instance().getFrame(t.frameId);if(r){oi.userMetrics.developerResourceLoaded(oi.UserMetrics.DeveloperResourceLoaded.LOAD_THROUGH_PAGE_VIA_FRAME);const n=await this.loadFromTarget(r.resourceTreeModel().target(),t.frameId,e);return n}}catch(e){if(e instanceof Error){oi.userMetrics.developerResourceLoaded(oi.UserMetrics.DeveloperResourceLoaded.LOAD_THROUGH_PAGE_FAILURE);r=e.message}}oi.userMetrics.developerResourceLoaded(oi.UserMetrics.DeveloperResourceLoaded.LOAD_THROUGH_PAGE_FALLBACK)}else{const e=Bi().get()?oi.UserMetrics.DeveloperResourceLoaded.FALLBACK_PER_PROTOCOL:oi.UserMetrics.DeveloperResourceLoaded.FALLBACK_PER_OVERRIDE;oi.userMetrics.developerResourceLoaded(e)}const s=await Ft.instance().loadResource(e);if(i&&!s.success){oi.userMetrics.developerResourceLoaded(oi.UserMetrics.DeveloperResourceLoaded.FALLBACK_FAILURE)}if(r){s.errorDescription.message=`Fetch through target failed: ${r}; Fallback: ${s.errorDescription.message}`}return s}getDeveloperResourceScheme(e){if(!e||e.scheme===""){return oi.UserMetrics.DeveloperResourceScheme.UKNOWN}const t=e.host==="localhost"||e.host.endsWith(".localhost");switch(e.scheme){case"file":return oi.UserMetrics.DeveloperResourceScheme.FILE;case"data":return oi.UserMetrics.DeveloperResourceScheme.DATA;case"blob":return oi.UserMetrics.DeveloperResourceScheme.BLOB;case"http":return t?oi.UserMetrics.DeveloperResourceScheme.HTTP_LOCALHOST:oi.UserMetrics.DeveloperResourceScheme.HTTP;case"https":return t?oi.UserMetrics.DeveloperResourceScheme.HTTPS_LOCALHOST:oi.UserMetrics.DeveloperResourceScheme.HTTPS}return oi.UserMetrics.DeveloperResourceScheme.OTHER}async loadFromTarget(e,t,r){const n=e.model(kt);const i=e.model(xi);const s=si.Settings.Settings.instance().moduleSetting("cache-disabled").get();const o=await n.loadNetworkResource(t,r,{disableCache:s,includeCredentials:true});try{const e=o.stream?await i.readToString(o.stream):"";return{success:o.success,content:e,errorDescription:{statusCode:o.httpStatusCode||0,netError:o.netError,netErrorName:o.netErrorName,message:oi.ResourceLoader.netErrorToMessage(o.netError,o.httpStatusCode,o.netErrorName)||"",urlValid:void 0}}}finally{if(o.stream){void i.close(o.stream)}}}};function Bi(){return si.Settings.Settings.instance().createSetting("load-through-target",true)}var Hi=(e=>{e["UPDATE"]="Update";return e})(Hi||{});var Ui={};a(Ui,{SourceMap:()=>ys,SourceMapEntry:()=>gs,TokenIterator:()=>Is,parseSourceMap:()=>hs});import*as _i from"./../../models/text_utils/text_utils.js";import*as qi from"./../common/common.js";import*as Wi from"./../platform/platform.js";import*as Vi from"./../root/root.js";var ji={};a(ji,{SourceMapScopesInfo:()=>cs,contains:()=>us});var Gi={};a(Gi,{SourceMapScopeChainEntry:()=>Ji});import*as zi from"./../i18n/i18n.js";var Ki={local:"Local",closure:"Closure",block:"Block",global:"Global",returnValue:"Return value"};var Qi=zi.i18n.registerUIStrings("core/sdk/SourceMapScopeChainEntry.ts",Ki);var Xi=zi.i18n.getLocalizedString.bind(void 0,Qi);var Ji=class{#fr;#yr;#Ee;#Sr;#vr;constructor(e,t,r,n,i){this.#fr=e;this.#yr=t;this.#Ee=r;this.#Sr=n;this.#vr=i}extraProperties(){if(this.#vr){return[new bi(Xi(Ki.returnValue),this.#vr,void 0,void 0,void 0,void 0,void 0,true)]}return[]}callFrame(){return this.#fr}type(){switch(this.#yr.kind){case"global":return $.ScopeType.Global;case"function":return this.#Sr?$.ScopeType.Local:$.ScopeType.Closure;case"block":return $.ScopeType.Block}return this.#yr.kind??""}typeName(){switch(this.#yr.kind){case"global":return Xi(Ki.global);case"function":return this.#Sr?Xi(Ki.local):Xi(Ki.closure);case"block":return Xi(Ki.block)}return this.#yr.kind??""}name(){return this.#yr.name}range(){return null}object(){return new $i(this.#fr,this.#yr,this.#Ee)}description(){return""}icon(){return void 0}};var $i=class e extends yi{#fr;#yr;#Ee;constructor(e,t,r){super(e.debuggerModel.runtimeModel(),void 0,"object",void 0,null);this.#fr=e;this.#yr=t;this.#Ee=r}async doGetProperties(t,r,n){if(r){return{properties:[],internalProperties:[]}}const i=[];for(const[t,r]of this.#yr.variables.entries()){const s=this.#br(t);if(s===null){i.push(e.#Ir(r));continue}const o=await this.#fr.evaluate({expression:s,generatePreview:n});if("error"in o||o.exceptionDetails){i.push(e.#Ir(r))}else{i.push(new bi(r,o.object,false,false,true,false))}}return{properties:i,internalProperties:[]}}#br(e){if(!this.#Ee){return null}const t=this.#Ee.values[e];if(typeof t==="string"){return t}if(t===void 0){return null}const r=this.#fr.location();for(const e of t){if(us({start:e.from,end:e.to},r.lineNumber,r.columnNumber)){return e.value??null}}return null}static#Ir(e){return new bi(e,null,false,false,true,false)}};var Yi={};a(Yi,{EncodedGeneratedRangeFlag:()=>os,EncodedOriginalScopeFlag:()=>ts,decodeGeneratedRanges:()=>is,decodeOriginalScopes:()=>Zi});function Zi(e,t){return e.map((e=>es(e,t)))}function es(e,t){const r=new Map;const n=[];let i=0;let s=0;for(const[o,a]of ns(e)){i+=a.line;const{column:e}=a;if(rs(a)){let l;if(a.kind!==void 0){s+=a.kind;l=ds(s,t)}const d=ds(a.name,t);const c=a.variables.map((e=>t[e]));const u={start:{line:i,column:e},end:{line:i,column:e},kind:l,name:d,isStackFrame:Boolean(a.flags&4),variables:c,children:[]};n.push(u);r.set(o,u)}else{const t=n.pop();if(!t){throw new Error('Scope items not nested properly: encountered "end" item without "start" item')}t.end={line:i,column:e};if(n.length===0){return{root:t,scopeForItemIndex:r}}t.parent=n[n.length-1];n[n.length-1].children.push(t)}}throw new Error("Malformed original scope encoding")}var ts=(e=>{e[e["HAS_NAME"]=1]="HAS_NAME";e[e["HAS_KIND"]=2]="HAS_KIND";e[e["IS_STACK_FRAME"]=4]="IS_STACK_FRAME";return e})(ts||{});function rs(e){return"flags"in e}function*ns(e){const t=new Is(e);let r=0;let n=0;while(t.hasNext()){if(t.peek()===","){t.next()}const[e,i]=[t.nextVLQ(),t.nextVLQ()];if(e===0&&i<r){throw new Error("Malformed original scope encoding: start/end items must be ordered w.r.t. source positions")}r=i;if(!t.hasNext()||t.peek()===","){yield[n++,{line:e,column:i}];continue}const s={line:e,column:i,flags:t.nextVLQ(),variables:[]};if(s.flags&1){s.name=t.nextVLQ()}if(s.flags&2){s.kind=t.nextVLQ()}while(t.hasNext()&&t.peek()!==","){s.variables.push(t.nextVLQ())}yield[n++,s]}}function is(e,t,r){const n=[{start:{line:0,column:0},end:{line:0,column:0},isStackFrame:false,isHidden:false,children:[],values:[]}];const i=new Map;for(const s of ls(e)){if(as(s)){const e={start:{line:s.line,column:s.column},end:{line:s.line,column:s.column},isStackFrame:Boolean(s.flags&4),isHidden:Boolean(s.flags&8),values:[],children:[]};if(s.definition){const{scopeIdx:r,sourceIdx:n}=s.definition;if(!t[n]){throw new Error("Invalid source index!")}const i=t[n].scopeForItemIndex.get(r);if(!i){throw new Error("Invalid original scope index!")}e.originalScope=i}if(s.callsite){const{sourceIdx:r,line:n,column:i}=s.callsite;if(!t[r]){throw new Error("Invalid source index!")}e.callsite={sourceIndex:r,line:n,column:i}}i.set(e,s);n.push(e)}else{const e=n.pop();if(!e){throw new Error('Range items not nested properly: encountered "end" item without "start" item')}e.end={line:s.line,column:s.column};ss(e,r,i.get(e)?.bindings);n[n.length-1].children.push(e)}}if(n.length!==1){throw new Error("Malformed generated range encoding")}return n[0].children}function ss(e,t,r){if(r===void 0){return}e.values=r.map((r=>{if(r.length===1){return ds(r[0].nameIdx,t)}const n=r.map((e=>({from:{line:e.line,column:e.column},to:{line:e.line,column:e.column},value:ds(e.nameIdx,t)})));for(let e=1;e<n.length;++e){n[e-1].to={...n[e].from}}n[n.length-1].to={...e.end};return n}))}var os=(e=>{e[e["HAS_DEFINITION"]=1]="HAS_DEFINITION";e[e["HAS_CALLSITE"]=2]="HAS_CALLSITE";e[e["IS_STACK_FRAME"]=4]="IS_STACK_FRAME";e[e["IS_HIDDEN"]=8]="IS_HIDDEN";return e})(os||{});function as(e){return"flags"in e}function*ls(e){const t=new Is(e);let r=0;const n={line:0,column:0,defSourceIdx:0,defScopeIdx:0,callsiteSourceIdx:0,callsiteLine:0,callsiteColumn:0};while(t.hasNext()){if(t.peek()===";"){t.next();++r;continue}else if(t.peek()===","){t.next();continue}n.column=t.nextVLQ()+(r===n.line?n.column:0);n.line=r;if(t.peekVLQ()===null){yield{line:r,column:n.column};continue}const e={line:r,column:n.column,flags:t.nextVLQ(),bindings:[]};if(e.flags&1){const r=t.nextVLQ();const i=t.nextVLQ();n.defScopeIdx=i+(r===0?n.defScopeIdx:0);n.defSourceIdx+=r;e.definition={sourceIdx:n.defSourceIdx,scopeIdx:n.defScopeIdx}}if(e.flags&2){const r=t.nextVLQ();const i=t.nextVLQ();const s=t.nextVLQ();n.callsiteColumn=s+(i===0&&r===0?n.callsiteColumn:0);n.callsiteLine=i+(r===0?n.callsiteLine:0);n.callsiteSourceIdx+=r;e.callsite={sourceIdx:n.callsiteSourceIdx,line:n.callsiteLine,column:n.callsiteColumn}}while(t.hasNext()&&t.peek()!==";"&&t.peek()!==","){const r=[];e.bindings.push(r);const n=t.nextVLQ();if(n>=-1){r.push({line:e.line,column:e.column,nameIdx:n});continue}r.push({line:e.line,column:e.column,nameIdx:t.nextVLQ()});const i=-n;for(let e=0;e<i-1;++e){const e=t.nextVLQ();const n=t.nextVLQ();const i=t.nextVLQ();const s=r.at(-1)?.line??0;const o=r.at(-1)?.column??0;r.push({line:e+s,column:n+(e===0?o:0),nameIdx:i})}}yield e}}function ds(e,t){if(e===void 0||e<0){return void 0}return t[e]}var cs=class e{#kr;#wr;#Cr;#Rr=null;constructor(e,t,r){this.#kr=e;this.#wr=t;this.#Cr=r}static parseFromMap(t,r){if(!r.originalScopes||!r.generatedRanges){throw new Error("Cant create SourceMapScopesInfo without encoded scopes")}const n=Zi(r.originalScopes,r.names??[]);const i=n.map((e=>e.root));const s=is(r.generatedRanges,n,r.names??[]);return new e(t,i,s)}findInlinedFunctions(e,t){const r=this.#Tr(e,t);const n={inlinedFunctions:[],originalFunctionName:""};for(let e=r.length-1;e>=0;--e){const t=r[e];if(t.callsite){n.inlinedFunctions.push({name:t.originalScope?.name??"",callsite:t.callsite})}if(t.isStackFrame){n.originalFunctionName=t.originalScope?.name??"";break}}return n}expandCallFrame(e){const{originalFunctionName:t,inlinedFunctions:r}=this.findInlinedFunctions(e.location().lineNumber,e.location().columnNumber);const n=[];for(const[t,i]of r.entries()){n.push(e.createVirtualCallFrame(t,i.name))}n.push(e.createVirtualCallFrame(n.length,t));return n}#Tr(e,t){const r=[];(function n(i){for(const s of i){if(!us(s,e,t)){continue}r.push(s);n(s.children)}})(this.#Cr);return r}hasVariablesAndBindings(){if(this.#Rr===null){this.#Rr=this.#Er()}return this.#Rr}#Er(){function e(t){for(const r of t){if("variables"in r&&r.variables.length>0){return true}if("values"in r&&r.values.some((e=>e!==void 0))){return true}if(e(r.children)){return true}}return false}return e(this.#wr)&&e(this.#Cr)}resolveMappedScopeChain(e){const t=this.#Pr(e);const r=t.at(-1)?.originalScope;if(r===void 0){return null}let n=false;const i=[];for(let r=t.at(-1)?.originalScope;r;r=r.parent){const s=t.findLast((e=>e.originalScope===r));const o=r.kind==="function";const a=o&&!n;const l=a?e.returnValue():null;i.push(new Ji(e,r,s,a,l??void 0));n||=o}if(e.returnValue()!==null){while(i.length&&i[0].type()!==$.ScopeType.Local){i.shift()}}return i}#Pr(e){const t=this.#Tr(e.location().lineNumber,e.location().columnNumber);if(e.inlineFrameIndex===0){return t}for(let r=0;r<e.inlineFrameIndex;){const e=t.pop();if(e?.callsite){++r}}return t}};function us(e,t,r){if(e.start.line>t||e.start.line===t&&e.start.column>r){return false}if(e.end.line<t||e.end.line===t&&e.end.column<=r){return false}return true}function hs(e){if(e.startsWith(")]}")){e=e.substring(e.indexOf("\n"))}if(e.charCodeAt(0)===65279){e=e.slice(1)}return JSON.parse(e)}var gs=class{lineNumber;columnNumber;sourceIndex;sourceURL;sourceLineNumber;sourceColumnNumber;name;constructor(e,t,r,n,i,s,o){this.lineNumber=e;this.columnNumber=t;this.sourceIndex=r;this.sourceURL=n;this.sourceLineNumber=i;this.sourceColumnNumber=s;this.name=o}static compare(e,t){if(e.lineNumber!==t.lineNumber){return e.lineNumber-t.lineNumber}return e.columnNumber-t.columnNumber}};function ps(e,t){return e.lineNumber-t.lineNumber||e.columnNumber-t.columnNumber}var ms=class{constructor(e,t,r,n,i){this.startLineNumber=e;this.startColumnNumber=t;this.endLineNumber=r;this.endColumnNumber=n;this.name=i}children=[];scopeName(){return this.name}start(){return{lineNumber:this.startLineNumber,columnNumber:this.startColumnNumber}}end(){return{lineNumber:this.endLineNumber,columnNumber:this.endColumnNumber}}};var fs=new WeakMap;var ys=class{#xr;#Mr;#Ar;#Lr;#Nr;#Or;#Dr=null;constructor(e,t,r){this.#xr=r;this.#Mr=e;this.#Ar=t;this.#Lr=qi.ParsedURL.schemeIs(t,"data:")?e:t;this.#Nr=null;this.#Or=new Map;if("sections"in this.#xr){if(this.#xr.sections.find((e=>"url"in e))){qi.Console.Console.instance().warn(`SourceMap "${t}" contains unsupported "URL" field in one of its sections.`)}}this.eachSection(this.parseSources.bind(this))}compiledURL(){return this.#Mr}url(){return this.#Ar}sourceURLs(){return[...this.#Or.keys()]}embeddedContentByURL(e){const t=this.#Or.get(e);if(!t){return null}return t.content}hasScopeInfo(){this.#Fr();return this.#Dr!==null}findEntry(e,t,r){this.#Fr();if(r&&this.#Dr!==null){const{inlinedFunctions:n}=this.#Dr.findInlinedFunctions(e,t);const{callsite:i}=n[r-1];if(!i){console.error("Malformed source map. Expected to have a callsite info for index",r);return null}return{lineNumber:e,columnNumber:t,sourceIndex:i.sourceIndex,sourceURL:this.sourceURLs()[i.sourceIndex],sourceLineNumber:i.line,sourceColumnNumber:i.column,name:void 0}}const n=this.mappings();const i=Wi.ArrayUtilities.upperBound(n,void 0,((r,n)=>e-n.lineNumber||t-n.columnNumber));return i?n[i-1]:null}findEntryRanges(e,t){const r=this.mappings();const n=Wi.ArrayUtilities.upperBound(r,void 0,((r,n)=>e-n.lineNumber||t-n.columnNumber));if(!n){return null}const i=n-1;const s=r[i].sourceURL;if(!s){return null}const o=n<r.length?r[n].lineNumber:2**31-1;const a=n<r.length?r[n].columnNumber:2**31-1;const l=new _i.TextRange.TextRange(r[i].lineNumber,r[i].columnNumber,o,a);const d=this.reversedMappings(s);const c=r[i].sourceLineNumber;const u=r[i].sourceColumnNumber;const h=Wi.ArrayUtilities.upperBound(d,void 0,((e,t)=>c-r[t].sourceLineNumber||u-r[t].sourceColumnNumber));if(!h){return null}const g=h<d.length?r[d[h]].sourceLineNumber:2**31-1;const p=h<d.length?r[d[h]].sourceColumnNumber:2**31-1;const m=new _i.TextRange.TextRange(c,u,g,p);return{range:l,sourceRange:m,sourceURL:s}}sourceLineMapping(e,t,r){const n=this.mappings();const i=this.reversedMappings(e);const s=Wi.ArrayUtilities.lowerBound(i,t,d);const o=Wi.ArrayUtilities.upperBound(i,t,d);if(s>=i.length||n[i[s]].sourceLineNumber!==t){return null}const a=i.slice(s,o);if(!a.length){return null}const l=Wi.ArrayUtilities.lowerBound(a,r,((e,t)=>e-n[t].sourceColumnNumber));return l>=a.length?n[a[a.length-1]]:n[a[l]];function d(e,t){return e-n[t].sourceLineNumber}}findReverseIndices(e,t,r){const n=this.mappings();const i=this.reversedMappings(e);const s=Wi.ArrayUtilities.upperBound(i,void 0,((e,i)=>t-n[i].sourceLineNumber||r-n[i].sourceColumnNumber));let o=s;while(o>0&&n[i[o-1]].sourceLineNumber===n[i[s-1]].sourceLineNumber&&n[i[o-1]].sourceColumnNumber===n[i[s-1]].sourceColumnNumber){--o}return i.slice(o,s)}findReverseEntries(e,t,r){const n=this.mappings();return this.findReverseIndices(e,t,r).map((e=>n[e]))}findReverseRanges(e,t,r){const n=this.mappings();const i=this.findReverseIndices(e,t,r);const s=[];for(let e=0;e<i.length;++e){const t=i[e];let r=t+1;while(e+1<i.length&&r===i[e+1]){++r;++e}const o=n[t].lineNumber;const a=n[t].columnNumber;const l=r<n.length?n[r].lineNumber:2**31-1;const d=r<n.length?n[r].columnNumber:2**31-1;s.push(new _i.TextRange.TextRange(o,a,l,d))}return s}mappings(){this.#Fr();return this.#Nr??[]}reversedMappings(e){this.#Fr();return this.#Or.get(e)?.reverseMappings??[]}#Fr(){if(this.#Nr===null){this.#Nr=[];try{this.eachSection(this.parseMap.bind(this))}catch(e){console.error("Failed to parse source map",e);this.#Nr=[]}this.mappings().sort(gs.compare);this.#Br(this.#Nr);this.#xr=null}}#Br(e){const t=new Map;for(let r=0;r<e.length;r++){const n=e[r].sourceURL;if(!n){continue}let i=t.get(n);if(!i){i=[];t.set(n,i)}i.push(r)}for(const[e,n]of t.entries()){const t=this.#Or.get(e);if(!t){continue}n.sort(r);t.reverseMappings=n}function r(t,r){const n=e[t];const i=e[r];return n.sourceLineNumber-i.sourceLineNumber||n.sourceColumnNumber-i.sourceColumnNumber||n.lineNumber-i.lineNumber||n.columnNumber-i.columnNumber}}eachSection(e){if(!this.#xr){return}if("sections"in this.#xr){for(const t of this.#xr.sections){if("map"in t){e(t.map,t.offset.line,t.offset.column)}}}else{e(this.#xr,0,0)}}parseSources(e){const t=[];const r=e.sourceRoot??"";const n=new Set(e.ignoreList??e.x_google_ignoreList);for(let i=0;i<e.sources.length;++i){let s=e.sources[i];if(qi.ParsedURL.ParsedURL.isRelativeURL(s)){if(r&&!r.endsWith("/")&&s&&!s.startsWith("/")){s=r.concat("/",s)}else{s=r.concat(s)}}const o=qi.ParsedURL.ParsedURL.completeURL(this.#Lr,s)||s;const a=e.sourcesContent&&e.sourcesContent[i];t.push(o);if(!this.#Or.has(o)){const e=a??null;const t=n.has(i);this.#Or.set(o,{content:e,ignoreListHint:t,reverseMappings:null,scopeTree:null})}}fs.set(e,t)}parseMap(e,t,r){let n=0;let i=0;let s=0;let o=0;const a=fs.get(e);const l=e.names??[];const d=new Is(e.mappings);let c=a&&a[n];while(true){if(d.peek()===","){d.next()}else{while(d.peek()===";"){t+=1;r=0;d.next()}if(!d.hasNext()){break}}r+=d.nextVLQ();if(!d.hasNext()||this.isSeparator(d.peek())){this.mappings().push(new gs(t,r));continue}const e=d.nextVLQ();if(e){n+=e;if(a){c=a[n]}}i+=d.nextVLQ();s+=d.nextVLQ();if(!d.hasNext()||this.isSeparator(d.peek())){this.mappings().push(new gs(t,r,n,c,i,s));continue}o+=d.nextVLQ();this.mappings().push(new gs(t,r,n,c,i,s,l[o]))}if(Vi.Runtime.experiments.isEnabled(Vi.Runtime.ExperimentName.USE_SOURCE_MAP_SCOPES)){this.parseBloombergScopes(e);this.#Hr(e)}}parseBloombergScopes(e){if(!e.x_com_bloomberg_sourcesFunctionMappings){return}const t=fs.get(e);if(!t){return}const r=e.names??[];const n=e.x_com_bloomberg_sourcesFunctionMappings;for(let e=0;e<t?.length;e++){if(!n[e]||!t[e]){continue}const i=this.#Or.get(t[e]);if(!i){continue}const s=n[e];let o=0;let a=0;let l=0;let d=0;let c=0;const u=new Is(s);const h=[];let g=true;while(u.hasNext()){if(g){g=false}else if(u.peek()===","){u.next()}else{return}o+=u.nextVLQ();a+=u.nextVLQ();l+=u.nextVLQ();d+=u.nextVLQ();c+=u.nextVLQ();h.push(new ms(a,l,d,c,r[o]??"<invalid>"))}i.scopeTree=this.buildScopeTree(h)}}buildScopeTree(e){const t=[];e.sort(((e,t)=>ps(e.start(),t.start())));const r=[];for(const n of e){const e=n.start();while(r.length>0){const t=r[r.length-1];if(ps(t.end(),e)<0){r.pop()}else{break}}if(r.length>0){r[r.length-1].children.push(n)}else{t.push(n)}r.push(n)}return t}#Hr(e){if(e.originalScopes&&e.generatedRanges){this.#Dr=cs.parseFromMap(this,e)}}findScopeEntry(e,t,r){const n=this.#Or.get(e);if(!n||!n.scopeTree){return null}const i={lineNumber:t,columnNumber:r};let s=null;while(true){const e=s?.children??n.scopeTree;const t=e.find((e=>ps(e.start(),i)<=0&&ps(i,e.end())<=0));if(!t){return s}s=t}}isSeparator(e){return e===","||e===";"}reverseMapTextRanges(e,t){const r=this.reversedMappings(e);const n=this.mappings();if(r.length===0){return[]}let i=Wi.ArrayUtilities.lowerBound(r,t,(({startLine:e,startColumn:t},r)=>{const{sourceLineNumber:i,sourceColumnNumber:s}=n[r];return e-i||t-s}));while(i===r.length||i>0&&(n[r[i]].sourceLineNumber>t.startLine||n[r[i]].sourceColumnNumber>t.startColumn)){i--}let s=i+1;for(;s<r.length;++s){const{sourceLineNumber:e,sourceColumnNumber:i}=n[r[s]];if(e<t.endLine||e===t.endLine&&i<t.endColumn){continue}break}const o=[];for(let e=i;e<s;++e){const t=r[e],i=t+1;const s=_i.TextRange.TextRange.createUnboundedFromLocation(n[t].lineNumber,n[t].columnNumber);if(i<n.length){s.endLine=n[i].lineNumber;s.endColumn=n[i].columnNumber}o.push(s)}o.sort(_i.TextRange.TextRange.comparator);let a=0;for(let e=1;e<o.length;++e){if(o[a].immediatelyPrecedes(o[e])){o[a].endLine=o[e].endLine;o[a].endColumn=o[e].endColumn}else{o[++a]=o[e]}}o.length=a+1;return o}mapsOrigin(){const e=this.mappings();if(e.length>0){const t=e[0];return t?.lineNumber===0||t.columnNumber===0}return false}hasIgnoreListHint(e){return this.#Or.get(e)?.ignoreListHint??false}findRanges(e,t){const r=this.mappings();const n=[];if(!r.length){return[]}let i=null;if((r[0].lineNumber!==0||r[0].columnNumber!==0)&&t?.isStartMatching){i=_i.TextRange.TextRange.createUnboundedFromLocation(0,0);n.push(i)}for(const{sourceURL:t,lineNumber:s,columnNumber:o}of r){const r=t&&e(t);if(!i&&r){i=_i.TextRange.TextRange.createUnboundedFromLocation(s,o);n.push(i);continue}if(i&&!r){i.endLine=s;i.endColumn=o;i=null}}return n}compatibleForURL(e,t){return this.embeddedContentByURL(e)===t.embeddedContentByURL(e)&&this.hasIgnoreListHint(e)===t.hasIgnoreListHint(e)}expandCallFrame(e){this.#Fr();if(this.#Dr===null){return[e]}return this.#Dr.expandCallFrame(e)}resolveScopeChain(e){this.#Fr();if(this.#Dr===null){return null}return this.#Dr.resolveMappedScopeChain(e)}};var Ss=5;var vs=(1<<5)-1;var bs=1<<5;var Is=class{#Ur;#_r;constructor(e){this.#Ur=e;this.#_r=0}next(){return this.#Ur.charAt(this.#_r++)}nextCharCode(){return this.#Ur.charCodeAt(this.#_r++)}peek(){return this.#Ur.charAt(this.#_r)}hasNext(){return this.#_r<this.#Ur.length}nextVLQ(){let e=0;let t=0;let r=bs;while(r&bs){if(!this.hasNext()){throw new Error("Unexpected end of input while decodling VLQ number!")}const n=this.nextCharCode();r=qi.Base64.BASE64_CODES[n];if(n!==65&&r===0){throw new Error(`Unexpected char '${String.fromCharCode(n)}' encountered while decoding`)}e+=(r&vs)<<t;t+=Ss}const n=e&1;e>>=1;return n?-e:e}peekVLQ(){const e=this.#_r;try{return this.nextVLQ()}catch{return null}finally{this.#_r=e}}};var ks=class e extends ri.ObjectWrapper.ObjectWrapper{#qr;#Wr;#Vr;#jr;#Gr;constructor(e){super();this.#qr=e;this.#Wr=true;this.#Gr=null;this.#Vr=new Map;this.#jr=new Map}setEnabled(e){if(e===this.#Wr){return}const t=[...this.#Vr.entries()];for(const[e]of t){this.detachSourceMap(e)}this.#Wr=e;for(const[e,{relativeSourceURL:r,relativeSourceMapURL:n}]of t){this.attachSourceMap(e,r,n)}}static getBaseUrl(e){while(e&&e.type()!==rt.FRAME){e=e.parentTarget()}return e?.inspectedURL()??ni.DevToolsPath.EmptyUrlString}static resolveRelativeSourceURL(t,r){r=ri.ParsedURL.ParsedURL.completeURL(e.getBaseUrl(t),r)??r;return r}sourceMapForClient(e){return this.#Vr.get(e)?.sourceMap}sourceMapForClientPromise(e){const t=this.#Vr.get(e);if(!t){return Promise.resolve(void 0)}return t.sourceMapPromise}clientForSourceMap(e){return this.#jr.get(e)}attachSourceMap(t,r,n){if(this.#Vr.has(t)){throw new Error("SourceMap is already attached or being attached to client")}if(!n){return}let i={relativeSourceURL:r,relativeSourceMapURL:n,sourceMap:void 0,sourceMapPromise:Promise.resolve(void 0)};if(this.#Wr){const s=e.resolveRelativeSourceURL(this.#qr,r);const o=ri.ParsedURL.ParsedURL.completeURL(s,n);if(o){if(this.#Gr){console.error("Attaching source map may cancel previously attaching source map")}this.#Gr=t;this.dispatchEventToListeners("SourceMapWillAttach",{client:t});if(this.#Gr===t){this.#Gr=null;const e=t.createPageResourceLoadInitiator();i.sourceMapPromise=ws(o,e).then((e=>{const r=new ys(s,o,e);if(this.#Vr.get(t)===i){i.sourceMap=r;this.#jr.set(r,t);this.dispatchEventToListeners("SourceMapAttached",{client:t,sourceMap:r})}return r}),(()=>{if(this.#Vr.get(t)===i){this.dispatchEventToListeners("SourceMapFailedToAttach",{client:t})}return void 0}))}else{if(this.#Gr){console.error("Cancelling source map attach because another source map is attaching")}i=null;this.dispatchEventToListeners("SourceMapFailedToAttach",{client:t})}}}if(i){this.#Vr.set(t,i)}}cancelAttachSourceMap(e){if(e===this.#Gr){this.#Gr=null}else{if(this.#Gr){console.error("cancel attach source map requested but a different source map was being attached")}else{console.error("cancel attach source map requested but no source map was being attached")}}}detachSourceMap(e){const t=this.#Vr.get(e);if(!t){return}this.#Vr.delete(e);if(!this.#Wr){return}const{sourceMap:r}=t;if(r){this.#jr.delete(r);this.dispatchEventToListeners("SourceMapDetached",{client:e,sourceMap:r})}else{this.dispatchEventToListeners("SourceMapFailedToAttach",{client:e})}}};async function ws(e,t){try{const{content:r}=await Fi.instance().loadResource(e,t);return hs(r)}catch(t){throw new Error(`Could not load content for ${e}: ${t.message}`,{cause:t})}}var Cs=(e=>{e["SourceMapWillAttach"]="SourceMapWillAttach";e["SourceMapFailedToAttach"]="SourceMapFailedToAttach";e["SourceMapAttached"]="SourceMapAttached";e["SourceMapDetached"]="SourceMapDetached";return e})(Cs||{});var Rs=(e=>{e["LIGHT"]="light";e["DARK"]="dark";return e})(Rs||{});var Ts=class e extends p{agent;#zr;#Kr;#Qr;#Xr;#Jr;#$r;#Yr;#Zr;#en;#tn;#rn;#nn;#in;#Wr;#sn;#on;#an;constructor(e){super(e);this.#Wr=false;this.#tn=null;this.#rn=null;this.#zr=e.model(sa);this.#Jr=new ks(e);this.agent=e.cssAgent();this.#$r=new Ls(this);this.#Xr=e.model(Ca);if(this.#Xr){this.#Xr.addEventListener(Ra.PrimaryPageChanged,this.onPrimaryPageChanged,this)}e.registerCSSDispatcher(new As(this));if(!e.suspended()){void this.enable()}this.#en=new Map;this.#Zr=new Map;this.#Qr=new Map;this.#sn=false;this.#Kr=new Map;this.#nn=null;this.#in=false;this.#on=false;this.#Yr=new Yt.Throttler.Throttler(Ds);this.#Jr.setEnabled(Yt.Settings.Settings.instance().moduleSetting("css-source-maps-enabled").get());Yt.Settings.Settings.instance().moduleSetting("css-source-maps-enabled").addChangeListener((e=>this.#Jr.setEnabled(e.data)))}async colorScheme(){if(!this.#an){const e=await(this.domModel()?.target().runtimeAgent().invoke_evaluate({expression:'window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches'}));if(e&&!e.exceptionDetails&&!e.getError()){this.#an=e.result.value?"dark":"light"}}return this.#an}headersForSourceURL(e){const t=[];for(const r of this.getStyleSheetIdsForURL(e)){const e=this.styleSheetHeaderForId(r);if(e){t.push(e)}}return t}createRawLocationsByURL(e,t,r=0){const n=this.headersForSourceURL(e);n.sort(a);const i=er.ArrayUtilities.upperBound(n,void 0,((e,n)=>t-n.startLine||r-n.startColumn));if(!i){return[]}const s=[];const o=n[i-1];for(let e=i-1;e>=0&&n[e].startLine===o.startLine&&n[e].startColumn===o.startColumn;--e){if(n[e].containsLocation(t,r)){s.push(new Ms(n[e],t,r))}}return s;function a(e,t){return e.startLine-t.startLine||e.startColumn-t.startColumn||e.id.localeCompare(t.id)}}sourceMapManager(){return this.#Jr}static readableLayerName(e){return e||"<anonymous>"}static trimSourceURL(e){let t=e.lastIndexOf("/*# sourceURL=");if(t===-1){t=e.lastIndexOf("/*@ sourceURL=");if(t===-1){return e}}const r=e.lastIndexOf("\n",t);if(r===-1){return e}const n=e.substr(r+1).split("\n",1)[0];const i=/[\x20\t]*\/\*[#@] sourceURL=[\x20\t]*([^\s]*)[\x20\t]*\*\/[\x20\t]*$/;if(n.search(i)===-1){return e}return e.substr(0,r)+e.substr(r+n.length+1)}domModel(){return this.#zr}async trackComputedStyleUpdatesForNode(e){await this.agent.invoke_trackComputedStyleUpdatesForNode({nodeId:e})}async setStyleText(e,t,r,n){try{await this.ensureOriginalStyleSheetText(e);const{styles:i}=await this.agent.invoke_setStyleTexts({edits:[{styleSheetId:e,range:t.serializeToObject(),text:r}]});if(!i||i.length!==1){return false}this.#zr.markUndoableState(!n);const s=new xs(e,t,r,i[0]);this.fireStyleSheetChanged(e,s);return true}catch(e){console.error(e);return false}}async setSelectorText(e,t,r){Zt.userMetrics.actionTaken(Zt.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{selectorList:n}=await this.agent.invoke_setRuleSelector({styleSheetId:e,range:t,selector:r});if(!n){return false}this.#zr.markUndoableState();const i=new xs(e,t,r,n);this.fireStyleSheetChanged(e,i);return true}catch(e){console.error(e);return false}}async setPropertyRulePropertyName(e,t,r){Zt.userMetrics.actionTaken(Zt.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{propertyName:n}=await this.agent.invoke_setPropertyRulePropertyName({styleSheetId:e,range:t,propertyName:r});if(!n){return false}this.#zr.markUndoableState();const i=new xs(e,t,r,n);this.fireStyleSheetChanged(e,i);return true}catch(e){console.error(e);return false}}async setKeyframeKey(e,t,r){Zt.userMetrics.actionTaken(Zt.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{keyText:n}=await this.agent.invoke_setKeyframeKey({styleSheetId:e,range:t,keyText:r});if(!n){return false}this.#zr.markUndoableState();const i=new xs(e,t,r,n);this.fireStyleSheetChanged(e,i);return true}catch(e){console.error(e);return false}}startCoverage(){this.#sn=true;return this.agent.invoke_startRuleUsageTracking()}async takeCoverageDelta(){const e=await this.agent.invoke_takeCoverageDelta();const t=e&&e.timestamp||0;const r=e&&e.coverage||[];return{timestamp:t,coverage:r}}setLocalFontsEnabled(e){return this.agent.invoke_setLocalFontsEnabled({enabled:e})}async stopCoverage(){this.#sn=false;await this.agent.invoke_stopRuleUsageTracking()}async getMediaQueries(){const{medias:e}=await this.agent.invoke_getMediaQueries();return e?dn.parseMediaArrayPayload(this,e):[]}async getRootLayer(e){const{rootLayer:t}=await this.agent.invoke_getLayersForNode({nodeId:e});return t}isEnabled(){return this.#Wr}async enable(){await this.agent.invoke_enable();this.#Wr=true;if(this.#sn){await this.startCoverage()}this.dispatchEventToListeners("ModelWasEnabled")}async getMatchedStyles(e){const t=await this.agent.invoke_getMatchedStylesForNode({nodeId:e});if(t.getError()){return null}const r=this.#zr.nodeForId(e);if(!r){return null}return await Fn.create({cssModel:this,node:r,inlinePayload:t.inlineStyle||null,attributesPayload:t.attributesStyle||null,matchedPayload:t.matchedCSSRules||[],pseudoPayload:t.pseudoElements||[],inheritedPayload:t.inherited||[],inheritedPseudoPayload:t.inheritedPseudoElements||[],animationsPayload:t.cssKeyframesRules||[],parentLayoutNodeId:t.parentLayoutNodeId,positionTryRules:t.cssPositionTryRules||[],propertyRules:t.cssPropertyRules??[],cssPropertyRegistrations:t.cssPropertyRegistrations??[],fontPaletteValuesRule:t.cssFontPaletteValuesRule,activePositionFallbackIndex:t.activePositionFallbackIndex??-1})}async getClassNames(e){const{classNames:t}=await this.agent.invoke_collectClassNames({styleSheetId:e});return t||[]}async getComputedStyle(e){if(!this.isEnabled()){await this.enable()}return this.#$r.computedStylePromise(e)}async getBackgroundColors(e){const t=await this.agent.invoke_getBackgroundColors({nodeId:e});if(t.getError()){return null}return{backgroundColors:t.backgroundColors||null,computedFontSize:t.computedFontSize||"",computedFontWeight:t.computedFontWeight||""}}async getPlatformFonts(e){const{fonts:t}=await this.agent.invoke_getPlatformFontsForNode({nodeId:e});return t}allStyleSheets(){const e=[...this.#en.values()];function t(e,t){if(e.sourceURL<t.sourceURL){return-1}if(e.sourceURL>t.sourceURL){return 1}return e.startLine-t.startLine||e.startColumn-t.startColumn}e.sort(t);return e}async getInlineStyles(e){const t=await this.agent.invoke_getInlineStylesForNode({nodeId:e});if(t.getError()||!t.inlineStyle){return null}const r=new fn(this,null,t.inlineStyle,yn.Inline);const n=t.attributesStyle?new fn(this,null,t.attributesStyle,yn.Attributes):null;return new Ns(r,n)}forcePseudoState(e,t,r){const n=e.marker(Ps)||[];const i=n.includes(t);if(r){if(i){return false}n.push(t);e.setMarker(Ps,n)}else{if(!i){return false}er.ArrayUtilities.removeElement(n,t);if(n.length){e.setMarker(Ps,n)}else{e.setMarker(Ps,null)}}if(e.id===void 0){return false}void this.agent.invoke_forcePseudoState({nodeId:e.id,forcedPseudoClasses:n});this.dispatchEventToListeners("PseudoStateForced",{node:e,pseudoClass:t,enable:r});return true}pseudoState(e){return e.marker(Ps)||[]}async setMediaText(e,t,r){Zt.userMetrics.actionTaken(Zt.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{media:n}=await this.agent.invoke_setMediaText({styleSheetId:e,range:t,text:r});if(!n){return false}this.#zr.markUndoableState();const i=new xs(e,t,r,n);this.fireStyleSheetChanged(e,i);return true}catch(e){console.error(e);return false}}async setContainerQueryText(e,t,r){Zt.userMetrics.actionTaken(Zt.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{containerQuery:n}=await this.agent.invoke_setContainerQueryText({styleSheetId:e,range:t,text:r});if(!n){return false}this.#zr.markUndoableState();const i=new xs(e,t,r,n);this.fireStyleSheetChanged(e,i);return true}catch(e){console.error(e);return false}}async setSupportsText(e,t,r){Zt.userMetrics.actionTaken(Zt.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{supports:n}=await this.agent.invoke_setSupportsText({styleSheetId:e,range:t,text:r});if(!n){return false}this.#zr.markUndoableState();const i=new xs(e,t,r,n);this.fireStyleSheetChanged(e,i);return true}catch(e){console.error(e);return false}}async setScopeText(e,t,r){Zt.userMetrics.actionTaken(Zt.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{scope:n}=await this.agent.invoke_setScopeText({styleSheetId:e,range:t,text:r});if(!n){return false}this.#zr.markUndoableState();const i=new xs(e,t,r,n);this.fireStyleSheetChanged(e,i);return true}catch(e){console.error(e);return false}}async addRule(e,t,r){try{await this.ensureOriginalStyleSheetText(e);const{rule:n}=await this.agent.invoke_addRule({styleSheetId:e,ruleText:t,location:r});if(!n){return null}this.#zr.markUndoableState();const i=new xs(e,r,t,n);this.fireStyleSheetChanged(e,i);return new wn(this,n)}catch(e){console.error(e);return null}}async requestViaInspectorStylesheet(e){const t=e||(this.#Xr&&this.#Xr.mainFrame?this.#Xr.mainFrame.id:null);const r=[...this.#en.values()];const n=r.find((e=>e.frameId===t&&e.isViaInspector()));if(n){return n}if(!t){return null}try{return await this.createInspectorStylesheet(t)}catch(e){console.error(e);return null}}async createInspectorStylesheet(e){const t=await this.agent.invoke_createStyleSheet({frameId:e});if(t.getError()){throw new Error(t.getError())}return this.#en.get(t.styleSheetId)||null}mediaQueryResultChanged(){this.#an=void 0;this.dispatchEventToListeners("MediaQueryResultChanged")}fontsUpdated(e){if(e){this.#Kr.set(e.src,new rr(e))}this.dispatchEventToListeners("FontsUpdated")}fontFaces(){return[...this.#Kr.values()]}fontFaceForSource(e){return this.#Kr.get(e)}styleSheetHeaderForId(e){return this.#en.get(e)||null}styleSheetHeaders(){return[...this.#en.values()]}fireStyleSheetChanged(e,t){this.dispatchEventToListeners("StyleSheetChanged",{styleSheetId:e,edit:t})}ensureOriginalStyleSheetText(e){const t=this.styleSheetHeaderForId(e);if(!t){return Promise.resolve(null)}let r=this.#Qr.get(t);if(!r){r=this.getStyleSheetText(t.id);this.#Qr.set(t,r);this.originalContentRequestedForTest(t)}return r}originalContentRequestedForTest(e){}originalStyleSheetText(e){return this.ensureOriginalStyleSheetText(e.id)}getAllStyleSheetHeaders(){return this.#en.values()}computedStyleUpdated(e){this.dispatchEventToListeners("ComputedStyleUpdated",{nodeId:e})}styleSheetAdded(e){console.assert(!this.#en.get(e.styleSheetId));if(e.loadingFailed){e.hasSourceURL=false;e.isConstructed=true;e.isInline=false;e.isMutable=false;e.sourceURL="";e.sourceMapURL=void 0}const t=new ei(this,e);this.#en.set(e.styleSheetId,t);const r=t.resourceURL();let n=this.#Zr.get(r);if(!n){n=new Map;this.#Zr.set(r,n)}if(n){let e=n.get(t.frameId);if(!e){e=new Set;n.set(t.frameId,e)}e.add(t.id)}this.#Jr.attachSourceMap(t,t.sourceURL,t.sourceMapURL);this.dispatchEventToListeners("StyleSheetAdded",t)}styleSheetRemoved(e){const t=this.#en.get(e);console.assert(Boolean(t));if(!t){return}this.#en.delete(e);const r=t.resourceURL();const n=this.#Zr.get(r);console.assert(Boolean(n),"No frameId to styleSheetId map is available for given style sheet URL.");if(n){const i=n.get(t.frameId);if(i){i.delete(e);if(!i.size){n.delete(t.frameId);if(!n.size){this.#Zr.delete(r)}}}}this.#Qr.delete(t);this.#Jr.detachSourceMap(t);this.dispatchEventToListeners("StyleSheetRemoved",t)}getStyleSheetIdsForURL(e){const t=this.#Zr.get(e);if(!t){return[]}const r=[];for(const e of t.values()){r.push(...e)}return r}async setStyleSheetText(t,r,n){const i=this.#en.get(t);if(!i){return"Unknown stylesheet in CSS.setStyleSheetText"}r=e.trimSourceURL(r);if(i.hasSourceURL){r+="\n/*# sourceURL="+i.sourceURL+" */"}await this.ensureOriginalStyleSheetText(t);const s=await this.agent.invoke_setStyleSheetText({styleSheetId:i.id,text:r});const o=s.sourceMapURL;this.#Jr.detachSourceMap(i);i.setSourceMapURL(o);this.#Jr.attachSourceMap(i,i.sourceURL,i.sourceMapURL);if(o===null){return"Error in CSS.setStyleSheetText"}this.#zr.markUndoableState(!n);this.fireStyleSheetChanged(t);return null}async getStyleSheetText(t){const r=await this.agent.invoke_getStyleSheetText({styleSheetId:t});if(r.getError()){return null}const{text:n}=r;return n&&e.trimSourceURL(n)}async onPrimaryPageChanged(e){if(e.data.frame.backForwardCacheDetails.restoredFromCache){await this.suspendModel();await this.resumeModel()}else if(e.data.type!==Pa.ACTIVATION){this.resetStyleSheets();this.resetFontFaces()}}resetStyleSheets(){const e=[...this.#en.values()];this.#Zr.clear();this.#en.clear();for(const t of e){this.#Jr.detachSourceMap(t);this.dispatchEventToListeners("StyleSheetRemoved",t)}}resetFontFaces(){this.#Kr.clear()}async suspendModel(){this.#Wr=false;await this.agent.invoke_disable();this.resetStyleSheets();this.resetFontFaces()}async resumeModel(){return this.enable()}setEffectivePropertyValueForNode(e,t,r){void this.agent.invoke_setEffectivePropertyValueForNode({nodeId:e,propertyName:t,value:r})}cachedMatchedCascadeForNode(e){if(this.#tn!==e){this.discardCachedMatchedCascade()}this.#tn=e;if(!this.#rn){if(e.id){this.#rn=this.getMatchedStyles(e.id)}else{return Promise.resolve(null)}}return this.#rn}discardCachedMatchedCascade(){this.#tn=null;this.#rn=null}createCSSPropertyTracker(e){const t=new Os(this,e);return t}enableCSSPropertyTracker(e){const t=e.getTrackedProperties();if(t.length===0){return}void this.agent.invoke_trackComputedStyleUpdates({propertiesToTrack:t});this.#in=true;this.#nn=e;void this.pollComputedStyleUpdates()}disableCSSPropertyTracker(){this.#in=false;this.#nn=null;void this.agent.invoke_trackComputedStyleUpdates({propertiesToTrack:[]})}async pollComputedStyleUpdates(){if(this.#on){return}if(this.#in){this.#on=true;const e=await this.agent.invoke_takeComputedStyleUpdates();this.#on=false;if(e.getError()||!e.nodeIds||!this.#in){return}if(this.#nn){this.#nn.dispatchEventToListeners("TrackedCSSPropertiesUpdated",e.nodeIds.map((e=>this.#zr.nodeForId(e))))}}if(this.#in){void this.#Yr.schedule(this.pollComputedStyleUpdates.bind(this))}}dispose(){this.disableCSSPropertyTracker();super.dispose();this.dispatchEventToListeners("ModelDisposed",this)}getAgent(){return this.agent}};var Es=(e=>{e["FontsUpdated"]="FontsUpdated";e["MediaQueryResultChanged"]="MediaQueryResultChanged";e["ModelWasEnabled"]="ModelWasEnabled";e["ModelDisposed"]="ModelDisposed";e["PseudoStateForced"]="PseudoStateForced";e["StyleSheetAdded"]="StyleSheetAdded";e["StyleSheetChanged"]="StyleSheetChanged";e["StyleSheetRemoved"]="StyleSheetRemoved";e["ComputedStyleUpdated"]="ComputedStyleUpdated";return e})(Es||{});var Ps="pseudo-state-marker";var xs=class{styleSheetId;oldRange;newRange;newText;payload;constructor(e,t,r,n){this.styleSheetId=e;this.oldRange=t;this.newRange=$t.TextRange.TextRange.fromEdit(t,r);this.newText=r;this.payload=n}};var Ms=class{#We;styleSheetId;url;lineNumber;columnNumber;constructor(e,t,r){this.#We=e.cssModel();this.styleSheetId=e.id;this.url=e.resourceURL();this.lineNumber=t;this.columnNumber=r||0}cssModel(){return this.#We}header(){return this.#We.styleSheetHeaderForId(this.styleSheetId)}};var As=class{#st;constructor(e){this.#st=e}mediaQueryResultChanged(){this.#st.mediaQueryResultChanged()}fontsUpdated({font:e}){this.#st.fontsUpdated(e)}styleSheetChanged({styleSheetId:e}){this.#st.fireStyleSheetChanged(e)}styleSheetAdded({header:e}){this.#st.styleSheetAdded(e)}styleSheetRemoved({styleSheetId:e}){this.#st.styleSheetRemoved(e)}computedStyleUpdated({nodeId:e}){this.#st.computedStyleUpdated(e)}};var Ls=class{#st;#ln;constructor(e){this.#st=e;this.#ln=new Map}computedStylePromise(e){let t=this.#ln.get(e);if(t){return t}t=this.#st.getAgent().invoke_getComputedStyleForNode({nodeId:e}).then((({computedStyle:t})=>{this.#ln.delete(e);if(!t||!t.length){return null}const r=new Map;for(const e of t){r.set(e.name,e.value)}return r}));this.#ln.set(e,t);return t}};var Ns=class{inlineStyle;attributesStyle;constructor(e,t){this.inlineStyle=e;this.attributesStyle=t}};var Os=class extends Yt.ObjectWrapper.ObjectWrapper{#st;#dn;constructor(e,t){super();this.#st=e;this.#dn=t}start(){this.#st.enableCSSPropertyTracker(this)}stop(){this.#st.disableCSSPropertyTracker()}getTrackedProperties(){return this.#dn}};var Ds=1e3;var Fs=(e=>{e["TRACKED_CSS_PROPERTIES_UPDATED"]="TrackedCSSPropertiesUpdated";return e})(Fs||{});p.register(Ts,{capabilities:nt.DOM,autostart:true});var Bs={};a(Bs,{EmulatedOSType:()=>Qo,Events:()=>Yo,OverlayModel:()=>Jo,SourceOrderHighlighter:()=>ea,WindowControls:()=>$o});import*as Hs from"./../common/common.js";import*as Us from"./../i18n/i18n.js";import*as _s from"./../root/root.js";var qs={};a(qs,{BreakLocation:()=>Mo,BreakpointType:()=>Oo,COND_BREAKPOINT_SOURCE_URL:()=>Fo,CallFrame:()=>Ao,DebuggerModel:()=>Co,DebuggerPausedDetails:()=>No,Events:()=>Eo,LOGPOINT_SOURCE_URL:()=>Do,Location:()=>xo,PauseOnExceptionsState:()=>To,Scope:()=>Lo,StepMode:()=>ko,WASM_SYMBOLS_PRIORITY:()=>wo,sortAndMergeRanges:()=>Io});import*as Ws from"./../common/common.js";import*as Vs from"./../host/host.js";import*as js from"./../i18n/i18n.js";import*as Gs from"./../platform/platform.js";import*as zs from"./../root/root.js";var Ks={};a(Ks,{Events:()=>to,ExecutionContext:()=>no,RuntimeModel:()=>eo});import*as Qs from"./../common/common.js";import*as Xs from"./../host/host.js";var Js={};a(Js,{Events:()=>Ys,HeapProfilerModel:()=>$s});var $s=class extends p{#cn;#un;#hn;#gn;constructor(e){super(e);e.registerHeapProfilerDispatcher(new Zs(this));this.#cn=false;this.#un=e.heapProfilerAgent();this.#hn=e.model(eo);this.#gn=0}debuggerModel(){return this.#hn.debuggerModel()}runtimeModel(){return this.#hn}async enable(){if(this.#cn){return}this.#cn=true;await this.#un.invoke_enable()}async startSampling(e){if(this.#gn++){return false}const t=16384;const r=await this.#un.invoke_startSampling({samplingInterval:e||t});return Boolean(r.getError())}async stopSampling(){if(!this.#gn){throw new Error("Sampling profiler is not running.")}if(--this.#gn){return this.getSamplingProfile()}const e=await this.#un.invoke_stopSampling();if(e.getError()){return null}return e.profile}async getSamplingProfile(){const e=await this.#un.invoke_getSamplingProfile();if(e.getError()){return null}return e.profile}async collectGarbage(){const e=await this.#un.invoke_collectGarbage();return Boolean(e.getError())}async snapshotObjectIdForObjectId(e){const t=await this.#un.invoke_getHeapObjectId({objectId:e});if(t.getError()){return null}return t.heapSnapshotObjectId}async objectForSnapshotObjectId(e,t){const r=await this.#un.invoke_getObjectByHeapObjectId({objectId:e,objectGroup:t});if(r.getError()){return null}return this.#hn.createRemoteObject(r.result)}async addInspectedHeapObject(e){const t=await this.#un.invoke_addInspectedHeapObject({heapObjectId:e});return Boolean(t.getError())}async takeHeapSnapshot(e){await this.#un.invoke_takeHeapSnapshot(e)}async startTrackingHeapObjects(e){const t=await this.#un.invoke_startTrackingHeapObjects({trackAllocations:e});return Boolean(t.getError())}async stopTrackingHeapObjects(e){const t=await this.#un.invoke_stopTrackingHeapObjects({reportProgress:e});return Boolean(t.getError())}heapStatsUpdate(e){this.dispatchEventToListeners("HeapStatsUpdate",e)}lastSeenObjectId(e,t){this.dispatchEventToListeners("LastSeenObjectId",{lastSeenObjectId:e,timestamp:t})}addHeapSnapshotChunk(e){this.dispatchEventToListeners("AddHeapSnapshotChunk",e)}reportHeapSnapshotProgress(e,t,r){this.dispatchEventToListeners("ReportHeapSnapshotProgress",{done:e,total:t,finished:r})}resetProfiles(){this.dispatchEventToListeners("ResetProfiles",this)}};var Ys=(e=>{e["HEAP_STATS_UPDATED"]="HeapStatsUpdate";e["LAST_SEEN_OBJECT_ID"]="LastSeenObjectId";e["ADD_HEAP_SNAPSHOT_CHUNK"]="AddHeapSnapshotChunk";e["REPORT_HEAP_SNAPSHOT_PROGRESS"]="ReportHeapSnapshotProgress";e["RESET_PROFILES"]="ResetProfiles";return e})(Ys||{});var Zs=class{#pn;constructor(e){this.#pn=e}heapStatsUpdate({statsUpdate:e}){this.#pn.heapStatsUpdate(e)}lastSeenObjectId({lastSeenObjectId:e,timestamp:t}){this.#pn.lastSeenObjectId(e,t)}addHeapSnapshotChunk({chunk:e}){this.#pn.addHeapSnapshotChunk(e)}reportHeapSnapshotProgress({done:e,total:t,finished:r}){this.#pn.reportHeapSnapshotProgress(e,t,r)}resetProfiles(){this.#pn.resetProfiles()}};p.register($s,{capabilities:nt.JS,autostart:false});var eo=class extends p{agent;#mn;#fn;constructor(e){super(e);this.agent=e.runtimeAgent();this.target().registerRuntimeDispatcher(new ro(this));void this.agent.invoke_enable();this.#mn=new Map;this.#fn=no.comparator;if(Qs.Settings.Settings.instance().moduleSetting("custom-formatters").get()){void this.agent.invoke_setCustomObjectFormatterEnabled({enabled:true})}Qs.Settings.Settings.instance().moduleSetting("custom-formatters").addChangeListener(this.customFormattersStateChanged.bind(this))}static isSideEffectFailure(e){const t="exceptionDetails"in e&&e.exceptionDetails;return Boolean(t&&t.exception&&t.exception.description&&t.exception.description.startsWith("EvalError: Possible side-effect in debug-evaluate"))}debuggerModel(){return this.target().model(Co)}heapProfilerModel(){return this.target().model($s)}executionContexts(){return[...this.#mn.values()].sort(this.executionContextComparator())}setExecutionContextComparator(e){this.#fn=e}executionContextComparator(){return this.#fn}defaultExecutionContext(){for(const e of this.executionContexts()){if(e.isDefault){return e}}return null}executionContext(e){return this.#mn.get(e)||null}executionContextCreated(e){const t=e.auxData||{isDefault:true};const r=new no(this,e.id,e.uniqueId,e.name,e.origin,t["isDefault"],t["frameId"]);this.#mn.set(r.id,r);this.dispatchEventToListeners("ExecutionContextCreated",r)}executionContextDestroyed(e){const t=this.#mn.get(e);if(!t){return}this.debuggerModel().executionContextDestroyed(t);this.#mn.delete(e);this.dispatchEventToListeners("ExecutionContextDestroyed",t)}fireExecutionContextOrderChanged(){this.dispatchEventToListeners("ExecutionContextOrderChanged",this)}executionContextsCleared(){this.debuggerModel().globalObjectCleared();const e=this.executionContexts();this.#mn.clear();for(let t=0;t<e.length;++t){this.dispatchEventToListeners("ExecutionContextDestroyed",e[t])}}createRemoteObject(e){console.assert(typeof e==="object","Remote object payload should only be an object");return new yi(this,e.objectId,e.type,e.subtype,e.value,e.unserializableValue,e.description,e.preview,e.customPreview,e.className)}createScopeRemoteObject(e,t){return new Si(this,e.objectId,t,e.type,e.subtype,e.value,e.unserializableValue,e.description,e.preview)}createRemoteObjectFromPrimitiveValue(e){const t=typeof e;let r=void 0;const n=fi.unserializableDescription(e);if(n!==null){r=n}if(typeof r!=="undefined"){e=void 0}return new yi(this,void 0,t,void 0,e,r)}createRemotePropertyFromPrimitiveValue(e,t){return new bi(e,this.createRemoteObjectFromPrimitiveValue(t))}discardConsoleEntries(){void this.agent.invoke_discardConsoleEntries()}releaseObjectGroup(e){void this.agent.invoke_releaseObjectGroup({objectGroup:e})}releaseEvaluationResult(e){if("object"in e&&e.object){e.object.release()}if("exceptionDetails"in e&&e.exceptionDetails&&e.exceptionDetails.exception){const t=e.exceptionDetails.exception;const r=this.createRemoteObject({type:t.type,objectId:t.objectId});r.release()}}runIfWaitingForDebugger(){void this.agent.invoke_runIfWaitingForDebugger()}customFormattersStateChanged({data:e}){void this.agent.invoke_setCustomObjectFormatterEnabled({enabled:e})}async compileScript(e,t,r,n){const i=await this.agent.invoke_compileScript({expression:e,sourceURL:t,persistScript:r,executionContextId:n});if(i.getError()){console.error(i.getError());return null}return{scriptId:i.scriptId,exceptionDetails:i.exceptionDetails}}async runScript(e,t,r,n,i,s,o,a){const l=await this.agent.invoke_runScript({scriptId:e,executionContextId:t,objectGroup:r,silent:n,includeCommandLineAPI:i,returnByValue:s,generatePreview:o,awaitPromise:a});const d=l.getError();if(d){console.error(d);return{error:d}}return{object:this.createRemoteObject(l.result),exceptionDetails:l.exceptionDetails}}async queryObjects(e){if(!e.objectId){return{error:"Prototype should be an Object."}}const t=await this.agent.invoke_queryObjects({prototypeObjectId:e.objectId,objectGroup:"console"});const r=t.getError();if(r){console.error(r);return{error:r}}return{objects:this.createRemoteObject(t.objects)}}async isolateId(){const e=await this.agent.invoke_getIsolateId();if(e.getError()||!e.id){return this.target().id()}return e.id}async heapUsage(){const e=await this.agent.invoke_getHeapUsage();return e.getError()?null:e}inspectRequested(e,t,r){const n=this.createRemoteObject(e);if(t!==null&&typeof t==="object"){if("copyToClipboard"in t&&Boolean(t.copyToClipboard)){this.copyRequested(n);return}if("queryObjects"in t&&t.queryObjects){void this.queryObjectsRequested(n,r);return}}if(n.isNode()){void Qs.Revealer.reveal(n).then(n.release.bind(n));return}if(n.type==="function"){void Ci.objectAsFunction(n).targetFunctionDetails().then(i);return}function i(e){n.release();if(!e||!e.location){return}void Qs.Revealer.reveal(e.location)}n.release()}async addBinding(e){return await this.agent.invoke_addBinding(e)}async removeBinding(e){return await this.agent.invoke_removeBinding(e)}bindingCalled(e){this.dispatchEventToListeners("BindingCalled",e)}copyRequested(e){if(!e.objectId){Xs.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(e.unserializableValue()||e.value);return}const t=Qs.Settings.Settings.instance().moduleSetting("text-editor-indent").get();void e.callFunctionJSON(r,[{value:{subtype:e.subtype,indent:t}}]).then(Xs.InspectorFrontendHost.InspectorFrontendHostInstance.copyText.bind(Xs.InspectorFrontendHost.InspectorFrontendHostInstance));function r(e){const t=e.subtype;const r=e.indent;if(t==="node"){return this instanceof Element?this.outerHTML:void 0}if(t&&typeof this==="undefined"){return String(t)}try{return JSON.stringify(this,null,r)}catch(e){return String(this)}}}async queryObjectsRequested(e,t){const r=await this.queryObjects(e);e.release();if("error"in r){Qs.Console.Console.instance().error(r.error);return}this.dispatchEventToListeners("QueryObjectRequested",{objects:r.objects,executionContextId:t})}static simpleTextFromException(e){let t=e.text;if(e.exception&&e.exception.description){let r=e.exception.description;if(r.indexOf("\n")!==-1){r=r.substring(0,r.indexOf("\n"))}t+=" "+r}return t}exceptionThrown(e,t){const r={timestamp:e,details:t};this.dispatchEventToListeners("ExceptionThrown",r)}exceptionRevoked(e){this.dispatchEventToListeners("ExceptionRevoked",e)}consoleAPICalled(e,t,r,n,i,s){const o={type:e,args:t,executionContextId:r,timestamp:n,stackTrace:i,context:s};this.dispatchEventToListeners("ConsoleAPICalled",o)}executionContextIdForScriptId(e){const t=this.debuggerModel().scriptForId(e);return t?t.executionContextId:0}executionContextForStackTrace(e){let t=e;while(t&&!t.callFrames.length){t=t.parent||null}if(!t||!t.callFrames.length){return 0}return this.executionContextIdForScriptId(t.callFrames[0].scriptId)}terminateExecution(){return this.agent.invoke_terminateExecution()}async getExceptionDetails(e){const t=await this.agent.invoke_getExceptionDetails({errorObjectId:e});if(t.getError()){return void 0}return t.exceptionDetails}};var to=(e=>{e["BindingCalled"]="BindingCalled";e["ExecutionContextCreated"]="ExecutionContextCreated";e["ExecutionContextDestroyed"]="ExecutionContextDestroyed";e["ExecutionContextChanged"]="ExecutionContextChanged";e["ExecutionContextOrderChanged"]="ExecutionContextOrderChanged";e["ExceptionThrown"]="ExceptionThrown";e["ExceptionRevoked"]="ExceptionRevoked";e["ConsoleAPICalled"]="ConsoleAPICalled";e["QueryObjectRequested"]="QueryObjectRequested";return e})(to||{});var ro=class{#yn;constructor(e){this.#yn=e}executionContextCreated({context:e}){this.#yn.executionContextCreated(e)}executionContextDestroyed({executionContextId:e}){this.#yn.executionContextDestroyed(e)}executionContextsCleared(){this.#yn.executionContextsCleared()}exceptionThrown({timestamp:e,exceptionDetails:t}){this.#yn.exceptionThrown(e,t)}exceptionRevoked({exceptionId:e}){this.#yn.exceptionRevoked(e)}consoleAPICalled({type:e,args:t,executionContextId:r,timestamp:n,stackTrace:i,context:s}){this.#yn.consoleAPICalled(e,t,r,n,i,s)}inspectRequested({object:e,hints:t,executionContextId:r}){this.#yn.inspectRequested(e,t,r)}bindingCalled(e){this.#yn.bindingCalled(e)}};var no=class{id;uniqueId;name;#Sn;origin;isDefault;runtimeModel;debuggerModel;frameId;constructor(e,t,r,n,i,s,o){this.id=t;this.uniqueId=r;this.name=n;this.#Sn=null;this.origin=i;this.isDefault=s;this.runtimeModel=e;this.debuggerModel=e.debuggerModel();this.frameId=o;this.setLabelInternal("")}target(){return this.runtimeModel.target()}static comparator(e,t){function r(e){if(e.parentTarget()?.type()!==rt.FRAME){return 5}if(e.type()===rt.FRAME){return 4}if(e.type()===rt.ServiceWorker){return 3}if(e.type()===rt.Worker||e.type()===rt.SHARED_WORKER){return 2}return 1}function n(e){let t=e;const r=[];while(t){r.push(t);t=t.parentTarget()}return r.reverse()}const i=n(e.target());const s=n(t.target());let o;let a;for(let e=0;;e++){if(!i[e]||!s[e]||i[e]!==s[e]){o=i[e];a=s[e];break}}if(!o&&a){return-1}if(!a&&o){return 1}if(o&&a){const e=r(o)-r(a);if(e){return-e}return o.id().localeCompare(a.id())}if(e.isDefault){return-1}if(t.isDefault){return 1}return e.name.localeCompare(t.name)}async evaluate(e,t,r){if(this.debuggerModel.selectedCallFrame()){return this.debuggerModel.evaluateOnSelectedCallFrame(e)}return this.evaluateGlobal(e,t,r)}globalObject(e,t){const r={expression:"this",objectGroup:e,includeCommandLineAPI:false,silent:true,returnByValue:false,generatePreview:t};return this.evaluateGlobal(r,false,false)}async callFunctionOn(e){const t=await this.runtimeModel.agent.invoke_callFunctionOn({functionDeclaration:e.functionDeclaration,returnByValue:e.returnByValue,userGesture:e.userGesture,awaitPromise:e.awaitPromise,throwOnSideEffect:e.throwOnSideEffect,arguments:e.arguments,...this.uniqueId?{uniqueContextId:this.uniqueId}:{contextId:this.id}});const r=t.getError();if(r){return{error:r}}return{object:this.runtimeModel.createRemoteObject(t.result),exceptionDetails:t.exceptionDetails}}async evaluateGlobal(e,t,r){if(!e.expression){e.expression="this"}const n=await this.runtimeModel.agent.invoke_evaluate({expression:e.expression,objectGroup:e.objectGroup,includeCommandLineAPI:e.includeCommandLineAPI,silent:e.silent,returnByValue:e.returnByValue,generatePreview:e.generatePreview,userGesture:t,awaitPromise:r,throwOnSideEffect:e.throwOnSideEffect,timeout:e.timeout,disableBreaks:e.disableBreaks,replMode:e.replMode,allowUnsafeEvalBlockedByCSP:e.allowUnsafeEvalBlockedByCSP,...this.uniqueId?{uniqueContextId:this.uniqueId}:{contextId:this.id}});const i=n.getError();if(i){console.error(i);return{error:i}}return{object:this.runtimeModel.createRemoteObject(n.result),exceptionDetails:n.exceptionDetails}}async globalLexicalScopeNames(){const e=await this.runtimeModel.agent.invoke_globalLexicalScopeNames({executionContextId:this.id});return e.getError()?[]:e.names}label(){return this.#Sn}setLabel(e){this.setLabelInternal(e);this.runtimeModel.dispatchEventToListeners("ExecutionContextChanged",this)}setLabelInternal(e){if(e){this.#Sn=e;return}if(this.name){this.#Sn=this.name;return}const t=Qs.ParsedURL.ParsedURL.fromString(this.origin);this.#Sn=t?t.lastPathComponentWithFragment():""}};p.register(eo,{capabilities:nt.JS,autostart:true});var io={};a(io,{Script:()=>go,disassembleWasm:()=>yo,sourceURLRegex:()=>fo});import*as so from"./../../models/text_utils/text_utils.js";import*as oo from"./../common/common.js";import*as ao from"./../i18n/i18n.js";var lo={scriptRemovedOrDeleted:"Script removed or deleted.",unableToFetchScriptSource:"Unable to fetch script source."};var co=ao.i18n.registerUIStrings("core/sdk/Script.ts",lo);var uo=ao.i18n.getLocalizedString.bind(void 0,co);var ho=null;var go=class e{debuggerModel;scriptId;sourceURL;lineOffset;columnOffset;endLine;endColumn;executionContextId;hash;#vn;#bn;sourceMapURL;debugSymbols;hasSourceURL;contentLength;originStackTrace;#In;#kn;#wn;#Cn;isModule;constructor(e,t,r,n,i,s,o,a,l,d,c,u,h,g,p,m,f,y,S,v){this.debuggerModel=e;this.scriptId=t;this.sourceURL=r;this.lineOffset=n;this.columnOffset=i;this.endLine=s;this.endColumn=o;this.isModule=p;this.executionContextId=a;this.hash=l;this.#vn=d;this.#bn=c;this.sourceMapURL=u;this.debugSymbols=S;this.hasSourceURL=h;this.contentLength=g;this.originStackTrace=m;this.#In=f;this.#kn=y;this.#wn=null;this.#Cn=v}embedderName(){return this.#Cn}target(){return this.debuggerModel.target()}static trimSourceURLComment(e){let t=e.lastIndexOf("//# sourceURL=");if(t===-1){t=e.lastIndexOf("//@ sourceURL=");if(t===-1){return e}}const r=e.lastIndexOf("\n",t);if(r===-1){return e}const n=e.substr(r+1);if(!n.match(fo)){return e}return e.substr(0,r)}isContentScript(){return this.#vn}codeOffset(){return this.#In}isJavaScript(){return this.#kn===$.ScriptLanguage.JavaScript}isWasm(){return this.#kn===$.ScriptLanguage.WebAssembly}scriptLanguage(){return this.#kn}executionContext(){return this.debuggerModel.runtimeModel().executionContext(this.executionContextId)}isLiveEdit(){return this.#bn}contentURL(){return this.sourceURL}contentType(){return oo.ResourceType.resourceTypes.Script}async loadTextContent(){const t=await this.debuggerModel.target().debuggerAgent().invoke_getScriptSource({scriptId:this.scriptId});if(t.getError()){throw new Error(t.getError())}const{scriptSource:r,bytecode:n}=t;if(n){return new so.ContentData.ContentData(n,true,"application/wasm")}let i=r||"";if(this.hasSourceURL&&oo.ParsedURL.schemeIs(this.sourceURL,"snippet:")){i=e.trimSourceURLComment(i)}return new so.ContentData.ContentData(i,false,"text/javascript")}async loadWasmContent(){if(!this.isWasm()){throw new Error("Not a wasm script")}const e=await this.debuggerModel.target().debuggerAgent().invoke_disassembleWasmModule({scriptId:this.scriptId});if(e.getError()){const e=await this.loadTextContent();return await yo(e.base64)}const{streamId:t,functionBodyOffsets:r,chunk:{lines:n,bytecodeOffsets:i}}=e;const s=[];const o=[];let a=n.reduce(((e,t)=>e+t.length+1),0);const l="<truncated>";const d=1e9-l.length;if(t){while(true){const e=await this.debuggerModel.target().debuggerAgent().invoke_nextWasmDisassemblyChunk({streamId:t});if(e.getError()){throw new Error(e.getError())}const{chunk:{lines:r,bytecodeOffsets:n}}=e;a+=r.reduce(((e,t)=>e+t.length+1),0);if(r.length===0){break}if(a>=d){s.push([l]);o.push([0]);break}s.push(r);o.push(n)}}const c=[];for(let e=0;e<r.length;e+=2){c.push({start:r[e],end:r[e+1]})}return new so.WasmDisassembly.WasmDisassembly(n.concat(...s),i.concat(...o),c)}requestContentData(){if(!this.#wn){const e=65535;if(this.hash&&!this.#bn&&this.contentLength>e){if(!ho){ho={cache:new Map,registry:new FinalizationRegistry((e=>ho?.cache.delete(e)))}}const e=[this.#kn,this.contentLength,this.lineOffset,this.columnOffset,this.endLine,this.endColumn,this.#In,this.hash].join(":");const t=ho.cache.get(e)?.deref();if(t){this.#wn=t}else{this.#wn=this.requestContentInternal();ho.cache.set(e,new WeakRef(this.#wn));ho.registry.register(this.#wn,e)}}else{this.#wn=this.requestContentInternal()}}return this.#wn}async requestContent(){const e=await this.requestContentData();return so.ContentData.ContentData.asDeferredContent(e)}async requestContentInternal(){if(!this.scriptId){return{error:uo(lo.scriptRemovedOrDeleted)}}try{return this.isWasm()?await this.loadWasmContent():await this.loadTextContent()}catch(e){return{error:uo(lo.unableToFetchScriptSource)}}}async getWasmBytecode(){const e=await this.debuggerModel.target().debuggerAgent().invoke_getWasmBytecode({scriptId:this.scriptId});const t=await fetch(`data:application/wasm;base64,${e.bytecode}`);return t.arrayBuffer()}originalContentProvider(){return new so.StaticContentProvider.StaticContentProvider(this.contentURL(),this.contentType(),(()=>this.requestContentData()))}async searchInContent(e,t,r){if(!this.scriptId){return[]}const n=await this.debuggerModel.target().debuggerAgent().invoke_searchInContent({scriptId:this.scriptId,query:e,caseSensitive:t,isRegex:r});return so.TextUtils.performSearchInSearchMatches(n.result||[],e,t,r)}appendSourceURLCommentIfNeeded(e){if(!this.hasSourceURL){return e}return e+"\n //# sourceURL="+this.sourceURL}async editSource(t){t=e.trimSourceURLComment(t);t=this.appendSourceURLCommentIfNeeded(t);const r=so.ContentData.ContentData.textOr(await this.requestContentData(),null);if(r===t){return{changed:false,status:$.SetScriptSourceResponseStatus.Ok}}const n=await this.debuggerModel.target().debuggerAgent().invoke_setScriptSource({scriptId:this.scriptId,scriptSource:t,allowTopFrameEditing:true});if(n.getError()){throw new Error(`Script#editSource failed for script with id ${this.scriptId}: ${n.getError()}`)}if(!n.getError()&&n.status===$.SetScriptSourceResponseStatus.Ok){this.#wn=Promise.resolve(new so.ContentData.ContentData(t,false,"text/javascript"))}this.debuggerModel.dispatchEventToListeners(Eo.ScriptSourceWasEdited,{script:this,status:n.status});return{changed:true,status:n.status,exceptionDetails:n.exceptionDetails}}rawLocation(e,t){if(this.containsLocation(e,t)){return new xo(this.debuggerModel,this.scriptId,e,t)}return null}isInlineScript(){const e=!this.lineOffset&&!this.columnOffset;return!this.isWasm()&&Boolean(this.sourceURL)&&!e}isAnonymousScript(){return!this.sourceURL}async setBlackboxedRanges(e){const t=await this.debuggerModel.target().debuggerAgent().invoke_setBlackboxedRanges({scriptId:this.scriptId,positions:e});return!t.getError()}containsLocation(e,t){const r=e===this.lineOffset&&t>=this.columnOffset||e>this.lineOffset;const n=e<this.endLine||e===this.endLine&&t<=this.endColumn;return r&&n}get frameId(){if(typeof this[po]!=="string"){this[po]=mo(this)}return this[po]}get isBreakpointCondition(){return[Fo,Do].includes(this.sourceURL)}sourceMap(){return this.debuggerModel.sourceMapManager().sourceMapForClient(this)}createPageResourceLoadInitiator(){return{target:this.target(),frameId:this.frameId,initiatorUrl:this.embedderName()}}rawLocationToRelativeLocation(e){let{lineNumber:t,columnNumber:r}=e;if(!this.hasSourceURL&&this.isInlineScript()){t-=this.lineOffset;if(t===0&&r!==void 0){r-=this.columnOffset}}return{lineNumber:t,columnNumber:r}}relativeLocationToRawLocation(e){let{lineNumber:t,columnNumber:r}=e;if(!this.hasSourceURL&&this.isInlineScript()){if(t===0&&r!==void 0){r+=this.columnOffset}t+=this.lineOffset}return{lineNumber:t,columnNumber:r}}};var po=Symbol("frameid");function mo(e){const t=e.executionContext();if(t){return t.frameId||null}const r=e.debuggerModel.target().model(Ca);if(!r||!r.mainFrame){return null}return r.mainFrame.id}var fo=/^[\x20\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/;async function yo(e){const t=oo.Worker.WorkerWrapper.fromURL(new URL("../../entrypoints/wasmparser_worker/wasmparser_worker-entrypoint.js",import.meta.url));const r=new Promise(((e,r)=>{t.onmessage=({data:t})=>{if("method"in t){switch(t.method){case"disassemble":if("error"in t){r(t.error)}else if("result"in t){const{lines:r,offsets:n,functionBodyOffsets:i}=t.result;e(new so.WasmDisassembly.WasmDisassembly(r,n,i))}break}}};t.onerror=r}));t.postMessage({method:"disassemble",params:{content:e}});try{return await r}finally{t.terminate()}}var So={local:"Local",closure:"Closure",block:"Block",script:"Script",withBlock:"`With` block",catchBlock:"`Catch` block",global:"Global",module:"Module",expression:"Expression",exception:"Exception",returnValue:"Return value"};var vo=js.i18n.registerUIStrings("core/sdk/DebuggerModel.ts",So);var bo=js.i18n.getLocalizedString.bind(void 0,vo);function Io(e){function t(e,t){return e.lineNumber-t.lineNumber||e.columnNumber-t.columnNumber}function r(e,r){if(e.scriptId!==r.scriptId){return false}const n=t(e.start,r.start);if(n<0){return t(e.end,r.start)>=0}if(n>0){return t(e.start,r.end)<=0}return true}if(e.length===0){return[]}e.sort(((e,r)=>{if(e.scriptId<r.scriptId){return-1}if(e.scriptId>r.scriptId){return 1}return t(e.start,r.start)||t(e.end,r.end)}));let n=e[0];const i=[];for(let s=1;s<e.length;++s){const o=e[s];if(r(n,o)){if(t(n.end,o.end)<=0){n={...n,end:o.end}}}else{i.push(n);n=o}}i.push(n);return i}var ko=(e=>{e["STEP_INTO"]="StepInto";e["STEP_OUT"]="StepOut";e["STEP_OVER"]="StepOver";return e})(ko||{});var wo=[$.DebugSymbolsType.ExternalDWARF,$.DebugSymbolsType.EmbeddedDWARF,$.DebugSymbolsType.SourceMap];var Co=class e extends p{agent;runtimeModelInternal;#Rn;#Tn;#En;#Pn;#xn;continueToLocationCallback;#Mn;#An;#Ln;#Nn;#On;#Dn;#Fn;evaluateOnCallFrameCallback;#Bn;#Hn=new Ws.ObjectWrapper.ObjectWrapper;#Un;#_n;constructor(e){super(e);e.registerDebuggerDispatcher(new Po(this));this.agent=e.debuggerAgent();this.runtimeModelInternal=e.model(eo);this.#Rn=new ks(e);this.#Tn=null;this.#En=new Map;this.#Pn=new Map;this.#xn=[];this.continueToLocationCallback=null;this.#Mn=null;this.#An=false;this.#Ln=null;this.#Nn=0;this.#On=null;this.#Dn=null;this.#Fn=null;this.evaluateOnCallFrameCallback=null;this.#Bn=null;this.#Un=null;this.#_n=false;Ws.Settings.Settings.instance().moduleSetting("pause-on-exception-enabled").addChangeListener(this.pauseOnExceptionStateChanged,this);Ws.Settings.Settings.instance().moduleSetting("pause-on-caught-exception").addChangeListener(this.pauseOnExceptionStateChanged,this);Ws.Settings.Settings.instance().moduleSetting("pause-on-uncaught-exception").addChangeListener(this.pauseOnExceptionStateChanged,this);Ws.Settings.Settings.instance().moduleSetting("disable-async-stack-traces").addChangeListener(this.asyncStackTracesStateChanged,this);Ws.Settings.Settings.instance().moduleSetting("breakpoints-active").addChangeListener(this.breakpointsActiveChanged,this);if(!e.suspended()){void this.enableDebugger()}this.#Rn.setEnabled(Ws.Settings.Settings.instance().moduleSetting("js-source-maps-enabled").get());Ws.Settings.Settings.instance().moduleSetting("js-source-maps-enabled").addChangeListener((e=>this.#Rn.setEnabled(e.data)));const t=e.model(Ca);if(t){t.addEventListener(Ra.FrameNavigated,this.onFrameNavigated,this)}}static selectSymbolSource(e){if(!e||e.length===0){return null}if("type"in e){if(e.type==="None"){return null}return e}let t=null;const r=new Map(e.map((e=>[e.type,e])));for(const e of wo){if(r.has(e)){t=r.get(e)||null;break}}console.assert(t!==null,"Unknown symbol types. Front-end and back-end should be kept in sync regarding Protocol.Debugger.DebugSymbolTypes");if(t&&e.length>1){Ws.Console.Console.instance().warn(`Multiple debug symbols for script were found. Using ${t.type}`)}return t}sourceMapManager(){return this.#Rn}runtimeModel(){return this.runtimeModelInternal}debuggerEnabled(){return Boolean(this.#An)}debuggerId(){return this.#Ln}async enableDebugger(){if(this.#An){return}this.#An=true;const e=zs.Runtime.Runtime.queryParam("remoteFrontend")||zs.Runtime.Runtime.queryParam("ws");const t=e?1e7:1e8;const r=this.agent.invoke_enable({maxScriptsCacheSize:t});let n;if(zs.Runtime.experiments.isEnabled(zs.Runtime.ExperimentName.INSTRUMENTATION_BREAKPOINTS)){n=this.agent.invoke_setInstrumentationBreakpoint({instrumentation:$.SetInstrumentationBreakpointRequestInstrumentation.BeforeScriptExecution})}this.pauseOnExceptionStateChanged();void this.asyncStackTracesStateChanged();if(!Ws.Settings.Settings.instance().moduleSetting("breakpoints-active").get()){this.breakpointsActiveChanged()}this.dispatchEventToListeners("DebuggerWasEnabled",this);const[i]=await Promise.all([r,n]);this.registerDebugger(i)}async syncDebuggerId(){const e=zs.Runtime.Runtime.queryParam("remoteFrontend")||zs.Runtime.Runtime.queryParam("ws");const t=e?1e7:1e8;const r=this.agent.invoke_enable({maxScriptsCacheSize:t});void r.then(this.registerDebugger.bind(this));return r}onFrameNavigated(){if(e.shouldResyncDebuggerId){return}e.shouldResyncDebuggerId=true}registerDebugger(e){if(e.getError()){this.#An=false;return}const{debuggerId:t}=e;Ro.set(t,this);this.#Ln=t;this.dispatchEventToListeners("DebuggerIsReadyToPause",this)}isReadyToPause(){return Boolean(this.#Ln)}static async modelForDebuggerId(t){if(e.shouldResyncDebuggerId){await e.resyncDebuggerIdForModels();e.shouldResyncDebuggerId=false}return Ro.get(t)||null}static async resyncDebuggerIdForModels(){const e=Ro.values();for(const t of e){if(t.debuggerEnabled()){await t.syncDebuggerId()}}}async disableDebugger(){if(!this.#An){return}this.#An=false;await this.asyncStackTracesStateChanged();await this.agent.invoke_disable();this.#_n=false;this.globalObjectCleared();this.dispatchEventToListeners("DebuggerWasDisabled",this);if(typeof this.#Ln==="string"){Ro.delete(this.#Ln)}this.#Ln=null}skipAllPauses(e){if(this.#Nn){clearTimeout(this.#Nn);this.#Nn=0}void this.agent.invoke_setSkipAllPauses({skip:e})}skipAllPausesUntilReloadOrTimeout(e){if(this.#Nn){clearTimeout(this.#Nn)}void this.agent.invoke_setSkipAllPauses({skip:true});this.#Nn=window.setTimeout(this.skipAllPauses.bind(this,false),e)}pauseOnExceptionStateChanged(){const e=Ws.Settings.Settings.instance().moduleSetting("pause-on-caught-exception").get();let t;const r=Ws.Settings.Settings.instance().moduleSetting("pause-on-uncaught-exception").get();if(e&&r){t=$.SetPauseOnExceptionsRequestState.All}else if(e){t=$.SetPauseOnExceptionsRequestState.Caught}else if(r){t=$.SetPauseOnExceptionsRequestState.Uncaught}else{t=$.SetPauseOnExceptionsRequestState.None}void this.agent.invoke_setPauseOnExceptions({state:t})}asyncStackTracesStateChanged(){const e=32;const t=!Ws.Settings.Settings.instance().moduleSetting("disable-async-stack-traces").get()&&this.#An;const r=t?e:0;return this.agent.invoke_setAsyncCallStackDepth({maxDepth:r})}breakpointsActiveChanged(){void this.agent.invoke_setBreakpointsActive({active:Ws.Settings.Settings.instance().moduleSetting("breakpoints-active").get()})}setComputeAutoStepRangesCallback(e){this.#Dn=e}async computeAutoStepSkipList(e){let t=[];if(this.#Dn&&this.#Tn&&this.#Tn.callFrames.length>0){const[r]=this.#Tn.callFrames;t=await this.#Dn.call(null,e,r)}const r=t.map((({start:e,end:t})=>({scriptId:e.scriptId,start:{lineNumber:e.lineNumber,columnNumber:e.columnNumber},end:{lineNumber:t.lineNumber,columnNumber:t.columnNumber}})));return Io(r)}async stepInto(){const e=await this.computeAutoStepSkipList("StepInto");void this.agent.invoke_stepInto({breakOnAsyncCall:false,skipList:e})}async stepOver(){this.#Un=this.#Tn?.callFrames[0]?.functionLocation()??null;const e=await this.computeAutoStepSkipList("StepOver");void this.agent.invoke_stepOver({skipList:e})}async stepOut(){const e=await this.computeAutoStepSkipList("StepOut");if(e.length!==0){void this.agent.invoke_stepOver({skipList:e})}else{void this.agent.invoke_stepOut()}}scheduleStepIntoAsync(){void this.computeAutoStepSkipList("StepInto").then((e=>{void this.agent.invoke_stepInto({breakOnAsyncCall:true,skipList:e})}))}resume(){void this.agent.invoke_resume({terminateOnResume:false});this.#_n=false}pause(){this.#_n=true;this.skipAllPauses(false);void this.agent.invoke_pause()}async setBreakpointByURL(e,t,r,n){let i;if(this.target().type()===rt.NODE&&Ws.ParsedURL.schemeIs(e,"file:")){const t=Ws.ParsedURL.ParsedURL.urlToRawPathString(e,Vs.Platform.isWin());i=`${Gs.StringUtilities.escapeForRegExp(t)}|${Gs.StringUtilities.escapeForRegExp(e)}`;if(Vs.Platform.isWin()&&t.match(/^.:\\/)){i=`[${t[0].toUpperCase()}${t[0].toLowerCase()}]`+i.substr(1)}}let s=0;const o=this.#Pn.get(e)||[];for(let e=0,r=o.length;e<r;++e){const r=o[e];if(t===r.lineOffset){s=s?Math.min(s,r.columnOffset):r.columnOffset}}r=Math.max(r||0,s);const a=await this.agent.invoke_setBreakpointByUrl({lineNumber:t,url:i?void 0:e,urlRegex:i,columnNumber:r,condition:n});if(a.getError()){return{locations:[],breakpointId:null}}let l=[];if(a.locations){l=a.locations.map((e=>xo.fromPayload(this,e)))}return{locations:l,breakpointId:a.breakpointId}}async setBreakpointInAnonymousScript(e,t,r,n){const i=await this.agent.invoke_setBreakpointByUrl({lineNumber:t,scriptHash:e,columnNumber:r,condition:n});if(i.getError()){return{locations:[],breakpointId:null}}let s=[];if(i.locations){s=i.locations.map((e=>xo.fromPayload(this,e)))}return{locations:s,breakpointId:i.breakpointId}}async removeBreakpoint(e){await this.agent.invoke_removeBreakpoint({breakpointId:e})}async getPossibleBreakpoints(e,t,r){const n=await this.agent.invoke_getPossibleBreakpoints({start:e.payload(),end:t?t.payload():void 0,restrictToFunction:r});if(n.getError()||!n.locations){return[]}return n.locations.map((e=>Mo.fromPayload(this,e)))}async fetchAsyncStackTrace(e){const t=await this.agent.invoke_getStackTrace({stackTraceId:e});return t.getError()?null:t.stackTrace}breakpointResolved(e,t){this.#Hn.dispatchEventToListeners(e,xo.fromPayload(this,t))}globalObjectCleared(){this.resetDebuggerPausedDetails();this.reset();this.dispatchEventToListeners("GlobalObjectCleared",this)}reset(){for(const e of this.#En.values()){this.#Rn.detachSourceMap(e)}this.#En.clear();this.#Pn.clear();this.#xn=[];this.#Un=null}scripts(){return Array.from(this.#En.values())}scriptForId(e){return this.#En.get(e)||null}scriptsForSourceURL(e){return this.#Pn.get(e)||[]}scriptsForExecutionContext(e){const t=[];for(const r of this.#En.values()){if(r.executionContextId===e.id){t.push(r)}}return t}get callFrames(){return this.#Tn?this.#Tn.callFrames:null}debuggerPausedDetails(){return this.#Tn}async setDebuggerPausedDetails(e){this.#_n=false;this.#Tn=e;if(this.#On){if(!await this.#On.call(null,e,this.#Un)){return false}}this.#Un=null;this.dispatchEventToListeners("DebuggerPaused",this);this.setSelectedCallFrame(e.callFrames[0]);return true}resetDebuggerPausedDetails(){this.#_n=false;this.#Tn=null;this.setSelectedCallFrame(null)}setBeforePausedCallback(e){this.#On=e}setExpandCallFramesCallback(e){this.#Fn=e}setEvaluateOnCallFrameCallback(e){this.evaluateOnCallFrameCallback=e}setSynchronizeBreakpointsCallback(e){this.#Bn=e}async pausedScript(e,t,r,n,i,s){if(t===$.PausedEventReason.Instrumentation){const e=this.scriptForId(r.scriptId);if(this.#Bn&&e){await this.#Bn(e)}this.resume();return}const o=new No(this,e,t,r,n,i,s);await this.#qn(o);if(this.continueToLocationCallback){const e=this.continueToLocationCallback;this.continueToLocationCallback=null;if(e(o)){return}}if(!await this.setDebuggerPausedDetails(o)){if(this.#Un){void this.stepOver()}else{void this.stepInto()}}else{Ws.EventTarget.fireEvent("DevTools.DebuggerPaused")}}async#qn(e){if(this.#Fn){e.callFrames=await this.#Fn.call(null,e.callFrames)}if(!zs.Runtime.experiments.isEnabled(zs.Runtime.ExperimentName.USE_SOURCE_MAP_SCOPES)){return}const t=[];for(const r of e.callFrames){const e=await this.sourceMapManager().sourceMapForClientPromise(r.script);if(e?.hasScopeInfo()){t.push(...e.expandCallFrame(r))}else{t.push(r)}}e.callFrames=t}resumedScript(){this.resetDebuggerPausedDetails();this.dispatchEventToListeners("DebuggerResumed",this)}parsedScriptSource(t,r,n,i,s,o,a,l,d,c,u,h,g,p,m,f,y,S,v,b){const I=this.#En.get(t);if(I){return I}let k=false;if(d&&"isDefault"in d){k=!d["isDefault"]}const w=e.selectSymbolSource(v);const C=new go(this,t,r,n,i,s,o,a,l,k,c,u,h,p,m,f,y,S,w,b);this.registerScript(C);this.dispatchEventToListeners("ParsedScriptSource",C);if(C.sourceMapURL&&!g){this.#Rn.attachSourceMap(C,C.sourceURL,C.sourceMapURL)}const R=g&&C.isAnonymousScript();if(R){this.#xn.push(C);this.collectDiscardedScripts()}return C}setSourceMapURL(e,t){this.#Rn.detachSourceMap(e);e.sourceMapURL=t;this.#Rn.attachSourceMap(e,e.sourceURL,e.sourceMapURL)}async setDebugInfoURL(e,t){if(this.#Fn&&this.#Tn){this.#Tn.callFrames=await this.#Fn.call(null,this.#Tn.callFrames)}this.dispatchEventToListeners("DebugInfoAttached",e)}executionContextDestroyed(e){for(const t of this.#En.values()){if(t.executionContextId===e.id){this.#Rn.detachSourceMap(t)}}}registerScript(e){this.#En.set(e.scriptId,e);if(e.isAnonymousScript()){return}let t=this.#Pn.get(e.sourceURL);if(!t){t=[];this.#Pn.set(e.sourceURL,t)}t.unshift(e)}unregisterScript(e){console.assert(e.isAnonymousScript());this.#En.delete(e.scriptId)}collectDiscardedScripts(){if(this.#xn.length<1e3){return}const e=this.#xn.splice(0,100);for(const t of e){this.unregisterScript(t);this.dispatchEventToListeners("DiscardedAnonymousScriptSource",t)}}createRawLocation(e,t,r,n){return this.createRawLocationByScriptId(e.scriptId,t,r,n)}createRawLocationByURL(e,t,r,n){for(const i of this.#Pn.get(e)||[]){if(i.lineOffset>t||i.lineOffset===t&&r!==void 0&&i.columnOffset>r){continue}if(i.endLine<t||i.endLine===t&&r!==void 0&&i.endColumn<=r){continue}return new xo(this,i.scriptId,t,r,n)}return null}createRawLocationByScriptId(e,t,r,n){return new xo(this,e,t,r,n)}createRawLocationsByStackTrace(e){const t=[];for(let r=e;r;r=r.parent){for(const{scriptId:e,lineNumber:n,columnNumber:i}of r.callFrames){t.push(this.createRawLocationByScriptId(e,n,i))}}return t}isPaused(){return Boolean(this.debuggerPausedDetails())}isPausing(){return this.#_n}setSelectedCallFrame(e){if(this.#Mn===e){return}this.#Mn=e;this.dispatchEventToListeners("CallFrameSelected",this)}selectedCallFrame(){return this.#Mn}async evaluateOnSelectedCallFrame(e){const t=this.selectedCallFrame();if(!t){throw new Error("No call frame selected")}return t.evaluate(e)}functionDetailsPromise(e){return e.getAllProperties(false,false).then(t.bind(this));function t(e){if(!e){return null}let t=null;if(e.internalProperties){for(const r of e.internalProperties){if(r.name==="[[FunctionLocation]]"){t=r.value}}}let r=null;if(e.properties){for(const t of e.properties){if(t.name==="name"&&t.value&&t.value.type==="string"){r=t.value}}}let n=null;if(t){n=this.createRawLocationByScriptId(t.value.scriptId,t.value.lineNumber,t.value.columnNumber)}return{location:n,functionName:r?r.value:""}}}async setVariableValue(e,t,r,n){const i=await this.agent.invoke_setVariableValue({scopeNumber:e,variableName:t,newValue:r,callFrameId:n});const s=i.getError();return s}addBreakpointListener(e,t,r){this.#Hn.addEventListener(e,t,r)}removeBreakpointListener(e,t,r){this.#Hn.removeEventListener(e,t,r)}async setBlackboxPatterns(e,t){const r=await this.agent.invoke_setBlackboxPatterns({patterns:e,skipAnonymous:t});const n=r.getError();return!n}async setBlackboxExecutionContexts(e){const t=await this.agent.invoke_setBlackboxExecutionContexts({uniqueIds:e});const r=t.getError();return!r}dispose(){if(this.#Ln){Ro.delete(this.#Ln)}Ws.Settings.Settings.instance().moduleSetting("pause-on-exception-enabled").removeChangeListener(this.pauseOnExceptionStateChanged,this);Ws.Settings.Settings.instance().moduleSetting("pause-on-caught-exception").removeChangeListener(this.pauseOnExceptionStateChanged,this);Ws.Settings.Settings.instance().moduleSetting("disable-async-stack-traces").removeChangeListener(this.asyncStackTracesStateChanged,this)}async suspendModel(){await this.disableDebugger()}async resumeModel(){await this.enableDebugger()}static shouldResyncDebuggerId=false;getContinueToLocationCallback(){return this.continueToLocationCallback}getEvaluateOnCallFrameCallback(){return this.evaluateOnCallFrameCallback}};var Ro=new Map;var To=(e=>{e["DontPauseOnExceptions"]="none";e["PauseOnAllExceptions"]="all";e["PauseOnCaughtExceptions"]="caught";e["PauseOnUncaughtExceptions"]="uncaught";return e})(To||{});var Eo=(e=>{e["DebuggerWasEnabled"]="DebuggerWasEnabled";e["DebuggerWasDisabled"]="DebuggerWasDisabled";e["DebuggerPaused"]="DebuggerPaused";e["DebuggerResumed"]="DebuggerResumed";e["DebugInfoAttached"]="DebugInfoAttached";e["ParsedScriptSource"]="ParsedScriptSource";e["DiscardedAnonymousScriptSource"]="DiscardedAnonymousScriptSource";e["GlobalObjectCleared"]="GlobalObjectCleared";e["CallFrameSelected"]="CallFrameSelected";e["DebuggerIsReadyToPause"]="DebuggerIsReadyToPause";e["ScriptSourceWasEdited"]="ScriptSourceWasEdited";return e})(Eo||{});var Po=class{#Wn;constructor(e){this.#Wn=e}paused({callFrames:e,reason:t,data:r,hitBreakpoints:n,asyncStackTrace:i,asyncStackTraceId:s}){if(!this.#Wn.debuggerEnabled()){return}void this.#Wn.pausedScript(e,t,r,n||[],i,s)}resumed(){if(!this.#Wn.debuggerEnabled()){return}this.#Wn.resumedScript()}scriptParsed({scriptId:e,url:t,startLine:r,startColumn:n,endLine:i,endColumn:s,executionContextId:o,hash:a,executionContextAuxData:l,isLiveEdit:d,sourceMapURL:c,hasSourceURL:u,length:h,isModule:g,stackTrace:p,codeOffset:m,scriptLanguage:f,debugSymbols:y,embedderName:S}){if(!this.#Wn.debuggerEnabled()){return}this.#Wn.parsedScriptSource(e,t,r,n,i,s,o,a,l,Boolean(d),c,Boolean(u),false,h||0,g||null,p||null,m||null,f||null,y||null,S||null)}scriptFailedToParse({scriptId:e,url:t,startLine:r,startColumn:n,endLine:i,endColumn:s,executionContextId:o,hash:a,executionContextAuxData:l,sourceMapURL:d,hasSourceURL:c,length:u,isModule:h,stackTrace:g,codeOffset:p,scriptLanguage:m,embedderName:f}){if(!this.#Wn.debuggerEnabled()){return}this.#Wn.parsedScriptSource(e,t,r,n,i,s,o,a,l,false,d,Boolean(c),true,u||0,h||null,g||null,p||null,m||null,null,f||null)}breakpointResolved({breakpointId:e,location:t}){if(!this.#Wn.debuggerEnabled()){return}this.#Wn.breakpointResolved(e,t)}};var xo=class e{debuggerModel;scriptId;lineNumber;columnNumber;inlineFrameIndex;constructor(e,t,r,n,i){this.debuggerModel=e;this.scriptId=t;this.lineNumber=r;this.columnNumber=n||0;this.inlineFrameIndex=i||0}static fromPayload(t,r,n){return new e(t,r.scriptId,r.lineNumber,r.columnNumber,n)}payload(){return{scriptId:this.scriptId,lineNumber:this.lineNumber,columnNumber:this.columnNumber}}script(){return this.debuggerModel.scriptForId(this.scriptId)}continueToLocation(e){if(e){this.debuggerModel.continueToLocationCallback=this.paused.bind(this,e)}void this.debuggerModel.agent.invoke_continueToLocation({location:this.payload(),targetCallFrames:$.ContinueToLocationRequestTargetCallFrames.Current})}paused(e,t){const r=t.callFrames[0].location();if(r.scriptId===this.scriptId&&r.lineNumber===this.lineNumber&&r.columnNumber===this.columnNumber){e();return true}return false}id(){return this.debuggerModel.target().id()+":"+this.scriptId+":"+this.lineNumber+":"+this.columnNumber}};var Mo=class e extends xo{type;constructor(e,t,r,n,i){super(e,t,r,n);if(i){this.type=i}}static fromPayload(t,r){return new e(t,r.scriptId,r.lineNumber,r.columnNumber,r.type)}};var Ao=class e{debuggerModel;script;payload;#Vn;#jn;#Gn;inlineFrameIndex;functionName;#zn;#Kn;missingDebugInfoDetails;exception;canBeRestarted;constructor(e,t,r,n,i,s=null){this.debuggerModel=e;this.script=t;this.payload=r;this.#Vn=xo.fromPayload(e,r.location,n);this.#jn=[];this.#Gn=null;this.inlineFrameIndex=n||0;this.functionName=i??r.functionName;this.missingDebugInfoDetails=null;this.canBeRestarted=Boolean(r.canBeRestarted);this.exception=s;for(let e=0;e<r.scopeChain.length;++e){const t=new Lo(this,e);this.#jn.push(t);if(t.type()===$.ScopeType.Local){this.#Gn=t}}if(r.functionLocation){this.#zn=xo.fromPayload(e,r.functionLocation)}this.#Kn=r.returnValue?this.debuggerModel.runtimeModel().createRemoteObject(r.returnValue):null}static fromPayloadArray(t,r,n){const i=[];for(let s=0;s<r.length;++s){const o=r[s];const a=t.scriptForId(o.location.scriptId);if(a){const r=s===0?n:null;i.push(new e(t,a,o,void 0,void 0,r))}}return i}createVirtualCallFrame(t,r){return new e(this.debuggerModel,this.script,this.payload,t,r,this.exception)}get id(){return this.payload.callFrameId}scopeChain(){return this.#jn}localScope(){return this.#Gn}thisObject(){return this.payload.this?this.debuggerModel.runtimeModel().createRemoteObject(this.payload.this):null}returnValue(){return this.#Kn}async setReturnValue(e){if(!this.#Kn){return null}const t=await this.debuggerModel.agent.invoke_evaluateOnCallFrame({callFrameId:this.id,expression:e,silent:true,objectGroup:"backtrace"});if(t.getError()||t.exceptionDetails){return null}const r=await this.debuggerModel.agent.invoke_setReturnValue({newValue:t.result});if(r.getError()){return null}this.#Kn=this.debuggerModel.runtimeModel().createRemoteObject(t.result);return this.#Kn}location(){return this.#Vn}functionLocation(){return this.#zn||null}async evaluate(e){const t=this.debuggerModel;const r=t.runtimeModel();const n=t.getEvaluateOnCallFrameCallback();if(n){const t=await n(this,e);if(t){return t}}const i=await this.debuggerModel.agent.invoke_evaluateOnCallFrame({callFrameId:this.id,expression:e.expression,objectGroup:e.objectGroup,includeCommandLineAPI:e.includeCommandLineAPI,silent:e.silent,returnByValue:e.returnByValue,generatePreview:e.generatePreview,throwOnSideEffect:e.throwOnSideEffect,timeout:e.timeout});const s=i.getError();if(s){return{error:s}}return{object:r.createRemoteObject(i.result),exceptionDetails:i.exceptionDetails}}async restart(){console.assert(this.canBeRestarted,"This frame can not be restarted.");await this.debuggerModel.agent.invoke_restartFrame({callFrameId:this.id,mode:$.RestartFrameRequestMode.StepInto})}getPayload(){return this.payload}};var Lo=class{#Qn;#Xn;#g;#u;#Jn;#$n;#ir;constructor(e,t){this.#Qn=e;this.#Xn=e.getPayload().scopeChain[t];this.#g=this.#Xn.type;this.#u=this.#Xn.name;this.#Jn=t;this.#ir=null;const r=this.#Xn.startLocation?xo.fromPayload(e.debuggerModel,this.#Xn.startLocation):null;const n=this.#Xn.endLocation?xo.fromPayload(e.debuggerModel,this.#Xn.endLocation):null;if(r&&n&&r.scriptId===n.scriptId){this.#$n={start:r,end:n}}else{this.#$n=null}}callFrame(){return this.#Qn}type(){return this.#g}typeName(){switch(this.#g){case $.ScopeType.Local:return bo(So.local);case $.ScopeType.Closure:return bo(So.closure);case $.ScopeType.Catch:return bo(So.catchBlock);case $.ScopeType.Eval:return js.i18n.lockedString("Eval");case $.ScopeType.Block:return bo(So.block);case $.ScopeType.Script:return bo(So.script);case $.ScopeType.With:return bo(So.withBlock);case $.ScopeType.Global:return bo(So.global);case $.ScopeType.Module:return bo(So.module);case $.ScopeType.WasmExpressionStack:return bo(So.expression)}return""}name(){return this.#u}range(){return this.#$n}object(){if(this.#ir){return this.#ir}const e=this.#Qn.debuggerModel.runtimeModel();const t=this.#g!==$.ScopeType.With&&this.#g!==$.ScopeType.Global;if(t){this.#ir=e.createScopeRemoteObject(this.#Xn.object,new vi(this.#Jn,this.#Qn.id))}else{this.#ir=e.createRemoteObject(this.#Xn.object)}return this.#ir}description(){const e=this.#g!==$.ScopeType.With&&this.#g!==$.ScopeType.Global;return e?"":this.#Xn.object.description||""}icon(){return void 0}extraProperties(){if(this.#Jn!==0||this.#g!==$.ScopeType.Local||this.#Qn.script.isWasm()){return[]}const e=[];const t=this.#Qn.exception;if(t){e.push(new bi(bo(So.exception),t,void 0,void 0,void 0,void 0,void 0,true))}const r=this.#Qn.returnValue();if(r){e.push(new bi(bo(So.returnValue),r,void 0,void 0,void 0,void 0,void 0,true,this.#Qn.setReturnValue.bind(this.#Qn)))}return e}};var No=class{debuggerModel;callFrames;reason;auxData;breakpointIds;asyncStackTrace;asyncStackTraceId;constructor(e,t,r,n,i,s,o){this.debuggerModel=e;this.reason=r;this.auxData=n;this.breakpointIds=i;if(s){this.asyncStackTrace=this.cleanRedundantFrames(s)}this.asyncStackTraceId=o;this.callFrames=Ao.fromPayloadArray(e,t,this.exception())}exception(){if(this.reason!==$.PausedEventReason.Exception&&this.reason!==$.PausedEventReason.PromiseRejection){return null}return this.debuggerModel.runtimeModel().createRemoteObject(this.auxData)}cleanRedundantFrames(e){let t=e;let r=null;while(t){if(r&&!t.callFrames.length){r.parent=t.parent}else{r=t}t=t.parent}return e}};p.register(Co,{capabilities:nt.JS,autostart:true});var Oo=(e=>{e["LOGPOINT"]="LOGPOINT";e["CONDITIONAL_BREAKPOINT"]="CONDITIONAL_BREAKPOINT";e["REGULAR_BREAKPOINT"]="REGULAR_BREAKPOINT";return e})(Oo||{});var Do="debugger://logpoint";var Fo="debugger://breakpoint";var Bo={};a(Bo,{HighlightType:()=>Vo,OverlayPersistentHighlighter:()=>jo});import*as Ho from"./../common/common.js";import*as Uo from"./../platform/platform.js";var _o={};a(_o,{OverlayColorGenerator:()=>Wo});import*as qo from"./../common/common.js";var Wo=class{#Yn;#Zn;constructor(){const e=qo.Color.Format.RGBA;this.#Yn=[new qo.Color.Legacy([.9607843137254902,.592156862745098,.5803921568627451,1],e),new qo.Color.Legacy([.9411764705882353,.7490196078431373,.2980392156862745,1],e),new qo.Color.Legacy([.8313725490196079,.9294117647058824,.19215686274509805,1],e),new qo.Color.Legacy([.6196078431372549,.9215686274509803,.2784313725490196,1],e),new qo.Color.Legacy([.3568627450980392,.8196078431372549,.8431372549019608,1],e),new qo.Color.Legacy([.7372549019607844,.807843137254902,.984313725490196,1],e),new qo.Color.Legacy([.7764705882352941,.7450980392156863,.9333333333333333,1],e),new qo.Color.Legacy([.8156862745098039,.5803921568627451,.9176470588235294,1],e),new qo.Color.Legacy([.9215686274509803,.5803921568627451,.8117647058823529,1],e)];this.#Zn=0}next(){const e=this.#Yn[this.#Zn];this.#Zn++;if(this.#Zn>=this.#Yn.length){this.#Zn=0}return e}};var Vo=(e=>{e["FLEX"]="FLEX";e["GRID"]="GRID";e["SCROLL_SNAP"]="SCROLL_SNAP";e["CONTAINER_QUERY"]="CONTAINER_QUERY";e["ISOLATED_ELEMENT"]="ISOLATED_ELEMENT";return e})(Vo||{});var jo=class{#ei;#Yn;#ti;#ri;#ni;#ii;#si;#oi;#ai;#li;#di;#ci;#ui;#hi;#gi;constructor(e,t){this.#ei=e;this.#gi=t;this.#ti=Ho.Settings.Settings.instance().createLocalSetting("persistent-highlight-setting",[]);this.#ri=new Map;this.#ni=new Map;this.#ii=new Map;this.#si=new Map;this.#oi=new Map;this.#Yn=new Map;this.#ai=new Wo;this.#li=new Wo;this.#di=Ho.Settings.Settings.instance().moduleSetting("show-grid-line-labels");this.#di.addChangeListener(this.onSettingChange,this);this.#ci=Ho.Settings.Settings.instance().moduleSetting("extend-grid-lines");this.#ci.addChangeListener(this.onSettingChange,this);this.#ui=Ho.Settings.Settings.instance().moduleSetting("show-grid-areas");this.#ui.addChangeListener(this.onSettingChange,this);this.#hi=Ho.Settings.Settings.instance().moduleSetting("show-grid-track-sizes");this.#hi.addChangeListener(this.onSettingChange,this)}onSettingChange(){this.resetOverlay()}buildGridHighlightConfig(e){const t=this.colorOfGrid(e).asLegacyColor();const r=t.setAlpha(.1).asLegacyColor();const n=t.setAlpha(.3).asLegacyColor();const i=t.setAlpha(.8).asLegacyColor();const s=this.#ci.get();const o=this.#di.get()==="lineNumbers";const a=o;const l=this.#di.get()==="lineNames";return{rowGapColor:n.toProtocolRGBA(),rowHatchColor:i.toProtocolRGBA(),columnGapColor:n.toProtocolRGBA(),columnHatchColor:i.toProtocolRGBA(),gridBorderColor:t.toProtocolRGBA(),gridBorderDash:false,rowLineColor:t.toProtocolRGBA(),columnLineColor:t.toProtocolRGBA(),rowLineDash:true,columnLineDash:true,showGridExtensionLines:s,showPositiveLineNumbers:o,showNegativeLineNumbers:a,showLineNames:l,showAreaNames:this.#ui.get(),showTrackSizes:this.#hi.get(),areaBorderColor:t.toProtocolRGBA(),gridBackgroundColor:r.toProtocolRGBA()}}buildFlexContainerHighlightConfig(e){const t=this.colorOfFlex(e).asLegacyColor();return{containerBorder:{color:t.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed},itemSeparator:{color:t.toProtocolRGBA(),pattern:D.LineStylePattern.Dotted},lineSeparator:{color:t.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed},mainDistributedSpace:{hatchColor:t.toProtocolRGBA()},crossDistributedSpace:{hatchColor:t.toProtocolRGBA()}}}buildScrollSnapContainerHighlightConfig(e){return{snapAreaBorder:{color:Ho.Color.PageHighlight.GridBorder.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed},snapportBorder:{color:Ho.Color.PageHighlight.GridBorder.toProtocolRGBA()},scrollMarginColor:Ho.Color.PageHighlight.Margin.toProtocolRGBA(),scrollPaddingColor:Ho.Color.PageHighlight.Padding.toProtocolRGBA()}}highlightGridInOverlay(e){this.#ri.set(e,this.buildGridHighlightConfig(e));this.updateHighlightsInOverlay();this.savePersistentHighlightSetting();this.#gi.onGridOverlayStateChanged({nodeId:e,enabled:true})}isGridHighlighted(e){return this.#ri.has(e)}colorOfGrid(e){let t=this.#Yn.get(e);if(!t){t=this.#ai.next();this.#Yn.set(e,t)}return t}setColorOfGrid(e,t){this.#Yn.set(e,t)}hideGridInOverlay(e){if(this.#ri.has(e)){this.#ri.delete(e);this.updateHighlightsInOverlay();this.savePersistentHighlightSetting();this.#gi.onGridOverlayStateChanged({nodeId:e,enabled:false})}}highlightScrollSnapInOverlay(e){this.#ni.set(e,this.buildScrollSnapContainerHighlightConfig(e));this.updateHighlightsInOverlay();this.#gi.onScrollSnapOverlayStateChanged({nodeId:e,enabled:true});this.savePersistentHighlightSetting()}isScrollSnapHighlighted(e){return this.#ni.has(e)}hideScrollSnapInOverlay(e){if(this.#ni.has(e)){this.#ni.delete(e);this.updateHighlightsInOverlay();this.#gi.onScrollSnapOverlayStateChanged({nodeId:e,enabled:false});this.savePersistentHighlightSetting()}}highlightFlexInOverlay(e){this.#ii.set(e,this.buildFlexContainerHighlightConfig(e));this.updateHighlightsInOverlay();this.savePersistentHighlightSetting();this.#gi.onFlexOverlayStateChanged({nodeId:e,enabled:true})}isFlexHighlighted(e){return this.#ii.has(e)}colorOfFlex(e){let t=this.#Yn.get(e);if(!t){t=this.#li.next();this.#Yn.set(e,t)}return t}setColorOfFlex(e,t){this.#Yn.set(e,t)}hideFlexInOverlay(e){if(this.#ii.has(e)){this.#ii.delete(e);this.updateHighlightsInOverlay();this.savePersistentHighlightSetting();this.#gi.onFlexOverlayStateChanged({nodeId:e,enabled:false})}}highlightContainerQueryInOverlay(e){this.#si.set(e,this.buildContainerQueryContainerHighlightConfig());this.updateHighlightsInOverlay();this.savePersistentHighlightSetting();this.#gi.onContainerQueryOverlayStateChanged({nodeId:e,enabled:true})}hideContainerQueryInOverlay(e){if(this.#si.has(e)){this.#si.delete(e);this.updateHighlightsInOverlay();this.savePersistentHighlightSetting();this.#gi.onContainerQueryOverlayStateChanged({nodeId:e,enabled:false})}}isContainerQueryHighlighted(e){return this.#si.has(e)}buildContainerQueryContainerHighlightConfig(){return{containerBorder:{color:Ho.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed},descendantBorder:{color:Ho.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed}}}highlightIsolatedElementInOverlay(e){this.#oi.set(e,this.buildIsolationModeHighlightConfig());this.updateHighlightsInOverlay();this.savePersistentHighlightSetting()}hideIsolatedElementInOverlay(e){if(this.#oi.has(e)){this.#oi.delete(e);this.updateHighlightsInOverlay();this.savePersistentHighlightSetting()}}isIsolatedElementHighlighted(e){return this.#oi.has(e)}buildIsolationModeHighlightConfig(){return{resizerColor:Ho.Color.IsolationModeHighlight.Resizer.toProtocolRGBA(),resizerHandleColor:Ho.Color.IsolationModeHighlight.ResizerHandle.toProtocolRGBA(),maskColor:Ho.Color.IsolationModeHighlight.Mask.toProtocolRGBA()}}hideAllInOverlayWithoutSave(){this.#ii.clear();this.#ri.clear();this.#ni.clear();this.#si.clear();this.#oi.clear();this.updateHighlightsInOverlay()}refreshHighlights(){const e=this.updateHighlightsForDeletedNodes(this.#ri);const t=this.updateHighlightsForDeletedNodes(this.#ii);const r=this.updateHighlightsForDeletedNodes(this.#ni);const n=this.updateHighlightsForDeletedNodes(this.#si);const i=this.updateHighlightsForDeletedNodes(this.#oi);if(t||e||r||n||i){this.updateHighlightsInOverlay();this.savePersistentHighlightSetting()}}updateHighlightsForDeletedNodes(e){let t=false;for(const r of e.keys()){if(this.#ei.getDOMModel().nodeForId(r)===null){e.delete(r);t=true}}return t}resetOverlay(){for(const e of this.#ri.keys()){this.#ri.set(e,this.buildGridHighlightConfig(e))}for(const e of this.#ii.keys()){this.#ii.set(e,this.buildFlexContainerHighlightConfig(e))}for(const e of this.#ni.keys()){this.#ni.set(e,this.buildScrollSnapContainerHighlightConfig(e))}for(const e of this.#si.keys()){this.#si.set(e,this.buildContainerQueryContainerHighlightConfig())}for(const e of this.#oi.keys()){this.#oi.set(e,this.buildIsolationModeHighlightConfig())}this.updateHighlightsInOverlay()}updateHighlightsInOverlay(){const e=this.#ri.size>0||this.#ii.size>0||this.#si.size>0||this.#oi.size>0;this.#ei.setShowViewportSizeOnResize(!e);this.updateGridHighlightsInOverlay();this.updateFlexHighlightsInOverlay();this.updateScrollSnapHighlightsInOverlay();this.updateContainerQueryHighlightsInOverlay();this.updateIsolatedElementHighlightsInOverlay()}updateGridHighlightsInOverlay(){const e=this.#ei;const t=[];for(const[e,r]of this.#ri.entries()){t.push({nodeId:e,gridHighlightConfig:r})}e.target().overlayAgent().invoke_setShowGridOverlays({gridNodeHighlightConfigs:t})}updateFlexHighlightsInOverlay(){const e=this.#ei;const t=[];for(const[e,r]of this.#ii.entries()){t.push({nodeId:e,flexContainerHighlightConfig:r})}e.target().overlayAgent().invoke_setShowFlexOverlays({flexNodeHighlightConfigs:t})}updateScrollSnapHighlightsInOverlay(){const e=this.#ei;const t=[];for(const[e,r]of this.#ni.entries()){t.push({nodeId:e,scrollSnapContainerHighlightConfig:r})}e.target().overlayAgent().invoke_setShowScrollSnapOverlays({scrollSnapHighlightConfigs:t})}updateContainerQueryHighlightsInOverlay(){const e=this.#ei;const t=[];for(const[e,r]of this.#si.entries()){t.push({nodeId:e,containerQueryContainerHighlightConfig:r})}e.target().overlayAgent().invoke_setShowContainerQueryOverlays({containerQueryHighlightConfigs:t})}updateIsolatedElementHighlightsInOverlay(){const e=this.#ei;const t=[];for(const[e,r]of this.#oi.entries()){t.push({nodeId:e,isolationModeHighlightConfig:r})}e.target().overlayAgent().invoke_setShowIsolatedElements({isolatedElementHighlightConfigs:t})}async restoreHighlightsForDocument(){this.#ii=new Map;this.#ri=new Map;this.#ni=new Map;this.#si=new Map;this.#oi=new Map;const e=await this.#ei.getDOMModel().requestDocument();const t=e?e.documentURL:Uo.DevToolsPath.EmptyUrlString;await Promise.all(this.#ti.get().map((async e=>{if(e.url===t){return this.#ei.getDOMModel().pushNodeByPathToFrontend(e.path).then((t=>{const r=this.#ei.getDOMModel().nodeForId(t);if(!r){return}switch(e.type){case"GRID":this.#ri.set(r.id,this.buildGridHighlightConfig(r.id));this.#gi.onGridOverlayStateChanged({nodeId:r.id,enabled:true});break;case"FLEX":this.#ii.set(r.id,this.buildFlexContainerHighlightConfig(r.id));this.#gi.onFlexOverlayStateChanged({nodeId:r.id,enabled:true});break;case"CONTAINER_QUERY":this.#si.set(r.id,this.buildContainerQueryContainerHighlightConfig());this.#gi.onContainerQueryOverlayStateChanged({nodeId:r.id,enabled:true});break;case"SCROLL_SNAP":this.#ni.set(r.id,this.buildScrollSnapContainerHighlightConfig(r.id));this.#gi.onScrollSnapOverlayStateChanged({nodeId:r.id,enabled:true});break;case"ISOLATED_ELEMENT":this.#oi.set(r.id,this.buildIsolationModeHighlightConfig());break}}))}})));this.updateHighlightsInOverlay()}currentUrl(){const e=this.#ei.getDOMModel().existingDocument();return e?e.documentURL:Uo.DevToolsPath.EmptyUrlString}getPersistentHighlightSettingForOneType(e,t){const r=[];for(const n of e.keys()){const e=this.#ei.getDOMModel().nodeForId(n);if(e){r.push({url:this.currentUrl(),path:e.path(),type:t})}}return r}savePersistentHighlightSetting(){const e=this.currentUrl();const t=this.#ti.get().filter((t=>t.url!==e));const r=[...t,...this.getPersistentHighlightSettingForOneType(this.#ri,"GRID"),...this.getPersistentHighlightSettingForOneType(this.#ii,"FLEX"),...this.getPersistentHighlightSettingForOneType(this.#si,"CONTAINER_QUERY"),...this.getPersistentHighlightSettingForOneType(this.#ni,"SCROLL_SNAP"),...this.getPersistentHighlightSettingForOneType(this.#oi,"ISOLATED_ELEMENT")];this.#ti.set(r)}};var Go={pausedInDebugger:"Paused in debugger"};var zo=Us.i18n.registerUIStrings("core/sdk/OverlayModel.ts",Go);var Ko=Us.i18n.getLocalizedString.bind(void 0,zo);var Qo=(e=>{e["WINDOWS"]="Windows";e["MAC"]="Mac";e["LINUX"]="Linux";return e})(Qo||{});var Xo={mac:{x:85,y:0,width:185,height:40},linux:{x:0,y:0,width:196,height:34},windows:{x:0,y:0,width:238,height:33}};var Jo=class e extends p{#zr;overlayAgent;#Wn;#pi;#mi;#fi;#yi;#Si;#vi;#bi;#Ii;#ki;#wi;#Ci;#Ri;#Ti;#Ei;#Pi;#xi;constructor(e){super(e);this.#zr=e.model(sa);e.registerOverlayDispatcher(this);this.overlayAgent=e.overlayAgent();this.#Wn=e.model(Co);if(this.#Wn){Hs.Settings.Settings.instance().moduleSetting("disable-paused-state-overlay").addChangeListener(this.updatePausedInDebuggerMessage,this);this.#Wn.addEventListener(Eo.DebuggerPaused,this.updatePausedInDebuggerMessage,this);this.#Wn.addEventListener(Eo.DebuggerResumed,this.updatePausedInDebuggerMessage,this);this.#Wn.addEventListener(Eo.GlobalObjectCleared,this.updatePausedInDebuggerMessage,this)}this.#pi=false;this.#mi=null;this.#fi=new Zo(this);this.#yi=this.#fi;this.#Si=Hs.Settings.Settings.instance().moduleSetting("show-paint-rects");this.#vi=Hs.Settings.Settings.instance().moduleSetting("show-layout-shift-regions");this.#bi=Hs.Settings.Settings.instance().moduleSetting("show-ad-highlights");this.#Ii=Hs.Settings.Settings.instance().moduleSetting("show-debug-borders");this.#ki=Hs.Settings.Settings.instance().moduleSetting("show-fps-counter");this.#wi=Hs.Settings.Settings.instance().moduleSetting("show-scroll-bottleneck-rects");this.#Ci=[];this.#Ri=true;if(!e.suspended()){void this.overlayAgent.invoke_enable();void this.wireAgentToSettings()}this.#Ti=new jo(this,{onGridOverlayStateChanged:({nodeId:e,enabled:t})=>this.dispatchEventToListeners("PersistentGridOverlayStateChanged",{nodeId:e,enabled:t}),onFlexOverlayStateChanged:({nodeId:e,enabled:t})=>this.dispatchEventToListeners("PersistentFlexContainerOverlayStateChanged",{nodeId:e,enabled:t}),onContainerQueryOverlayStateChanged:({nodeId:e,enabled:t})=>this.dispatchEventToListeners("PersistentContainerQueryOverlayStateChanged",{nodeId:e,enabled:t}),onScrollSnapOverlayStateChanged:({nodeId:e,enabled:t})=>this.dispatchEventToListeners("PersistentScrollSnapOverlayStateChanged",{nodeId:e,enabled:t})});this.#zr.addEventListener(oa.NodeRemoved,(()=>{if(!this.#Ti){return}this.#Ti.refreshHighlights()}));this.#zr.addEventListener(oa.DocumentUpdated,(()=>{if(!this.#Ti){return}this.#Ti.hideAllInOverlayWithoutSave();if(!e.suspended()){void this.#Ti.restoreHighlightsForDocument()}}));this.#Ei=new ea(this);this.#Pi=false;this.#xi=new $o(this.#zr.cssModel())}static highlightObjectAsDOMNode(e){const t=e.runtimeModel().target().model(sa);if(t){t.overlayModel().highlightInOverlay({object:e,selectorList:void 0})}}static hideDOMNodeHighlight(){for(const t of ut.instance().models(e)){t.delayedHideHighlight(0)}}static async muteHighlight(){return Promise.all(ut.instance().models(e).map((e=>e.suspendModel())))}static async unmuteHighlight(){return Promise.all(ut.instance().models(e).map((e=>e.resumeModel())))}static highlightRect(t){for(const r of ut.instance().models(e)){void r.highlightRect(t)}}static clearHighlight(){for(const t of ut.instance().models(e)){void t.clearHighlight()}}getDOMModel(){return this.#zr}highlightRect({x:e,y:t,width:r,height:n,color:i,outlineColor:s}){const o=i||{r:255,g:0,b:255,a:.3};const a=s||{r:255,g:0,b:255,a:.5};return this.overlayAgent.invoke_highlightRect({x:e,y:t,width:r,height:n,color:o,outlineColor:a})}clearHighlight(){return this.overlayAgent.invoke_hideHighlight()}async wireAgentToSettings(){this.#Ci=[this.#Si.addChangeListener((()=>this.overlayAgent.invoke_setShowPaintRects({result:this.#Si.get()}))),this.#vi.addChangeListener((()=>this.overlayAgent.invoke_setShowLayoutShiftRegions({result:this.#vi.get()}))),this.#bi.addChangeListener((()=>this.overlayAgent.invoke_setShowAdHighlights({show:this.#bi.get()}))),this.#Ii.addChangeListener((()=>this.overlayAgent.invoke_setShowDebugBorders({show:this.#Ii.get()}))),this.#ki.addChangeListener((()=>this.overlayAgent.invoke_setShowFPSCounter({show:this.#ki.get()}))),this.#wi.addChangeListener((()=>this.overlayAgent.invoke_setShowScrollBottleneckRects({show:this.#wi.get()})))];if(this.#Si.get()){void this.overlayAgent.invoke_setShowPaintRects({result:true})}if(this.#vi.get()){void this.overlayAgent.invoke_setShowLayoutShiftRegions({result:true})}if(this.#bi.get()){void this.overlayAgent.invoke_setShowAdHighlights({show:true})}if(this.#Ii.get()){void this.overlayAgent.invoke_setShowDebugBorders({show:true})}if(this.#ki.get()){void this.overlayAgent.invoke_setShowFPSCounter({show:true})}if(this.#wi.get()){void this.overlayAgent.invoke_setShowScrollBottleneckRects({show:true})}if(this.#Wn&&this.#Wn.isPaused()){this.updatePausedInDebuggerMessage()}await this.overlayAgent.invoke_setShowViewportSizeOnResize({show:this.#Ri});this.#Ti?.resetOverlay()}async suspendModel(){Hs.EventTarget.removeEventListeners(this.#Ci);await this.overlayAgent.invoke_disable()}async resumeModel(){await Promise.all([this.overlayAgent.invoke_enable(),this.wireAgentToSettings()])}setShowViewportSizeOnResize(e){if(this.#Ri===e){return}this.#Ri=e;if(this.target().suspended()){return}void this.overlayAgent.invoke_setShowViewportSizeOnResize({show:e})}updatePausedInDebuggerMessage(){if(this.target().suspended()){return}const e=this.#Wn&&this.#Wn.isPaused()&&!Hs.Settings.Settings.instance().moduleSetting("disable-paused-state-overlay").get()?Ko(Go.pausedInDebugger):void 0;void this.overlayAgent.invoke_setPausedInDebuggerMessage({message:e})}setHighlighter(e){this.#yi=e||this.#fi}async setInspectMode(e,t=true){await this.#zr.requestDocument();this.#pi=e!==D.InspectMode.None;this.dispatchEventToListeners("InspectModeWillBeToggled",this);void this.#yi.setInspectMode(e,this.buildHighlightConfig("all",t))}inspectModeEnabled(){return this.#pi}highlightInOverlay(e,t,r){if(this.#Pi){return}if(this.#mi){clearTimeout(this.#mi);this.#mi=null}const n=this.buildHighlightConfig(t);if(typeof r!=="undefined"){n.showInfo=r}this.#yi.highlightInOverlay(e,n)}highlightInOverlayForTwoSeconds(e){this.highlightInOverlay(e);this.delayedHideHighlight(2e3)}highlightGridInPersistentOverlay(e){if(!this.#Ti){return}this.#Ti.highlightGridInOverlay(e)}isHighlightedGridInPersistentOverlay(e){if(!this.#Ti){return false}return this.#Ti.isGridHighlighted(e)}hideGridInPersistentOverlay(e){if(!this.#Ti){return}this.#Ti.hideGridInOverlay(e)}highlightScrollSnapInPersistentOverlay(e){if(!this.#Ti){return}this.#Ti.highlightScrollSnapInOverlay(e)}isHighlightedScrollSnapInPersistentOverlay(e){if(!this.#Ti){return false}return this.#Ti.isScrollSnapHighlighted(e)}hideScrollSnapInPersistentOverlay(e){if(!this.#Ti){return}this.#Ti.hideScrollSnapInOverlay(e)}highlightFlexContainerInPersistentOverlay(e){if(!this.#Ti){return}this.#Ti.highlightFlexInOverlay(e)}isHighlightedFlexContainerInPersistentOverlay(e){if(!this.#Ti){return false}return this.#Ti.isFlexHighlighted(e)}hideFlexContainerInPersistentOverlay(e){if(!this.#Ti){return}this.#Ti.hideFlexInOverlay(e)}highlightContainerQueryInPersistentOverlay(e){if(!this.#Ti){return}this.#Ti.highlightContainerQueryInOverlay(e)}isHighlightedContainerQueryInPersistentOverlay(e){if(!this.#Ti){return false}return this.#Ti.isContainerQueryHighlighted(e)}hideContainerQueryInPersistentOverlay(e){if(!this.#Ti){return}this.#Ti.hideContainerQueryInOverlay(e)}highlightSourceOrderInOverlay(e){const t={parentOutlineColor:Hs.Color.SourceOrderHighlight.ParentOutline.toProtocolRGBA(),childOutlineColor:Hs.Color.SourceOrderHighlight.ChildOutline.toProtocolRGBA()};this.#Ei.highlightSourceOrderInOverlay(e,t)}colorOfGridInPersistentOverlay(e){if(!this.#Ti){return null}return this.#Ti.colorOfGrid(e).asString(Hs.Color.Format.HEX)}setColorOfGridInPersistentOverlay(e,t){if(!this.#Ti){return}const r=Hs.Color.parse(t);if(!r){return}this.#Ti.setColorOfGrid(e,r);this.#Ti.resetOverlay()}colorOfFlexInPersistentOverlay(e){if(!this.#Ti){return null}return this.#Ti.colorOfFlex(e).asString(Hs.Color.Format.HEX)}setColorOfFlexInPersistentOverlay(e,t){if(!this.#Ti){return}const r=Hs.Color.parse(t);if(!r){return}this.#Ti.setColorOfFlex(e,r);this.#Ti.resetOverlay()}hideSourceOrderInOverlay(){this.#Ei.hideSourceOrderHighlight()}setSourceOrderActive(e){this.#Pi=e}sourceOrderModeActive(){return this.#Pi}highlightIsolatedElementInPersistentOverlay(e){if(!this.#Ti){return}this.#Ti.highlightIsolatedElementInOverlay(e)}hideIsolatedElementInPersistentOverlay(e){if(!this.#Ti){return}this.#Ti.hideIsolatedElementInOverlay(e)}isHighlightedIsolatedElementInPersistentOverlay(e){if(!this.#Ti){return false}return this.#Ti.isIsolatedElementHighlighted(e)}delayedHideHighlight(e){if(this.#mi===null){this.#mi=window.setTimeout((()=>this.highlightInOverlay({clear:true})),e)}}highlightFrame(e){if(this.#mi){clearTimeout(this.#mi);this.#mi=null}this.#yi.highlightFrame(e)}showHingeForDualScreen(e){if(e){const{x:t,y:r,width:n,height:i,contentColor:s,outlineColor:o}=e;void this.overlayAgent.invoke_setShowHinge({hingeConfig:{rect:{x:t,y:r,width:n,height:i},contentColor:s,outlineColor:o}})}else{void this.overlayAgent.invoke_setShowHinge({})}}setWindowControlsPlatform(e){this.#xi.selectedPlatform=e}setWindowControlsThemeColor(e){this.#xi.themeColor=e}getWindowControlsConfig(){return this.#xi.config}async toggleWindowControlsToolbar(e){const t=e?{windowControlsOverlayConfig:this.#xi.config}:{};const r=this.overlayAgent.invoke_setShowWindowControlsOverlay(t);const n=this.#xi.toggleEmulatedOverlay(e);await Promise.all([r,n]);this.setShowViewportSizeOnResize(!e)}buildHighlightConfig(e="all",t=false){const r=Hs.Settings.Settings.instance().moduleSetting("show-metrics-rulers").get();const n={showInfo:e==="all"||e==="container-outline",showRulers:r,showStyles:t,showAccessibilityInfo:t,showExtensionLines:r,gridHighlightConfig:{},flexContainerHighlightConfig:{},flexItemHighlightConfig:{},contrastAlgorithm:_s.Runtime.experiments.isEnabled("apca")?D.ContrastAlgorithm.Apca:D.ContrastAlgorithm.Aa};if(e==="all"||e==="content"){n.contentColor=Hs.Color.PageHighlight.Content.toProtocolRGBA()}if(e==="all"||e==="padding"){n.paddingColor=Hs.Color.PageHighlight.Padding.toProtocolRGBA()}if(e==="all"||e==="border"){n.borderColor=Hs.Color.PageHighlight.Border.toProtocolRGBA()}if(e==="all"||e==="margin"){n.marginColor=Hs.Color.PageHighlight.Margin.toProtocolRGBA()}if(e==="all"){n.eventTargetColor=Hs.Color.PageHighlight.EventTarget.toProtocolRGBA();n.shapeColor=Hs.Color.PageHighlight.Shape.toProtocolRGBA();n.shapeMarginColor=Hs.Color.PageHighlight.ShapeMargin.toProtocolRGBA();n.gridHighlightConfig={rowGapColor:Hs.Color.PageHighlight.GapBackground.toProtocolRGBA(),rowHatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA(),columnGapColor:Hs.Color.PageHighlight.GapBackground.toProtocolRGBA(),columnHatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA(),rowLineColor:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),columnLineColor:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),rowLineDash:true,columnLineDash:true};n.flexContainerHighlightConfig={containerBorder:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed},itemSeparator:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dotted},lineSeparator:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed},mainDistributedSpace:{hatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:Hs.Color.PageHighlight.GapBackground.toProtocolRGBA()},crossDistributedSpace:{hatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:Hs.Color.PageHighlight.GapBackground.toProtocolRGBA()},rowGapSpace:{hatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:Hs.Color.PageHighlight.GapBackground.toProtocolRGBA()},columnGapSpace:{hatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:Hs.Color.PageHighlight.GapBackground.toProtocolRGBA()}};n.flexItemHighlightConfig={baseSizeBox:{hatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA()},baseSizeBorder:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dotted},flexibilityArrow:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA()}}}if(e.endsWith("gap")){n.gridHighlightConfig={gridBorderColor:Hs.Color.PageHighlight.GridBorder.toProtocolRGBA(),gridBorderDash:true};if(e==="gap"||e==="row-gap"){n.gridHighlightConfig.rowGapColor=Hs.Color.PageHighlight.GapBackground.toProtocolRGBA();n.gridHighlightConfig.rowHatchColor=Hs.Color.PageHighlight.GapHatch.toProtocolRGBA()}if(e==="gap"||e==="column-gap"){n.gridHighlightConfig.columnGapColor=Hs.Color.PageHighlight.GapBackground.toProtocolRGBA();n.gridHighlightConfig.columnHatchColor=Hs.Color.PageHighlight.GapHatch.toProtocolRGBA()}}if(e.endsWith("gap")){n.flexContainerHighlightConfig={containerBorder:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed}};if(e==="gap"||e==="row-gap"){n.flexContainerHighlightConfig.rowGapSpace={hatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:Hs.Color.PageHighlight.GapBackground.toProtocolRGBA()}}if(e==="gap"||e==="column-gap"){n.flexContainerHighlightConfig.columnGapSpace={hatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:Hs.Color.PageHighlight.GapBackground.toProtocolRGBA()}}}if(e==="grid-areas"){n.gridHighlightConfig={rowLineColor:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),columnLineColor:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),rowLineDash:true,columnLineDash:true,showAreaNames:true,areaBorderColor:Hs.Color.PageHighlight.GridAreaBorder.toProtocolRGBA()}}if(e==="grid-template-columns"){n.contentColor=Hs.Color.PageHighlight.Content.toProtocolRGBA();n.gridHighlightConfig={columnLineColor:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),columnLineDash:true}}if(e==="grid-template-rows"){n.contentColor=Hs.Color.PageHighlight.Content.toProtocolRGBA();n.gridHighlightConfig={rowLineColor:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),rowLineDash:true}}if(e==="justify-content"){n.flexContainerHighlightConfig={containerBorder:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed},mainDistributedSpace:{hatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:Hs.Color.PageHighlight.GapBackground.toProtocolRGBA()}}}if(e==="align-content"){n.flexContainerHighlightConfig={containerBorder:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed},crossDistributedSpace:{hatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:Hs.Color.PageHighlight.GapBackground.toProtocolRGBA()}}}if(e==="align-items"){n.flexContainerHighlightConfig={containerBorder:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed},lineSeparator:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed},crossAlignment:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA()}}}if(e==="flexibility"){n.flexItemHighlightConfig={baseSizeBox:{hatchColor:Hs.Color.PageHighlight.GapHatch.toProtocolRGBA()},baseSizeBorder:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dotted},flexibilityArrow:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA()}}}if(e==="container-outline"){n.containerQueryContainerHighlightConfig={containerBorder:{color:Hs.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:D.LineStylePattern.Dashed}}}return n}nodeHighlightRequested({nodeId:e}){const t=this.#zr.nodeForId(e);if(t){this.dispatchEventToListeners("HighlightNodeRequested",t)}}static setInspectNodeHandler(t){e.inspectNodeHandler=t}inspectNodeRequested({backendNodeId:t}){const r=new ra(this.target(),t);if(e.inspectNodeHandler){void r.resolvePromise().then((t=>{if(t&&e.inspectNodeHandler){e.inspectNodeHandler(t)}}))}else{void Hs.Revealer.reveal(r)}this.dispatchEventToListeners("InspectModeExited")}screenshotRequested({viewport:e}){this.dispatchEventToListeners("ScreenshotRequested",e);this.dispatchEventToListeners("InspectModeExited")}inspectModeCanceled(){this.dispatchEventToListeners("InspectModeExited")}static inspectNodeHandler=null;getOverlayAgent(){return this.overlayAgent}async hasStyleSheetText(e){return this.#xi.initializeStyleSheetText(e)}};var $o=class e{#st;#Mi;#Ai;#Li;#Ni={showCSS:false,selectedPlatform:"Windows",themeColor:"#ffffff"};constructor(e){this.#st=e}get selectedPlatform(){return this.#Ni.selectedPlatform}set selectedPlatform(e){this.#Ni.selectedPlatform=e}get themeColor(){return this.#Ni.themeColor}set themeColor(e){this.#Ni.themeColor=e}get config(){return this.#Ni}async initializeStyleSheetText(e){if(this.#Mi&&e===this.#Li){return true}const t=this.#Oi(e);if(!t){return false}this.#Ai=this.#Di(t);if(!this.#Ai){return false}const r=await this.#st.getStyleSheetText(this.#Ai);if(!r){return false}this.#Mi=r;this.#Li=e;return true}async toggleEmulatedOverlay(t){if(!this.#Ai||!this.#Mi){return}if(t){const t=e.#Fi(this.#Ni.selectedPlatform.toLowerCase(),this.#Mi);if(t){await this.#st.setStyleSheetText(this.#Ai,t,false)}}else{await this.#st.setStyleSheetText(this.#Ai,this.#Mi,false)}}static#Fi(t,r){const n=Xo[t];return e.#Bi(n.x,n.y,n.width,n.height,r)}#Oi(e){const t=Hs.ParsedURL.ParsedURL.extractOrigin(e);const r=this.#st.styleSheetHeaders();const n=r.find((e=>e.sourceURL&&e.sourceURL.includes(t)));return n?.sourceURL}#Di(e){const t=this.#st.getStyleSheetIdsForURL(e);return t.length>0?t[0]:void 0}static#Bi(e,t,r,n,i){if(!i){return void 0}const s=i;const o=s.replace(/: env\(titlebar-area-x(?:,[^)]*)?\);/g,`: env(titlebar-area-x, ${e}px);`).replace(/: env\(titlebar-area-y(?:,[^)]*)?\);/g,`: env(titlebar-area-y, ${t}px);`).replace(/: env\(titlebar-area-width(?:,[^)]*)?\);/g,`: env(titlebar-area-width, calc(100% - ${r}px));`).replace(/: env\(titlebar-area-height(?:,[^)]*)?\);/g,`: env(titlebar-area-height, ${n}px);`);return o}transformStyleSheetforTesting(t,r,n,i,s){return e.#Bi(t,r,n,i,s)}};var Yo=(e=>{e["INSPECT_MODE_WILL_BE_TOGGLED"]="InspectModeWillBeToggled";e["EXITED_INSPECT_MODE"]="InspectModeExited";e["HIGHLIGHT_NODE_REQUESTED"]="HighlightNodeRequested";e["SCREENSHOT_REQUESTED"]="ScreenshotRequested";e["PERSISTENT_GRID_OVERLAY_STATE_CHANGED"]="PersistentGridOverlayStateChanged";e["PERSISTENT_FLEX_CONTAINER_OVERLAY_STATE_CHANGED"]="PersistentFlexContainerOverlayStateChanged";e["PERSISTENT_SCROLL_SNAP_OVERLAY_STATE_CHANGED"]="PersistentScrollSnapOverlayStateChanged";e["PERSISTENT_CONTAINER_QUERY_OVERLAY_STATE_CHANGED"]="PersistentContainerQueryOverlayStateChanged";return e})(Yo||{});var Zo=class{#ei;constructor(e){this.#ei=e}highlightInOverlay(e,t){const{node:r,deferredNode:n,object:i,selectorList:s}={node:void 0,deferredNode:void 0,object:void 0,selectorList:void 0,...e};const o=r?r.id:void 0;const a=n?n.backendNodeId():void 0;const l=i?i.objectId:void 0;if(o||a||l){void this.#ei.target().overlayAgent().invoke_highlightNode({highlightConfig:t,nodeId:o,backendNodeId:a,objectId:l,selector:s})}else{void this.#ei.target().overlayAgent().invoke_hideHighlight()}}async setInspectMode(e,t){await this.#ei.target().overlayAgent().invoke_setInspectMode({mode:e,highlightConfig:t})}highlightFrame(e){void this.#ei.target().overlayAgent().invoke_highlightFrame({frameId:e,contentColor:Hs.Color.PageHighlight.Content.toProtocolRGBA(),contentOutlineColor:Hs.Color.PageHighlight.ContentOutline.toProtocolRGBA()})}};var ea=class{#ei;constructor(e){this.#ei=e}highlightSourceOrderInOverlay(e,t){this.#ei.setSourceOrderActive(true);this.#ei.setShowViewportSizeOnResize(false);void this.#ei.getOverlayAgent().invoke_highlightSourceOrder({sourceOrderConfig:t,nodeId:e.id})}hideSourceOrderHighlight(){this.#ei.setSourceOrderActive(false);this.#ei.setShowViewportSizeOnResize(true);void this.#ei.clearHighlight()}};p.register(Jo,{capabilities:nt.DOM,autostart:true});var ta=class e{#Hi;#Ui;ownerDocument;#_i;id;index;#qi;#Wi;#Vi;#ji;nodeValueInternal;#Gi;#zi;#Ki;#Qi;#Xi;#Ji;#$i;#Yi;#Zi;#es;assignedSlot;shadowRootsInternal;#ts;#rs;#ns;childNodeCountInternal;childrenInternal;nextSibling;previousSibling;firstChild;lastChild;parentNode;templateContentInternal;contentDocumentInternal;childDocumentPromiseForTesting;#is;publicId;systemId;internalSubset;name;value;constructor(e){this.#Hi=e;this.#Ui=this.#Hi.getAgent();this.index=void 0;this.#Yi=null;this.#Zi=new Map;this.#es=[];this.assignedSlot=null;this.shadowRootsInternal=[];this.#ts=new Map;this.#rs=new Map;this.#ns=0;this.childrenInternal=null;this.nextSibling=null;this.previousSibling=null;this.firstChild=null;this.lastChild=null;this.parentNode=null}static create(t,r,n,i){const s=new e(t);s.init(r,n,i);return s}init(t,r,n){this.#Ui=this.#Hi.getAgent();this.ownerDocument=t;this.#_i=r;this.id=n.nodeId;this.#qi=n.backendNodeId;this.#Hi.registerNode(this);this.#Wi=n.nodeType;this.#Vi=n.nodeName;this.#ji=n.localName;this.nodeValueInternal=n.nodeValue;this.#Gi=n.pseudoType;this.#zi=n.pseudoIdentifier;this.#Ki=n.shadowRootType;this.#Qi=n.frameId||null;this.#Xi=n.xmlVersion;this.#Ji=Boolean(n.isSVG);this.#$i=Boolean(n.isScrollable);if(n.attributes){this.setAttributesPayload(n.attributes)}this.childNodeCountInternal=n.childNodeCount||0;if(n.shadowRoots){for(let t=0;t<n.shadowRoots.length;++t){const r=n.shadowRoots[t];const i=e.create(this.#Hi,this.ownerDocument,true,r);this.shadowRootsInternal.push(i);i.parentNode=this}}if(n.templateContent){this.templateContentInternal=e.create(this.#Hi,this.ownerDocument,true,n.templateContent);this.templateContentInternal.parentNode=this;this.childrenInternal=[]}const i=new Set(["EMBED","IFRAME","OBJECT","FENCEDFRAME"]);if(n.contentDocument){this.contentDocumentInternal=new ia(this.#Hi,n.contentDocument);this.contentDocumentInternal.parentNode=this;this.childrenInternal=[]}else if(n.frameId&&i.has(n.nodeName)){this.childDocumentPromiseForTesting=this.requestChildDocument(n.frameId,this.#Hi.target());this.childrenInternal=[]}if(n.importedDocument){this.#is=e.create(this.#Hi,this.ownerDocument,true,n.importedDocument);this.#is.parentNode=this;this.childrenInternal=[]}if(n.distributedNodes){this.setDistributedNodePayloads(n.distributedNodes)}if(n.assignedSlot){this.setAssignedSlot(n.assignedSlot)}if(n.children){this.setChildrenPayload(n.children)}this.setPseudoElements(n.pseudoElements);if(this.#Wi===Node.ELEMENT_NODE){if(this.ownerDocument&&!this.ownerDocument.documentElement&&this.#Vi==="HTML"){this.ownerDocument.documentElement=this}if(this.ownerDocument&&!this.ownerDocument.body&&this.#Vi==="BODY"){this.ownerDocument.body=this}}else if(this.#Wi===Node.DOCUMENT_TYPE_NODE){this.publicId=n.publicId;this.systemId=n.systemId;this.internalSubset=n.internalSubset}else if(this.#Wi===Node.ATTRIBUTE_NODE){this.name=n.name;this.value=n.value}}async requestChildDocument(e,t){const r=await ui.instance().getOrWaitForFrame(e,t);const n=r.resourceTreeModel()?.target().model(sa);return n?.requestDocument()||null}isAdFrameNode(){if(this.isIframe()&&this.#Qi){const e=ui.instance().getFrame(this.#Qi);if(!e){return false}return e.adFrameType()!==F.AdFrameType.None}return false}isSVGNode(){return this.#Ji}isScrollable(){return this.#$i}isMediaNode(){return this.#Vi==="AUDIO"||this.#Vi==="VIDEO"}isViewTransitionPseudoNode(){if(!this.#Gi){return false}return[R.PseudoType.ViewTransition,R.PseudoType.ViewTransitionGroup,R.PseudoType.ViewTransitionImagePair,R.PseudoType.ViewTransitionOld,R.PseudoType.ViewTransitionNew].includes(this.#Gi)}creationStackTrace(){if(this.#Yi){return this.#Yi}const e=this.#Ui.invoke_getNodeStackTraces({nodeId:this.id});this.#Yi=e.then((e=>e.creation||null));return this.#Yi}get subtreeMarkerCount(){return this.#ns}domModel(){return this.#Hi}backendNodeId(){return this.#qi}children(){return this.childrenInternal?this.childrenInternal.slice():null}setChildren(e){this.childrenInternal=e}setIsScrollable(e){this.#$i=e}hasAttributes(){return this.#ts.size>0}childNodeCount(){return this.childNodeCountInternal}setChildNodeCount(e){this.childNodeCountInternal=e}hasShadowRoots(){return Boolean(this.shadowRootsInternal.length)}shadowRoots(){return this.shadowRootsInternal.slice()}templateContent(){return this.templateContentInternal||null}contentDocument(){return this.contentDocumentInternal||null}setContentDocument(e){this.contentDocumentInternal=e}isIframe(){return this.#Vi==="IFRAME"}importedDocument(){return this.#is||null}nodeType(){return this.#Wi}nodeName(){return this.#Vi}pseudoType(){return this.#Gi}pseudoIdentifier(){return this.#zi}hasPseudoElements(){return this.#Zi.size>0}pseudoElements(){return this.#Zi}beforePseudoElement(){return this.#Zi.get(R.PseudoType.Before)?.at(-1)}afterPseudoElement(){return this.#Zi.get(R.PseudoType.After)?.at(-1)}markerPseudoElement(){return this.#Zi.get(R.PseudoType.Marker)?.at(-1)}backdropPseudoElement(){return this.#Zi.get(R.PseudoType.Backdrop)?.at(-1)}viewTransitionPseudoElements(){return[...this.#Zi.get(R.PseudoType.ViewTransition)||[],...this.#Zi.get(R.PseudoType.ViewTransitionGroup)||[],...this.#Zi.get(R.PseudoType.ViewTransitionImagePair)||[],...this.#Zi.get(R.PseudoType.ViewTransitionOld)||[],...this.#Zi.get(R.PseudoType.ViewTransitionNew)||[]]}hasAssignedSlot(){return this.assignedSlot!==null}isInsertionPoint(){return!this.isXMLNode()&&(this.#Vi==="SHADOW"||this.#Vi==="CONTENT"||this.#Vi==="SLOT")}distributedNodes(){return this.#es}isInShadowTree(){return this.#_i}ancestorShadowHost(){const e=this.ancestorShadowRoot();return e?e.parentNode:null}ancestorShadowRoot(){if(!this.#_i){return null}let e=this;while(e&&!e.isShadowRoot()){e=e.parentNode}return e}ancestorUserAgentShadowRoot(){const t=this.ancestorShadowRoot();if(!t){return null}return t.shadowRootType()===e.ShadowRootTypes.UserAgent?t:null}isShadowRoot(){return Boolean(this.#Ki)}shadowRootType(){return this.#Ki||null}nodeNameInCorrectCase(){const e=this.shadowRootType();if(e){return"#shadow-root ("+e+")"}if(!this.localName()){return this.nodeName()}if(this.localName().length!==this.nodeName().length){return this.nodeName()}return this.localName()}setNodeName(e,t){void this.#Ui.invoke_setNodeName({nodeId:this.id,name:e}).then((e=>{if(!e.getError()){this.#Hi.markUndoableState()}if(t){t(e.getError()||null,this.#Hi.nodeForId(e.nodeId))}}))}localName(){return this.#ji}nodeValue(){return this.nodeValueInternal}setNodeValueInternal(e){this.nodeValueInternal=e}setNodeValue(e,t){void this.#Ui.invoke_setNodeValue({nodeId:this.id,value:e}).then((e=>{if(!e.getError()){this.#Hi.markUndoableState()}if(t){t(e.getError()||null)}}))}getAttribute(e){const t=this.#ts.get(e);return t?t.value:void 0}setAttribute(e,t,r){void this.#Ui.invoke_setAttributesAsText({nodeId:this.id,text:t,name:e}).then((e=>{if(!e.getError()){this.#Hi.markUndoableState()}if(r){r(e.getError()||null)}}))}setAttributeValue(e,t,r){void this.#Ui.invoke_setAttributeValue({nodeId:this.id,name:e,value:t}).then((e=>{if(!e.getError()){this.#Hi.markUndoableState()}if(r){r(e.getError()||null)}}))}setAttributeValuePromise(e,t){return new Promise((r=>this.setAttributeValue(e,t,r)))}attributes(){return[...this.#ts.values()]}async removeAttribute(e){const t=await this.#Ui.invoke_removeAttribute({nodeId:this.id,name:e});if(t.getError()){return}this.#ts.delete(e);this.#Hi.markUndoableState()}getChildNodesPromise(){return new Promise((e=>this.getChildNodes((t=>e(t)))))}getChildNodes(e){if(this.childrenInternal){e(this.children());return}void this.#Ui.invoke_requestChildNodes({nodeId:this.id}).then((t=>{e(t.getError()?null:this.children())}))}async getSubtree(e,t){const r=await this.#Ui.invoke_requestChildNodes({nodeId:this.id,depth:e,pierce:t});return r.getError()?null:this.childrenInternal}async getOuterHTML(){const{outerHTML:e}=await this.#Ui.invoke_getOuterHTML({nodeId:this.id});return e}setOuterHTML(e,t){void this.#Ui.invoke_setOuterHTML({nodeId:this.id,outerHTML:e}).then((e=>{if(!e.getError()){this.#Hi.markUndoableState()}if(t){t(e.getError()||null)}}))}removeNode(e){return this.#Ui.invoke_removeNode({nodeId:this.id}).then((t=>{if(!t.getError()){this.#Hi.markUndoableState()}if(e){e(t.getError()||null)}}))}async copyNode(){const{outerHTML:e}=await this.#Ui.invoke_getOuterHTML({nodeId:this.id});if(e!==null){Kt.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(e)}return e}path(){function t(t){if(!t.#Vi.length){return null}if(t.index!==void 0){return t.index}if(!t.parentNode){return null}if(t.isShadowRoot()){return t.shadowRootType()===e.ShadowRootTypes.UserAgent?"u":"a"}if(t.nodeType()===Node.DOCUMENT_NODE){return"d"}return null}const r=[];let n=this;while(n){const e=t(n);if(e===null){break}r.push([e,n.#Vi]);n=n.parentNode}r.reverse();return r.join(",")}isAncestor(e){if(!e){return false}let t=e.parentNode;while(t){if(this===t){return true}t=t.parentNode}return false}isDescendant(e){return e!==null&&e.isAncestor(this)}frameOwnerFrameId(){return this.#Qi}frameId(){let e=this.parentNode||this;while(!e.#Qi&&e.parentNode){e=e.parentNode}return e.#Qi}setAttributesPayload(e){let t=!this.#ts||e.length!==this.#ts.size*2;const r=this.#ts||new Map;this.#ts=new Map;for(let n=0;n<e.length;n+=2){const i=e[n];const s=e[n+1];this.addAttribute(i,s);if(t){continue}const o=r.get(i);if(!o||o.value!==s){t=true}}return t}insertChild(t,r){if(!this.childrenInternal){throw new Error("DOMNode._children is expected to not be null.")}const n=e.create(this.#Hi,this.ownerDocument,this.#_i,r);this.childrenInternal.splice(t?this.childrenInternal.indexOf(t)+1:0,0,n);this.renumber();return n}removeChild(e){const t=e.pseudoType();if(t){const r=this.#Zi.get(t)?.filter((t=>t!==e));if(r&&r.length>0){this.#Zi.set(t,r)}else{this.#Zi.delete(t)}}else{const t=this.shadowRootsInternal.indexOf(e);if(t!==-1){this.shadowRootsInternal.splice(t,1)}else{if(!this.childrenInternal){throw new Error("DOMNode._children is expected to not be null.")}if(this.childrenInternal.indexOf(e)===-1){throw new Error("DOMNode._children is expected to contain the node to be removed.")}this.childrenInternal.splice(this.childrenInternal.indexOf(e),1)}}e.parentNode=null;this.#ns-=e.#ns;if(e.#ns){this.#Hi.dispatchEventToListeners("MarkersChanged",this)}this.renumber()}setChildrenPayload(t){this.childrenInternal=[];for(let r=0;r<t.length;++r){const n=t[r];const i=e.create(this.#Hi,this.ownerDocument,this.#_i,n);this.childrenInternal.push(i)}this.renumber()}setPseudoElements(t){if(!t){return}for(let r=0;r<t.length;++r){const n=e.create(this.#Hi,this.ownerDocument,this.#_i,t[r]);n.parentNode=this;const i=n.pseudoType();if(!i){throw new Error("DOMNode.pseudoType() is expected to be defined.")}const s=this.#Zi.get(i);if(s){s.push(n)}else{this.#Zi.set(i,[n])}}}setDistributedNodePayloads(e){this.#es=[];for(const t of e){this.#es.push(new na(this.#Hi.target(),t.backendNodeId,t.nodeType,t.nodeName))}}setAssignedSlot(e){this.assignedSlot=new na(this.#Hi.target(),e.backendNodeId,e.nodeType,e.nodeName)}renumber(){if(!this.childrenInternal){throw new Error("DOMNode._children is expected to not be null.")}this.childNodeCountInternal=this.childrenInternal.length;if(this.childNodeCountInternal===0){this.firstChild=null;this.lastChild=null;return}this.firstChild=this.childrenInternal[0];this.lastChild=this.childrenInternal[this.childNodeCountInternal-1];for(let e=0;e<this.childNodeCountInternal;++e){const t=this.childrenInternal[e];t.index=e;t.nextSibling=e+1<this.childNodeCountInternal?this.childrenInternal[e+1]:null;t.previousSibling=e-1>=0?this.childrenInternal[e-1]:null;t.parentNode=this}}addAttribute(e,t){const r={name:e,value:t,_node:this};this.#ts.set(e,r)}setAttributeInternal(e,t){const r=this.#ts.get(e);if(r){r.value=t}else{this.addAttribute(e,t)}}removeAttributeInternal(e){this.#ts.delete(e)}copyTo(e,t,r){void this.#Ui.invoke_copyTo({nodeId:this.id,targetNodeId:e.id,insertBeforeNodeId:t?t.id:void 0}).then((e=>{if(!e.getError()){this.#Hi.markUndoableState()}if(r){r(e.getError()||null,this.#Hi.nodeForId(e.nodeId))}}))}moveTo(e,t,r){void this.#Ui.invoke_moveTo({nodeId:this.id,targetNodeId:e.id,insertBeforeNodeId:t?t.id:void 0}).then((e=>{if(!e.getError()){this.#Hi.markUndoableState()}if(r){r(e.getError()||null,this.#Hi.nodeForId(e.nodeId))}}))}isXMLNode(){return Boolean(this.#Xi)}setMarker(e,t){if(t===null){if(!this.#rs.has(e)){return}this.#rs.delete(e);for(let e=this;e;e=e.parentNode){--e.#ns}for(let e=this;e;e=e.parentNode){this.#Hi.dispatchEventToListeners("MarkersChanged",e)}return}if(this.parentNode&&!this.#rs.has(e)){for(let e=this;e;e=e.parentNode){++e.#ns}}this.#rs.set(e,t);for(let e=this;e;e=e.parentNode){this.#Hi.dispatchEventToListeners("MarkersChanged",e)}}marker(e){return this.#rs.get(e)||null}getMarkerKeysForTest(){return[...this.#rs.keys()]}traverseMarkers(e){function t(r){if(!r.#ns){return}for(const t of r.#rs.keys()){e(r,t)}if(!r.childrenInternal){return}for(const e of r.childrenInternal){t(e)}}t(this)}resolveURL(e){if(!e){return e}for(let t=this;t;t=t.parentNode){if(t instanceof ia&&t.baseURL){return zt.ParsedURL.ParsedURL.completeURL(t.baseURL,e)}}return null}highlight(e){this.#Hi.overlayModel().highlightInOverlay({node:this,selectorList:void 0},e)}highlightForTwoSeconds(){this.#Hi.overlayModel().highlightInOverlayForTwoSeconds({node:this,selectorList:void 0})}async resolveToObject(e,t){const{object:r}=await this.#Ui.invoke_resolveNode({nodeId:this.id,backendNodeId:void 0,executionContextId:t,objectGroup:e});return r&&this.#Hi.runtimeModelInternal.createRemoteObject(r)||null}async boxModel(){const{model:e}=await this.#Ui.invoke_getBoxModel({nodeId:this.id});return e}async setAsInspectedNode(){let e=this;if(e&&e.pseudoType()){e=e.parentNode}while(e){let t=e.ancestorUserAgentShadowRoot();if(!t){break}t=e.ancestorShadowHost();if(!t){break}e=t}if(!e){throw new Error("In DOMNode.setAsInspectedNode: node is expected to not be null.")}await this.#Ui.invoke_setInspectedNode({nodeId:e.id})}enclosingElementOrSelf(){let e=this;if(e&&e.nodeType()===Node.TEXT_NODE&&e.parentNode){e=e.parentNode}if(e&&e.nodeType()!==Node.ELEMENT_NODE){e=null}return e}async callFunction(e,t=[]){const r=await this.resolveToObject();if(!r){return null}const n=await r.callFunction(e,t.map((e=>fi.toCallArgument(e))));r.release();if(n.wasThrown||!n.object){return null}return{value:n.object.value}}async scrollIntoView(){const e=this.enclosingElementOrSelf();if(!e){return}const t=await e.callFunction(r);if(!t){return}e.highlightForTwoSeconds();function r(){this.scrollIntoViewIfNeeded(true)}}async focus(){const e=this.enclosingElementOrSelf();if(!e){throw new Error("DOMNode.focus expects node to not be null.")}const t=await e.callFunction(r);if(!t){return}e.highlightForTwoSeconds();await this.#Hi.target().pageAgent().invoke_bringToFront();function r(){this.focus()}}simpleSelector(){const e=this.localName()||this.nodeName().toLowerCase();if(this.nodeType()!==Node.ELEMENT_NODE){return e}const t=this.getAttribute("type");const r=this.getAttribute("id");const n=this.getAttribute("class");if(e==="input"&&t&&!r&&!n){return e+'[type="'+CSS.escape(t)+'"]'}if(r){return e+"#"+CSS.escape(r)}if(n){const t=n.trim().split(/\s+/g);return(e==="div"?"":e)+"."+t.map((e=>CSS.escape(e))).join(".")}if(this.pseudoIdentifier()){return`${e}(${this.pseudoIdentifier()})`}return e}async getAnchorBySpecifier(e){const t=await this.#Ui.invoke_getAnchorElement({nodeId:this.id,anchorSpecifier:e});if(t.getError()){return null}return this.domModel().nodeForId(t.nodeId)}};(e=>{let t;(e=>{e["UserAgent"]="user-agent";e["Open"]="open";e["Closed"]="closed"})(t=e.ShadowRootTypes||(e.ShadowRootTypes={}))})(ta||(ta={}));var ra=class{#Hi;#qi;constructor(e,t){this.#Hi=e.model(sa);this.#qi=t}resolve(e){void this.resolvePromise().then(e)}async resolvePromise(){const e=await this.#Hi.pushNodesByBackendIdsToFrontend(new Set([this.#qi]));return e&&e.get(this.#qi)||null}backendNodeId(){return this.#qi}domModel(){return this.#Hi}highlight(){this.#Hi.overlayModel().highlightInOverlay({deferredNode:this,selectorList:void 0})}};var na=class{nodeType;nodeName;deferredNode;constructor(e,t,r,n){this.nodeType=r;this.nodeName=n;this.deferredNode=new ra(e,t)}};var ia=class extends ta{body;documentElement;documentURL;baseURL;constructor(e,t){super(e);this.body=null;this.documentElement=null;this.init(this,false,t);this.documentURL=t.documentURL||"";this.baseURL=t.baseURL||""}};var sa=class e extends p{agent;idToDOMNode=new Map;#ss;#os;runtimeModelInternal;#as;#ls;#ds;#cs;#us;constructor(e){super(e);this.agent=e.domAgent();this.#ss=null;this.#os=new Set;e.registerDOMDispatcher(new aa(this));this.runtimeModelInternal=e.model(eo);this.#ls=null;if(!e.suspended()){void this.agent.invoke_enable({})}if(Xt.Runtime.experiments.isEnabled("capture-node-creation-stacks")){void this.agent.invoke_setNodeStackTracesEnabled({enable:true})}}runtimeModel(){return this.runtimeModelInternal}cssModel(){return this.target().model(Ts)}overlayModel(){return this.target().model(Jo)}static cancelSearch(){for(const t of ut.instance().models(e)){t.cancelSearch()}}scheduleMutationEvent(e){if(!this.hasEventListeners("DOMMutated")){return}this.#as=(this.#as||0)+1;void Promise.resolve().then(t.bind(this,e,this.#as));function t(e,t){if(!this.hasEventListeners("DOMMutated")||this.#as!==t){return}this.dispatchEventToListeners("DOMMutated",e)}}requestDocument(){if(this.#ss){return Promise.resolve(this.#ss)}if(!this.#ls){this.#ls=this.requestDocumentInternal()}return this.#ls}async getOwnerNodeForFrame(e){const t=await this.agent.invoke_getFrameOwner({frameId:e});if(t.getError()){return null}return new ra(this.target(),t.backendNodeId)}async requestDocumentInternal(){const e=await this.agent.invoke_getDocument({});if(e.getError()){return null}const{root:t}=e;this.#ls=null;if(t){this.setDocument(t)}if(!this.#ss){console.error("No document");return null}const r=this.parentModel();if(r&&!this.#ds){await r.requestDocument();const e=this.target().model(Ca)?.mainFrame;if(e){const t=await r.agent.invoke_getFrameOwner({frameId:e.id});if(!t.getError()&&t.nodeId){this.#ds=r.nodeForId(t.nodeId)}}}if(this.#ds){const e=this.#ds.contentDocument();this.#ds.setContentDocument(this.#ss);this.#ds.setChildren([]);if(this.#ss){this.#ss.parentNode=this.#ds;this.dispatchEventToListeners("NodeInserted",this.#ss)}else if(e){this.dispatchEventToListeners("NodeRemoved",{node:e,parent:this.#ds})}}return this.#ss}existingDocument(){return this.#ss}async pushNodeToFrontend(e){await this.requestDocument();const{nodeId:t}=await this.agent.invoke_requestNode({objectId:e});return t?this.nodeForId(t):null}pushNodeByPathToFrontend(e){return this.requestDocument().then((()=>this.agent.invoke_pushNodeByPathToFrontend({path:e}))).then((({nodeId:e})=>e))}async pushNodesByBackendIdsToFrontend(e){await this.requestDocument();const t=[...e];const{nodeIds:r}=await this.agent.invoke_pushNodesByBackendIdsToFrontend({backendNodeIds:t});if(!r){return null}const n=new Map;for(let e=0;e<r.length;++e){if(r[e]){n.set(t[e],this.nodeForId(r[e]))}}return n}attributeModified(e,t,r){const n=this.idToDOMNode.get(e);if(!n){return}n.setAttributeInternal(t,r);this.dispatchEventToListeners("AttrModified",{node:n,name:t});this.scheduleMutationEvent(n)}attributeRemoved(e,t){const r=this.idToDOMNode.get(e);if(!r){return}r.removeAttributeInternal(t);this.dispatchEventToListeners("AttrRemoved",{node:r,name:t});this.scheduleMutationEvent(r)}inlineStyleInvalidated(e){e.forEach((e=>this.#os.add(e)));if(!this.#cs){this.#cs=window.setTimeout(this.loadNodeAttributes.bind(this),20)}}loadNodeAttributes(){this.#cs=void 0;for(const e of this.#os){void this.agent.invoke_getAttributes({nodeId:e}).then((({attributes:t})=>{if(!t){return}const r=this.idToDOMNode.get(e);if(!r){return}if(r.setAttributesPayload(t)){this.dispatchEventToListeners("AttrModified",{node:r,name:"style"});this.scheduleMutationEvent(r)}}))}this.#os.clear()}characterDataModified(e,t){const r=this.idToDOMNode.get(e);if(!r){console.error("nodeId could not be resolved to a node");return}r.setNodeValueInternal(t);this.dispatchEventToListeners("CharacterDataModified",r);this.scheduleMutationEvent(r)}nodeForId(e){return e?this.idToDOMNode.get(e)||null:null}documentUpdated(){const e=Boolean(this.#ss);this.setDocument(null);if(this.parentModel()&&e&&!this.#ls){void this.requestDocument()}}setDocument(e){this.idToDOMNode=new Map;if(e&&"nodeId"in e){this.#ss=new ia(this,e)}else{this.#ss=null}da.instance().dispose(this);if(!this.parentModel()){this.dispatchEventToListeners("DocumentUpdated",this)}}setDocumentForTest(e){this.setDocument(e)}setDetachedRoot(e){if(e.nodeName==="#document"){new ia(this,e)}else{ta.create(this,null,false,e)}}setChildNodes(e,t){if(!e&&t.length){this.setDetachedRoot(t[0]);return}const r=this.idToDOMNode.get(e);r?.setChildrenPayload(t)}childNodeCountUpdated(e,t){const r=this.idToDOMNode.get(e);if(!r){console.error("nodeId could not be resolved to a node");return}r.setChildNodeCount(t);this.dispatchEventToListeners("ChildNodeCountUpdated",r);this.scheduleMutationEvent(r)}childNodeInserted(e,t,r){const n=this.idToDOMNode.get(e);const i=this.idToDOMNode.get(t);if(!n){console.error("parentId could not be resolved to a node");return}const s=n.insertChild(i,r);this.idToDOMNode.set(s.id,s);this.dispatchEventToListeners("NodeInserted",s);this.scheduleMutationEvent(s)}childNodeRemoved(e,t){const r=this.idToDOMNode.get(e);const n=this.idToDOMNode.get(t);if(!r||!n){console.error("parentId or nodeId could not be resolved to a node");return}r.removeChild(n);this.unbind(n);this.dispatchEventToListeners("NodeRemoved",{node:n,parent:r});this.scheduleMutationEvent(n)}shadowRootPushed(e,t){const r=this.idToDOMNode.get(e);if(!r){return}const n=ta.create(this,r.ownerDocument,true,t);n.parentNode=r;this.idToDOMNode.set(n.id,n);r.shadowRootsInternal.unshift(n);this.dispatchEventToListeners("NodeInserted",n);this.scheduleMutationEvent(n)}shadowRootPopped(e,t){const r=this.idToDOMNode.get(e);if(!r){return}const n=this.idToDOMNode.get(t);if(!n){return}r.removeChild(n);this.unbind(n);this.dispatchEventToListeners("NodeRemoved",{node:n,parent:r});this.scheduleMutationEvent(n)}pseudoElementAdded(e,t){const r=this.idToDOMNode.get(e);if(!r){return}const n=ta.create(this,r.ownerDocument,false,t);n.parentNode=r;this.idToDOMNode.set(n.id,n);const i=n.pseudoType();if(!i){throw new Error("DOMModel._pseudoElementAdded expects pseudoType to be defined.")}const s=r.pseudoElements().get(i);if(s){if(!i.startsWith("view-transition")){throw new Error("DOMModel.pseudoElementAdded expects parent to not already have this pseudo type added; only view-transition* pseudo elements can coexist under the same parent.")}s.push(n)}else{r.pseudoElements().set(i,[n])}this.dispatchEventToListeners("NodeInserted",n);this.scheduleMutationEvent(n)}scrollableFlagUpdated(e,t){const r=this.nodeForId(e);if(!r||r.isScrollable()===t){return}r.setIsScrollable(t);this.dispatchEventToListeners("ScrollableFlagUpdated",{node:r})}topLayerElementsUpdated(){this.dispatchEventToListeners("TopLayerElementsChanged")}pseudoElementRemoved(e,t){const r=this.idToDOMNode.get(e);if(!r){return}const n=this.idToDOMNode.get(t);if(!n){return}r.removeChild(n);this.unbind(n);this.dispatchEventToListeners("NodeRemoved",{node:n,parent:r});this.scheduleMutationEvent(n)}distributedNodesUpdated(e,t){const r=this.idToDOMNode.get(e);if(!r){return}r.setDistributedNodePayloads(t);this.dispatchEventToListeners("DistributedNodesChanged",r);this.scheduleMutationEvent(r)}unbind(e){this.idToDOMNode.delete(e.id);const t=e.children();for(let e=0;t&&e<t.length;++e){this.unbind(t[e])}for(let t=0;t<e.shadowRootsInternal.length;++t){this.unbind(e.shadowRootsInternal[t])}const r=e.pseudoElements();for(const e of r.values()){for(const t of e){this.unbind(t)}}const n=e.templateContent();if(n){this.unbind(n)}}async getNodesByStyle(e,t=false){await this.requestDocument();if(!this.#ss){throw new Error("DOMModel.getNodesByStyle expects to have a document.")}const r=await this.agent.invoke_getNodesForSubtreeByStyle({nodeId:this.#ss.id,computedStyles:e,pierce:t});if(r.getError()){throw r.getError()}return r.nodeIds}async performSearch(e,t){const r=await this.agent.invoke_performSearch({query:e,includeUserAgentShadowDOM:t});if(!r.getError()){this.#us=r.searchId}return r.getError()?0:r.resultCount}async searchResult(e){if(!this.#us){return null}const{nodeIds:t}=await this.agent.invoke_getSearchResults({searchId:this.#us,fromIndex:e,toIndex:e+1});return t&&t.length===1?this.nodeForId(t[0]):null}cancelSearch(){if(!this.#us){return}void this.agent.invoke_discardSearchResults({searchId:this.#us});this.#us=void 0}classNamesPromise(e){return this.agent.invoke_collectClassNamesFromSubtree({nodeId:e}).then((({classNames:e})=>e||[]))}querySelector(e,t){return this.agent.invoke_querySelector({nodeId:e,selector:t}).then((({nodeId:e})=>e))}querySelectorAll(e,t){return this.agent.invoke_querySelectorAll({nodeId:e,selector:t}).then((({nodeIds:e})=>e))}getTopLayerElements(){return this.agent.invoke_getTopLayerElements().then((({nodeIds:e})=>e))}getDetachedDOMNodes(){return this.agent.invoke_getDetachedDomNodes().then((({detachedNodes:e})=>e))}getElementByRelation(e,t){return this.agent.invoke_getElementByRelation({nodeId:e,relation:t}).then((({nodeId:e})=>e))}markUndoableState(e){void da.instance().markUndoableState(this,e||false)}async nodeForLocation(e,t,r){const n=await this.agent.invoke_getNodeForLocation({x:e,y:t,includeUserAgentShadowDOM:r});if(n.getError()||!n.nodeId){return null}return this.nodeForId(n.nodeId)}async getContainerForNode(e,t,r,n,i){const{nodeId:s}=await this.agent.invoke_getContainerForNode({nodeId:e,containerName:t,physicalAxes:r,logicalAxes:n,queriesScrollState:i});if(!s){return null}return this.nodeForId(s)}pushObjectAsNodeToFrontend(e){return e.isNode()&&e.objectId?this.pushNodeToFrontend(e.objectId):Promise.resolve(null)}suspendModel(){return this.agent.invoke_disable().then((()=>this.setDocument(null)))}async resumeModel(){await this.agent.invoke_enable({})}dispose(){da.instance().dispose(this)}parentModel(){const t=this.target().parentTarget();return t?t.model(e):null}getAgent(){return this.agent}registerNode(e){this.idToDOMNode.set(e.id,e)}};var oa=(e=>{e["AttrModified"]="AttrModified";e["AttrRemoved"]="AttrRemoved";e["CharacterDataModified"]="CharacterDataModified";e["DOMMutated"]="DOMMutated";e["NodeInserted"]="NodeInserted";e["NodeRemoved"]="NodeRemoved";e["DocumentUpdated"]="DocumentUpdated";e["ChildNodeCountUpdated"]="ChildNodeCountUpdated";e["DistributedNodesChanged"]="DistributedNodesChanged";e["MarkersChanged"]="MarkersChanged";e["TopLayerElementsChanged"]="TopLayerElementsChanged";e["ScrollableFlagUpdated"]="ScrollableFlagUpdated";return e})(oa||{});var aa=class{#zr;constructor(e){this.#zr=e}documentUpdated(){this.#zr.documentUpdated()}attributeModified({nodeId:e,name:t,value:r}){this.#zr.attributeModified(e,t,r)}attributeRemoved({nodeId:e,name:t}){this.#zr.attributeRemoved(e,t)}inlineStyleInvalidated({nodeIds:e}){this.#zr.inlineStyleInvalidated(e)}characterDataModified({nodeId:e,characterData:t}){this.#zr.characterDataModified(e,t)}setChildNodes({parentId:e,nodes:t}){this.#zr.setChildNodes(e,t)}childNodeCountUpdated({nodeId:e,childNodeCount:t}){this.#zr.childNodeCountUpdated(e,t)}childNodeInserted({parentNodeId:e,previousNodeId:t,node:r}){this.#zr.childNodeInserted(e,t,r)}childNodeRemoved({parentNodeId:e,nodeId:t}){this.#zr.childNodeRemoved(e,t)}shadowRootPushed({hostId:e,root:t}){this.#zr.shadowRootPushed(e,t)}shadowRootPopped({hostId:e,rootId:t}){this.#zr.shadowRootPopped(e,t)}pseudoElementAdded({parentId:e,pseudoElement:t}){this.#zr.pseudoElementAdded(e,t)}pseudoElementRemoved({parentId:e,pseudoElementId:t}){this.#zr.pseudoElementRemoved(e,t)}distributedNodesUpdated({insertionPointId:e,distributedNodes:t}){this.#zr.distributedNodesUpdated(e,t)}topLayerElementsUpdated(){this.#zr.topLayerElementsUpdated()}scrollableFlagUpdated({nodeId:e,isScrollable:t}){this.#zr.scrollableFlagUpdated(e,t)}};var la=null;var da=class e{#Et;#Zn;#hs;constructor(){this.#Et=[];this.#Zn=0;this.#hs=null}static instance(t={forceNew:null}){const{forceNew:r}=t;if(!la||r){la=new e}return la}async markUndoableState(e,t){if(this.#hs&&e!==this.#hs){this.#hs.markUndoableState();this.#hs=null}if(t&&this.#hs===e){return}this.#Et=this.#Et.slice(0,this.#Zn);this.#Et.push(e);this.#Zn=this.#Et.length;if(t){this.#hs=e}else{await e.getAgent().invoke_markUndoableState();this.#hs=null}}async undo(){if(this.#Zn===0){return Promise.resolve()}--this.#Zn;this.#hs=null;await this.#Et[this.#Zn].getAgent().invoke_undo()}async redo(){if(this.#Zn>=this.#Et.length){return Promise.resolve()}++this.#Zn;this.#hs=null;await this.#Et[this.#Zn-1].getAgent().invoke_redo()}dispose(e){let t=0;for(let r=0;r<this.#Zn;++r){if(this.#Et[r]===e){++t}}Qt.ArrayUtilities.removeElement(this.#Et,e);this.#Zn-=t;if(this.#hs===e){this.#hs=null}}};p.register(sa,{capabilities:nt.DOM,autostart:true});var ca={};a(ca,{Resource:()=>pa});import*as ua from"./../../models/text_utils/text_utils.js";import*as ha from"./../common/common.js";import*as ga from"./../platform/platform.js";var pa=class{#Xr;#gs;#ps;#ms;#fs;#ys;#Ss;#vs;#bs;#Is;#ks;#ws;#Cs=null;#Rs=null;constructor(e,t,r,n,i,s,o,a,l,d){this.#Xr=e;this.#gs=t;this.url=r;this.#ms=n;this.#fs=i;this.#ys=s;this.#Ss=o||ha.ResourceType.resourceTypes.Other;this.#vs=a;this.#bs=false;this.#Is=l&&ga.DateUtilities.isValid(l)?l:null;this.#ks=d}lastModified(){if(this.#Is||!this.#gs){return this.#Is}const e=this.#gs.responseLastModified();const t=e?new Date(e):null;this.#Is=t&&ga.DateUtilities.isValid(t)?t:null;return this.#Is}contentSize(){if(typeof this.#ks==="number"||!this.#gs){return this.#ks}return this.#gs.resourceSize}get request(){return this.#gs}get url(){return this.#ps}set url(e){this.#ps=e;this.#ws=new ha.ParsedURL.ParsedURL(e)}get parsedURL(){return this.#ws}get documentURL(){return this.#ms}get frameId(){return this.#fs}get loaderId(){return this.#ys}get displayName(){return this.#ws?this.#ws.displayName:""}resourceType(){return this.#gs?this.#gs.resourceType():this.#Ss}get mimeType(){return this.#gs?this.#gs.mimeType:this.#vs}get content(){if(this.#Cs?.isTextContent){return this.#Cs.text}return this.#Cs?.base64??null}get isGenerated(){return this.#bs}set isGenerated(e){this.#bs=e}contentURL(){return this.#ps}contentType(){if(this.resourceType()===ha.ResourceType.resourceTypes.Document&&this.mimeType.indexOf("javascript")!==-1){return ha.ResourceType.resourceTypes.Script}return this.resourceType()}async requestContent(){const e=await this.requestContentData();return ua.ContentData.ContentData.asDeferredContent(e)}async requestContentData(){if(this.#Cs){return this.#Cs}if(this.#Rs){return this.#Rs}this.#Rs=this.innerRequestContent().then((e=>{if(!ua.ContentData.ContentData.isError(e)){this.#Cs=e}this.#Rs=null;return e}));return this.#Rs}canonicalMimeType(){return this.contentType().canonicalMimeType()||this.mimeType}async searchInContent(e,t,r){if(!this.frameId){return[]}if(this.request){return this.request.searchInContent(e,t,r)}const n=await this.#Xr.target().pageAgent().invoke_searchInResource({frameId:this.frameId,url:this.url,query:e,caseSensitive:t,isRegex:r});return ua.TextUtils.performSearchInSearchMatches(n.result||[],e,t,r)}async populateImageSource(e){const t=await this.requestContentData();if(ua.ContentData.ContentData.isError(t)){return}e.src=t.asDataUrl()??this.#ps}async innerRequestContent(){if(this.request){return this.request.requestContentData()}const e=await this.#Xr.target().pageAgent().invoke_getResourceContent({frameId:this.frameId,url:this.url});const t=e.getError();if(t){return{error:t}}return new ua.ContentData.ContentData(e.content,e.base64Encoded,this.mimeType)}hasTextContent(){if(this.#Cs?.isTextContent){return true}return this.#Ss.isTextType()||ga.MimeType.isTextType(this.mimeType)}frame(){return this.#fs?this.#Xr.frameForId(this.#fs):null}statusCode(){return this.#gs?this.#gs.statusCode:0}};var ma={};a(ma,{Events:()=>ya,SecurityOriginManager:()=>fa});var fa=class extends p{#Ts;#Es;#Ps;constructor(e){super(e);this.#Ts="";this.#Es="";this.#Ps=new Set}updateSecurityOrigins(e){const t=this.#Ps;this.#Ps=e;for(const e of t){if(!this.#Ps.has(e)){this.dispatchEventToListeners("SecurityOriginRemoved",e)}}for(const e of this.#Ps){if(!t.has(e)){this.dispatchEventToListeners("SecurityOriginAdded",e)}}}securityOrigins(){return[...this.#Ps]}mainSecurityOrigin(){return this.#Ts}unreachableMainSecurityOrigin(){return this.#Es}setMainSecurityOrigin(e,t){this.#Ts=e;this.#Es=t||null;this.dispatchEventToListeners("MainSecurityOriginChanged",{mainSecurityOrigin:this.#Ts,unreachableMainSecurityOrigin:this.#Es})}};var ya=(e=>{e["SecurityOriginAdded"]="SecurityOriginAdded";e["SecurityOriginRemoved"]="SecurityOriginRemoved";e["MainSecurityOriginChanged"]="MainSecurityOriginChanged";return e})(ya||{});p.register(fa,{capabilities:nt.NONE,autostart:false});var Sa={};a(Sa,{Events:()=>wa,StorageKeyComponent:()=>ka,StorageKeyManager:()=>ba,parseStorageKey:()=>Ia});import*as va from"./../common/common.js";var ba=class extends p{#xs;#Ms;constructor(e){super(e);this.#xs="";this.#Ms=new Set}updateStorageKeys(e){const t=this.#Ms;this.#Ms=e;for(const e of t){if(!this.#Ms.has(e)){this.dispatchEventToListeners("StorageKeyRemoved",e)}}for(const e of this.#Ms){if(!t.has(e)){this.dispatchEventToListeners("StorageKeyAdded",e)}}}storageKeys(){return[...this.#Ms]}mainStorageKey(){return this.#xs}setMainStorageKey(e){this.#xs=e;this.dispatchEventToListeners("MainStorageKeyChanged",{mainStorageKey:this.#xs})}};function Ia(e){const t=e.split("^");const r=va.ParsedURL.ParsedURL.extractOrigin(t[0]);const n={origin:r,components:new Map};for(let e=1;e<t.length;++e){n.components.set(t[e].charAt(0),t[e].substring(1))}return n}var ka=(e=>{e["TOP_LEVEL_SITE"]="0";e["NONCE_HIGH"]="1";e["NONCE_LOW"]="2";e["ANCESTOR_CHAIN_BIT"]="3";e["TOP_LEVEL_SITE_OPAQUE_NONCE_HIGH"]="4";e["TOP_LEVEL_SITE_OPAQUE_NONCE_LOW"]="5";e["TOP_LEVEL_SITE_OPAQUE_NONCE_PRECURSOR"]="6";return e})(ka||{});var wa=(e=>{e["STORAGE_KEY_ADDED"]="StorageKeyAdded";e["STORAGE_KEY_REMOVED"]="StorageKeyRemoved";e["MAIN_STORAGE_KEY_CHANGED"]="MainStorageKeyChanged";return e})(wa||{});p.register(ba,{capabilities:nt.NONE,autostart:false});var Ca=class e extends p{agent;storageAgent;#As;#Ls;framesInternal;#Ns;#Os;#Ds;isInterstitialShowing;mainFrame;#Fs;constructor(e){super(e);const t=e.model(kt);if(t){t.addEventListener(wt.RequestFinished,this.onRequestFinished,this);t.addEventListener(wt.RequestUpdateDropped,this.onRequestUpdateDropped,this)}this.agent=e.pageAgent();this.storageAgent=e.storageAgent();void this.agent.invoke_enable();this.#As=e.model(fa);this.#Ls=e.model(ba);this.#Fs=new Set;e.registerPageDispatcher(new Ea(this));this.framesInternal=new Map;this.#Ns=false;this.#Os=null;this.#Ds=0;this.isInterstitialShowing=false;this.mainFrame=null;void this.#Bs()}async#Bs(){return this.agent.invoke_getResourceTree().then((e=>{this.processCachedResources(e.getError()?null:e.frameTree);if(this.mainFrame){this.processPendingEvents(this.mainFrame)}}))}static frameForRequest(t){const r=kt.forRequest(t);const n=r?r.target().model(e):null;if(!n){return null}return t.frameId?n.frameForId(t.frameId):null}static frames(){const t=[];for(const r of ut.instance().models(e)){t.push(...r.frames())}return t}static resourceForURL(t){for(const r of ut.instance().models(e)){const e=r.mainFrame;const n=e?e.resourceForURL(t):null;if(n){return n}}return null}static reloadAllPages(t,r){for(const n of ut.instance().models(e)){if(n.target().parentTarget()?.type()!==rt.FRAME){n.reloadPage(t,r)}}}async storageKeyForFrame(e){if(!this.framesInternal.has(e)){return null}const t=await this.storageAgent.invoke_getStorageKeyForFrame({frameId:e});if(t.getError()==="Frame tree node for given frame not found"){return null}return t.storageKey}domModel(){return this.target().model(sa)}processCachedResources(e){if(e&&e.frame.url!==":"){this.dispatchEventToListeners("WillLoadCachedResources");this.addFramesRecursively(null,e);this.target().setInspectedURL(e.frame.url)}this.#Ns=true;const t=this.target().model(eo);if(t){t.setExecutionContextComparator(this.executionContextComparator.bind(this));t.fireExecutionContextOrderChanged()}this.dispatchEventToListeners("CachedResourcesLoaded",this)}cachedResourcesLoaded(){return this.#Ns}addFrame(e,t){this.framesInternal.set(e.id,e);if(e.isMainFrame()){this.mainFrame=e}this.dispatchEventToListeners("FrameAdded",e);this.updateSecurityOrigins();void this.updateStorageKeys()}frameAttached(e,t,r){const n=t?this.framesInternal.get(t)||null:null;if(!this.#Ns&&n){return null}if(this.framesInternal.has(e)){return null}const i=new Ta(this,n,e,null,r||null);if(t&&!n){i.crossTargetParentFrameId=t}if(i.isMainFrame()&&this.mainFrame){this.frameDetached(this.mainFrame.id,false)}this.addFrame(i,true);return i}frameNavigated(e,t){const r=e.parentId?this.framesInternal.get(e.parentId)||null:null;if(!this.#Ns&&r){return}let n=this.framesInternal.get(e.id)||null;if(!n){n=this.frameAttached(e.id,e.parentId||null);console.assert(Boolean(n));if(!n){return}}this.dispatchEventToListeners("FrameWillNavigate",n);n.navigate(e);if(t){n.backForwardCacheDetails.restoredFromCache=t===F.NavigationType.BackForwardCacheRestore}if(n.isMainFrame()){this.target().setInspectedURL(n.url)}this.dispatchEventToListeners("FrameNavigated",n);if(n.isPrimaryFrame()){this.primaryPageChanged(n,"Navigation")}const i=n.resources();for(let e=0;e<i.length;++e){this.dispatchEventToListeners("ResourceAdded",i[e])}this.updateSecurityOrigins();void this.updateStorageKeys();if(n.backForwardCacheDetails.restoredFromCache){ui.instance().modelRemoved(this);ui.instance().modelAdded(this);void this.#Bs()}}primaryPageChanged(e,t){this.processPendingEvents(e);this.dispatchEventToListeners("PrimaryPageChanged",{frame:e,type:t});const r=this.target().model(kt);if(r&&e.isOutermostFrame()){r.clearRequests()}}documentOpened(e){this.frameNavigated(e,void 0);const t=this.framesInternal.get(e.id);if(t&&!t.getResourcesMap().get(e.url)){const r=this.createResourceFromFramePayload(e,e.url,Wt.ResourceType.resourceTypes.Document,e.mimeType,null,null);r.isGenerated=true;t.addResource(r)}}frameDetached(e,t){if(!this.#Ns){return}const r=this.framesInternal.get(e);if(!r){return}const n=r.sameTargetParentFrame();if(n){n.removeChildFrame(r,t)}else{r.remove(t)}this.updateSecurityOrigins();void this.updateStorageKeys()}onRequestFinished(e){if(!this.#Ns){return}const t=e.data;if(t.failed){return}const r=t.frameId?this.framesInternal.get(t.frameId):null;if(r){r.addRequest(t)}}onRequestUpdateDropped(e){if(!this.#Ns){return}const t=e.data;const r=t.frameId;if(!r){return}const n=this.framesInternal.get(r);if(!n){return}const i=t.url;if(n.getResourcesMap().get(i)){return}const s=new pa(this,null,i,n.url,r,t.loaderId,Wt.ResourceType.resourceTypes[t.resourceType],t.mimeType,t.lastModified,null);n.addResource(s)}frameForId(e){return this.framesInternal.get(e)||null}forAllResources(e){if(this.mainFrame){return this.mainFrame.callForFrameResources(e)}return false}frames(){return[...this.framesInternal.values()]}resourceForURL(e){return this.mainFrame?this.mainFrame.resourceForURL(e):null}addFramesRecursively(e,t){const r=t.frame;let n=this.framesInternal.get(r.id);if(!n){n=new Ta(this,e,r.id,r,null)}if(!e&&r.parentId){n.crossTargetParentFrameId=r.parentId}this.addFrame(n);for(const e of t.childFrames||[]){this.addFramesRecursively(n,e)}for(let e=0;e<t.resources.length;++e){const i=t.resources[e];const s=this.createResourceFromFramePayload(r,i.url,Wt.ResourceType.resourceTypes[i.type],i.mimeType,i.lastModified||null,i.contentSize||null);n.addResource(s)}if(!n.getResourcesMap().get(r.url)){const e=this.createResourceFromFramePayload(r,r.url,Wt.ResourceType.resourceTypes.Document,r.mimeType,null,null);n.addResource(e)}}createResourceFromFramePayload(e,t,r,n,i,s){const o=typeof i==="number"?new Date(i*1e3):null;return new pa(this,null,t,e.url,e.id,e.loaderId,r,n,o,s)}suspendReload(){this.#Ds++}resumeReload(){this.#Ds--;console.assert(this.#Ds>=0,"Unbalanced call to ResourceTreeModel.resumeReload()");if(!this.#Ds&&this.#Os){const{ignoreCache:e,scriptToEvaluateOnLoad:t}=this.#Os;this.reloadPage(e,t)}}reloadPage(e,t){const r=this.mainFrame?.loaderId;if(!r){return}if(!this.#Os){this.dispatchEventToListeners("PageReloadRequested",this)}if(this.#Ds){this.#Os={ignoreCache:e,scriptToEvaluateOnLoad:t};return}this.#Os=null;const n=this.target().model(kt);if(n){n.clearRequests()}this.dispatchEventToListeners("WillReloadPage");void this.agent.invoke_reload({ignoreCache:e,scriptToEvaluateOnLoad:t,loaderId:r})}navigate(e){return this.agent.invoke_navigate({url:e})}async navigationHistory(){const e=await this.agent.invoke_getNavigationHistory();if(e.getError()){return null}return{currentIndex:e.currentIndex,entries:e.entries}}navigateToHistoryEntry(e){void this.agent.invoke_navigateToHistoryEntry({entryId:e.id})}setLifecycleEventsEnabled(e){return this.agent.invoke_setLifecycleEventsEnabled({enabled:e})}async fetchAppManifest(){const e=await this.agent.invoke_getAppManifest({});if(e.getError()){return{url:e.url,data:null,errors:[]}}return{url:e.url,data:e.data||null,errors:e.errors}}async getInstallabilityErrors(){const e=await this.agent.invoke_getInstallabilityErrors();return e.installabilityErrors||[]}async getAppId(){return this.agent.invoke_getAppId()}executionContextComparator(e,t){function r(e){let t=e;const r=[];while(t){r.push(t);t=t.sameTargetParentFrame()}return r.reverse()}if(e.target()!==t.target()){return no.comparator(e,t)}const n=e.frameId?r(this.frameForId(e.frameId)):[];const i=t.frameId?r(this.frameForId(t.frameId)):[];let s;let o;for(let e=0;;e++){if(!n[e]||!i[e]||n[e]!==i[e]){s=n[e];o=i[e];break}}if(!s&&o){return-1}if(!o&&s){return 1}if(s&&o){return s.id.localeCompare(o.id)}return no.comparator(e,t)}getSecurityOriginData(){const e=new Set;let t=null;let r=null;for(const n of this.framesInternal.values()){const i=n.securityOrigin;if(!i){continue}e.add(i);if(n.isMainFrame()){t=i;if(n.unreachableUrl()){const e=new Wt.ParsedURL.ParsedURL(n.unreachableUrl());r=e.securityOrigin()}}}return{securityOrigins:e,mainSecurityOrigin:t,unreachableMainSecurityOrigin:r}}async getStorageKeyData(){const e=new Set;let t=null;for(const{isMainFrame:r,storageKey:n}of await Promise.all([...this.framesInternal.values()].map((e=>e.getStorageKey(false).then((t=>({isMainFrame:e.isMainFrame(),storageKey:t}))))))){if(r){t=n}if(n){e.add(n)}}return{storageKeys:e,mainStorageKey:t}}updateSecurityOrigins(){const e=this.getSecurityOriginData();this.#As.setMainSecurityOrigin(e.mainSecurityOrigin||"",e.unreachableMainSecurityOrigin||"");this.#As.updateSecurityOrigins(e.securityOrigins)}async updateStorageKeys(){const e=await this.getStorageKeyData();this.#Ls.setMainStorageKey(e.mainStorageKey||"");this.#Ls.updateStorageKeys(e.storageKeys)}async getMainStorageKey(){return this.mainFrame?this.mainFrame.getStorageKey(false):null}getMainSecurityOrigin(){const e=this.getSecurityOriginData();return e.mainSecurityOrigin||e.unreachableMainSecurityOrigin}onBackForwardCacheNotUsed(e){if(this.mainFrame&&this.mainFrame.id===e.frameId&&this.mainFrame.loaderId===e.loaderId){this.mainFrame.setBackForwardCacheDetails(e);this.dispatchEventToListeners("BackForwardCacheDetailsUpdated",this.mainFrame)}else{this.#Fs.add(e)}}processPendingEvents(e){if(!e.isMainFrame()){return}for(const t of this.#Fs){if(e.id===t.frameId&&e.loaderId===t.loaderId){e.setBackForwardCacheDetails(t);this.#Fs.delete(t);break}}}};var Ra=(e=>{e["FrameAdded"]="FrameAdded";e["FrameNavigated"]="FrameNavigated";e["FrameDetached"]="FrameDetached";e["FrameResized"]="FrameResized";e["FrameWillNavigate"]="FrameWillNavigate";e["PrimaryPageChanged"]="PrimaryPageChanged";e["ResourceAdded"]="ResourceAdded";e["WillLoadCachedResources"]="WillLoadCachedResources";e["CachedResourcesLoaded"]="CachedResourcesLoaded";e["DOMContentLoaded"]="DOMContentLoaded";e["LifecycleEvent"]="LifecycleEvent";e["Load"]="Load";e["PageReloadRequested"]="PageReloadRequested";e["WillReloadPage"]="WillReloadPage";e["InterstitialShown"]="InterstitialShown";e["InterstitialHidden"]="InterstitialHidden";e["BackForwardCacheDetailsUpdated"]="BackForwardCacheDetailsUpdated";e["JavaScriptDialogOpening"]="JavaScriptDialogOpening";return e})(Ra||{});var Ta=class{#ei;#Hs;#C;crossTargetParentFrameId;#ys;#u;#ps;#Us;#_s;#qs;#Ws;#Vs;#js;#Gs;#zs;#Ks;#Qs;#Xs;resourcesMap;backForwardCacheDetails={restoredFromCache:void 0,explanations:[],explanationsTree:void 0};constructor(e,t,r,n,i){this.#ei=e;this.#Hs=t;this.#C=r;this.crossTargetParentFrameId=null;this.#ys=n?.loaderId??"";this.#u=n&&n.name;this.#ps=n&&n.url||jt.DevToolsPath.EmptyUrlString;this.#Us=n&&n.domainAndRegistry||"";this.#_s=n&&n.securityOrigin;this.#Ws=n&&n.unreachableUrl||jt.DevToolsPath.EmptyUrlString;this.#Vs=n?.adFrameStatus;this.#js=n&&n.secureContextType;this.#Gs=n&&n.crossOriginIsolatedContextType;this.#zs=n&&n.gatedAPIFeatures;this.#Ks=i;this.#Qs=null;this.#Xs=new Set;this.resourcesMap=new Map;if(this.#Hs){this.#Hs.#Xs.add(this)}}isSecureContext(){return this.#js!==null&&this.#js.startsWith("Secure")}getSecureContextType(){return this.#js}isCrossOriginIsolated(){return this.#Gs!==null&&this.#Gs.startsWith("Isolated")}getCrossOriginIsolatedContextType(){return this.#Gs}getGatedAPIFeatures(){return this.#zs}getCreationStackTraceData(){return{creationStackTrace:this.#Ks,creationStackTraceTarget:this.#Qs||this.resourceTreeModel().target()}}navigate(e){this.#ys=e.loaderId;this.#u=e.name;this.#ps=e.url;this.#Us=e.domainAndRegistry;this.#_s=e.securityOrigin;void this.getStorageKey(true);this.#Ws=e.unreachableUrl||jt.DevToolsPath.EmptyUrlString;this.#Vs=e?.adFrameStatus;this.#js=e.secureContextType;this.#Gs=e.crossOriginIsolatedContextType;this.#zs=e.gatedAPIFeatures;this.backForwardCacheDetails={restoredFromCache:void 0,explanations:[],explanationsTree:void 0};const t=this.resourcesMap.get(this.#ps);this.resourcesMap.clear();this.removeChildFrames();if(t&&t.loaderId===this.#ys){this.addResource(t)}}resourceTreeModel(){return this.#ei}get id(){return this.#C}get name(){return this.#u||""}get url(){return this.#ps}domainAndRegistry(){return this.#Us}async getAdScriptId(e){const t=await this.#ei.agent.invoke_getAdScriptId({frameId:e});return t.adScriptId||null}get securityOrigin(){return this.#_s}getStorageKey(e){if(!this.#qs||e){this.#qs=this.#ei.storageKeyForFrame(this.#C)}return this.#qs}unreachableUrl(){return this.#Ws}get loaderId(){return this.#ys}adFrameType(){return this.#Vs?.adFrameType||F.AdFrameType.None}adFrameStatus(){return this.#Vs}get childFrames(){return[...this.#Xs]}sameTargetParentFrame(){return this.#Hs}crossTargetParentFrame(){if(!this.crossTargetParentFrameId){return null}const e=this.#ei.target().parentTarget();if(e?.type()!==rt.FRAME){return null}const t=e.model(Ca);if(!t){return null}return t.framesInternal.get(this.crossTargetParentFrameId)||null}parentFrame(){return this.sameTargetParentFrame()||this.crossTargetParentFrame()}isMainFrame(){return!this.#Hs}isOutermostFrame(){return this.#ei.target().parentTarget()?.type()!==rt.FRAME&&!this.#Hs&&!this.crossTargetParentFrameId}isPrimaryFrame(){return!this.#Hs&&this.#ei.target()===ut.instance().primaryPageTarget()}removeChildFrame(e,t){this.#Xs.delete(e);e.remove(t)}removeChildFrames(){const e=this.#Xs;this.#Xs=new Set;for(const t of e){t.remove(false)}}remove(e){this.removeChildFrames();this.#ei.framesInternal.delete(this.id);this.#ei.dispatchEventToListeners("FrameDetached",{frame:this,isSwap:e})}addResource(e){if(this.resourcesMap.get(e.url)===e){return}this.resourcesMap.set(e.url,e);this.#ei.dispatchEventToListeners("ResourceAdded",e)}addRequest(e){let t=this.resourcesMap.get(e.url());if(t&&t.request===e){return}t=new pa(this.#ei,e,e.url(),e.documentURL,e.frameId,e.loaderId,e.resourceType(),e.mimeType,null,null);this.resourcesMap.set(t.url,t);this.#ei.dispatchEventToListeners("ResourceAdded",t)}resources(){return Array.from(this.resourcesMap.values())}resourceForURL(e){const t=this.resourcesMap.get(e);if(t){return t}for(const t of this.#Xs){const r=t.resourceForURL(e);if(r){return r}}return null}callForFrameResources(e){for(const t of this.resourcesMap.values()){if(e(t)){return true}}for(const t of this.#Xs){if(t.callForFrameResources(e)){return true}}return false}displayName(){if(this.isOutermostFrame()){return Vt.i18n.lockedString("top")}const e=new Wt.ParsedURL.ParsedURL(this.#ps).displayName;if(e){if(!this.#u){return e}return this.#u+" ("+e+")"}return Vt.i18n.lockedString("iframe")}async getOwnerDeferredDOMNode(){const e=this.parentFrame();if(!e){return null}return e.resourceTreeModel().domModel().getOwnerNodeForFrame(this.#C)}async getOwnerDOMNodeOrDocument(){const e=await this.getOwnerDeferredDOMNode();if(e){return e.resolvePromise()}if(this.isOutermostFrame()){return this.resourceTreeModel().domModel().requestDocument()}return null}async highlight(){const e=this.parentFrame();const t=this.resourceTreeModel().target().parentTarget();const r=async e=>{const t=await e.getOwnerNodeForFrame(this.#C);if(t){e.overlayModel().highlightInOverlay({deferredNode:t,selectorList:""},"all",true)}};if(e){return r(e.resourceTreeModel().domModel())}if(t?.type()===rt.FRAME){const e=t.model(sa);if(e){return r(e)}}const n=await this.resourceTreeModel().domModel().requestDocument();if(n){this.resourceTreeModel().domModel().overlayModel().highlightInOverlay({node:n,selectorList:""},"all",true)}}async getPermissionsPolicyState(){const e=await this.resourceTreeModel().target().pageAgent().invoke_getPermissionsPolicyState({frameId:this.#C});if(e.getError()){return null}return e.states}async getOriginTrials(){const e=await this.resourceTreeModel().target().pageAgent().invoke_getOriginTrials({frameId:this.#C});if(e.getError()){return[]}return e.originTrials}setCreationStackTrace(e){this.#Ks=e.creationStackTrace;this.#Qs=e.creationStackTraceTarget}setBackForwardCacheDetails(e){this.backForwardCacheDetails.restoredFromCache=false;this.backForwardCacheDetails.explanations=e.notRestoredExplanations;this.backForwardCacheDetails.explanationsTree=e.notRestoredExplanationsTree}getResourcesMap(){return this.resourcesMap}};var Ea=class{#Xr;constructor(e){this.#Xr=e}backForwardCacheNotUsed(e){this.#Xr.onBackForwardCacheNotUsed(e)}domContentEventFired({timestamp:e}){this.#Xr.dispatchEventToListeners("DOMContentLoaded",e)}loadEventFired({timestamp:e}){this.#Xr.dispatchEventToListeners("Load",{resourceTreeModel:this.#Xr,loadTime:e})}lifecycleEvent({frameId:e,name:t}){this.#Xr.dispatchEventToListeners("LifecycleEvent",{frameId:e,name:t})}frameAttached({frameId:e,parentFrameId:t,stack:r}){this.#Xr.frameAttached(e,t,r)}frameNavigated({frame:e,type:t}){this.#Xr.frameNavigated(e,t)}documentOpened({frame:e}){this.#Xr.documentOpened(e)}frameDetached({frameId:e,reason:t}){this.#Xr.frameDetached(e,t===F.FrameDetachedEventReason.Swap)}frameSubtreeWillBeDetached(e){}frameStartedLoading({}){}frameStoppedLoading({}){}frameRequestedNavigation({}){}frameScheduledNavigation({}){}frameClearedScheduledNavigation({}){}navigatedWithinDocument({}){}frameResized(){this.#Xr.dispatchEventToListeners("FrameResized")}javascriptDialogOpening(e){this.#Xr.dispatchEventToListeners("JavaScriptDialogOpening",e);if(!e.hasBrowserHandler){void this.#Xr.agent.invoke_handleJavaScriptDialog({accept:false})}}javascriptDialogClosed({}){}screencastFrame({}){}screencastVisibilityChanged({}){}interstitialShown(){this.#Xr.isInterstitialShowing=true;this.#Xr.dispatchEventToListeners("InterstitialShown")}interstitialHidden(){this.#Xr.isInterstitialShowing=false;this.#Xr.dispatchEventToListeners("InterstitialHidden")}windowOpen({}){}compilationCacheProduced({}){}fileChooserOpened({}){}downloadWillBegin({}){}downloadProgress(){}};p.register(Ca,{capabilities:nt.DOM,autostart:true,early:true});var Pa=(e=>{e["NAVIGATION"]="Navigation";e["ACTIVATION"]="Activation";return e})(Pa||{});var xa=class extends p{#Js;#$s;#Ys;#Zs;constructor(e){super(e);this.#Ys=new We.Throttler.Throttler(300);this.#Js=new Map;this.#$s=new Map;this.#Zs=new Map;e.model(Ca)?.addEventListener(Ra.PrimaryPageChanged,this.#eo,this);e.model(kt)?.addEventListener(wt.ResponseReceived,this.#to,this);e.model(kt)?.addEventListener(wt.LoadingFinished,this.#ro,this)}addBlockedCookie(e,t){const r=e.key();const n=this.#Js.get(r);this.#Js.set(r,e);if(t){this.#$s.set(e,t)}else{this.#$s.delete(e)}if(n){this.#$s.delete(n)}}removeBlockedCookie(e){this.#Js.delete(e.key())}async#eo(){this.#Js.clear();this.#$s.clear();await this.#no()}getCookieToBlockedReasonsMap(){return this.#$s}async#io(e){const t=this.target().networkAgent();const r=new Map(await Promise.all(e.keysArray().map((r=>t.invoke_getCookies({urls:[...e.get(r).values()]}).then((({cookies:e})=>[r,e.map(He.fromProtocolCookie)]))))));const n=this.#so(r);this.#Zs=r;if(n){this.dispatchEventToListeners("CookieListUpdated")}}async deleteCookie(e){await this.deleteCookies([e])}async clear(e,t){if(!this.#oo()){await this.#ao()}const r=e?this.#Zs.get(e)||[]:[...this.#Zs.values()].flat();r.push(...this.#Js.values());if(t){const e=r.filter((e=>e.matchesSecurityOrigin(t)));await this.deleteCookies(e)}else{await this.deleteCookies(r)}}async saveCookie(e){let t=e.domain();if(!t.startsWith(".")){t=""}let r=void 0;if(e.expires()){r=Math.floor(Date.parse(`${e.expires()}`)/1e3)}const n=je.Runtime.experiments.isEnabled("experimental-cookie-features");const i=e=>e===O.CookieSourceScheme.Unset?e:void 0;const s={name:e.name(),value:e.value(),url:e.url()||void 0,domain:t,path:e.path(),secure:e.secure(),httpOnly:e.httpOnly(),sameSite:e.sameSite(),expires:r,priority:e.priority(),partitionKey:e.partitionKey(),sourceScheme:n?e.sourceScheme():i(e.sourceScheme()),sourcePort:n?e.sourcePort():void 0};const o=await this.target().networkAgent().invoke_setCookie(s);const a=o.getError();if(a||!o.success){return false}await this.#ao();return o.success}async getCookiesForDomain(e,t){if(!this.#oo()||t){await this.#ao()}const r=this.#Zs.get(e)||[];return r.concat(Array.from(this.#Js.values()))}async deleteCookies(e){const t=this.target().networkAgent();this.#Js.clear();this.#$s.clear();await Promise.all(e.map((e=>t.invoke_deleteCookies({name:e.name(),url:void 0,domain:e.domain(),path:e.path(),partitionKey:e.partitionKey()}))));await this.#ao()}#oo(){return Boolean(this.listeners?.size)}#so(e){if(e.size!==this.#Zs.size){return true}for(const[t,r]of e){if(!this.#Zs.has(t)){return true}const e=this.#Zs.get(t)||[];if(r.length!==e.length){return true}const n=e=>e.key()+" "+e.value();const i=new Set(e.map(n));for(const e of r){if(!i.has(n(e))){return true}}}return false}#ao(){return this.#Ys.schedule((()=>this.#no()))}#no(){const e=new Ve.MapUtilities.Multimap;function t(t){const r=We.ParsedURL.ParsedURL.fromString(t.documentURL);if(r){e.set(r.securityOrigin(),t.url)}return false}const r=this.target().model(Ca);if(r){const n=r.mainFrame?.unreachableUrl();if(n){const t=We.ParsedURL.ParsedURL.fromString(n);if(t){e.set(t.securityOrigin(),n)}}r.forAllResources(t)}return this.#io(e)}#to(){if(this.#oo()){void this.#ao()}}#ro(){if(this.#oo()){void this.#ao()}}};p.register(xa,{capabilities:nt.NETWORK,autostart:false});var Ma=(e=>{e["COOKIE_LIST_UPDATED"]="CookieListUpdated";return e})(Ma||{});var Aa={};a(Aa,{CookieParser:()=>La});var La=class e{#lo;#do;#co;#uo;#ho;#go;#po;constructor(e){if(e){this.#lo=e.toLowerCase().replace(/^\./,"")}this.#do=[];this.#uo=0}static parseSetCookie(t,r){return new e(r).parseSetCookie(t)}getCookieAttribute(e){if(!e){return null}switch(e.toLowerCase()){case"domain":return _e.DOMAIN;case"expires":return _e.EXPIRES;case"max-age":return _e.MAX_AGE;case"httponly":return _e.HTTP_ONLY;case"name":return _e.NAME;case"path":return _e.PATH;case"samesite":return _e.SAME_SITE;case"secure":return _e.SECURE;case"value":return _e.VALUE;case"priority":return _e.PRIORITY;case"sourceport":return _e.SOURCE_PORT;case"sourcescheme":return _e.SOURCE_SCHEME;case"partitioned":return _e.PARTITIONED;default:console.error("Failed getting cookie attribute: "+e);return null}}cookies(){return this.#do}parseSetCookie(e){if(!this.initialize(e)){return null}for(let e=this.extractKeyValue();e;e=this.extractKeyValue()){if(this.#ho){this.#ho.addAttribute(this.getCookieAttribute(e.key),e.value)}else{this.addCookie(e,Ue.RESPONSE)}if(this.advanceAndCheckCookieDelimiter()){this.flushCookie()}}this.flushCookie();return this.#do}initialize(e){this.#co=e;if(typeof e!=="string"){return false}this.#do=[];this.#ho=null;this.#go="";this.#uo=this.#co.length;return true}flushCookie(){if(this.#ho){this.#ho.setSize(this.#uo-this.#co.length-this.#po);this.#ho.setCookieLine(this.#go.replace("\n",""))}this.#ho=null;this.#go=""}extractKeyValue(){if(!this.#co||!this.#co.length){return null}const e=/^[ \t]*([^=;\n]+)[ \t]*(?:=[ \t]*([^;\n]*))?/.exec(this.#co);if(!e){console.error("Failed parsing cookie header before: "+this.#co);return null}const t=new Na(e[1]&&e[1].trim(),e[2]&&e[2].trim(),this.#uo-this.#co.length);this.#go+=e[0];this.#co=this.#co.slice(e[0].length);return t}advanceAndCheckCookieDelimiter(){if(!this.#co){return false}const e=/^\s*[\n;]\s*/.exec(this.#co);if(!e){return false}this.#go+=e[0];this.#co=this.#co.slice(e[0].length);return e[0].match("\n")!==null}addCookie(e,t){if(this.#ho){this.#ho.setSize(e.position-this.#po)}this.#ho=typeof e.value==="string"?new He(e.key,e.value,t):new He("",e.key,t);if(this.#lo){this.#ho.addAttribute(_e.DOMAIN,this.#lo)}this.#po=e.position;this.#do.push(this.#ho)}};var Na=class{key;value;position;constructor(e,t,r){this.key=e;this.value=t;this.position=r}};import*as Oa from"./../i18n/i18n.js";function Da(e){const t={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Content",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};return Oa.i18n.lockedString(t[e]??"")}import*as Fa from"./../../models/text_utils/text_utils.js";var Ba={};a(Ba,{ServerSentEventsParser:()=>Ha});var Ha=class{#mo;#fo;#yo=false;#So="";#vo="";#bo="";#Io="";constructor(e,t){this.#mo=e;this.#fo=new Ua(this.#ko.bind(this),t)}async addBase64Chunk(e){await this.#fo.addBase64Chunk(e)}#ko(e){let t=0;for(let r=0;r<e.length;++r){if(this.#yo&&e[r]==="\n"){this.#yo=false;++t;continue}this.#yo=false;if(e[r]==="\r"||e[r]==="\n"){this.#So+=e.substring(t,r);this.#wo();this.#So="";t=r+1;this.#yo=e[r]==="\r"}}this.#So+=e.substring(t)}#wo(){if(this.#So.length===0){if(this.#bo.length>0){const e=this.#bo.slice(0,-1);this.#mo(this.#Io||"message",e,this.#vo);this.#bo=""}this.#Io="";return}let e=this.#So.indexOf(":");let t;if(e<0){e=this.#So.length;t=e}else{t=e+1;if(t<this.#So.length&&this.#So[t]===" "){++t}}const r=this.#So.substring(0,e);if(r==="event"){this.#Io=this.#So.substring(t);return}if(r==="data"){this.#bo+=this.#So.substring(t);this.#bo+="\n"}if(r==="id"){this.#vo=this.#So.substring(t)}}};var Ua=class{#fo;#Co;constructor(e,t){this.#fo=new TextDecoderStream(t);this.#Co=this.#fo.writable.getWriter();void this.#fo.readable.pipeTo(new WritableStream({write:e}))}async addBase64Chunk(e){const t=window.atob(e);const r=Uint8Array.from(t,(e=>e.codePointAt(0)));await this.#Co.ready;await this.#Co.write(r)}};var _a=class{#Ro;#To;#Eo=0;#Po=[];constructor(e,t){this.#Ro=e;if(t){this.#Eo=e.pseudoWallTime(e.startTime);this.#To=new Ha(this.#xo.bind(this),e.charset()??void 0);void this.#Ro.requestStreamingContent().then((t=>{if(!Fa.StreamingContentData.isError(t)){void this.#To?.addBase64Chunk(t.content().base64);t.addEventListener(Fa.StreamingContentData.Events.CHUNK_ADDED,(({data:{chunk:t}})=>{this.#Eo=e.pseudoWallTime(e.endTime);void this.#To?.addBase64Chunk(t)}))}}))}}get eventSourceMessages(){return this.#Po}onProtocolEventSourceMessageReceived(e,t,r,n){this.#Mo({eventName:e,eventId:r,data:t,time:n})}#xo(e,t,r){this.#Mo({eventName:e,eventId:r,data:t,time:this.#Eo})}#Mo(e){this.#Po.push(e);this.#Ro.dispatchEventToListeners(Za.EVENT_SOURCE_MESSAGE_ADDED,e)}};var qa={};a(qa,{ServerTiming:()=>Qa});import*as Wa from"./../i18n/i18n.js";import*as Va from"./../platform/platform.js";var ja={deprecatedSyntaxFoundPleaseUse:"Deprecated syntax found. Please use: <name>;dur=<duration>;desc=<description>",duplicateParameterSIgnored:'Duplicate parameter "{PH1}" ignored.',noValueFoundForParameterS:'No value found for parameter "{PH1}".',unrecognizedParameterS:'Unrecognized parameter "{PH1}".',extraneousTrailingCharacters:"Extraneous trailing characters.",unableToParseSValueS:'Unable to parse "{PH1}" value "{PH2}".'};var Ga=Wa.i18n.registerUIStrings("core/sdk/ServerTiming.ts",ja);var za=Wa.i18n.getLocalizedString.bind(void 0,Ga);var Ka={deprecratedSyntax:()=>za(ja.deprecatedSyntaxFoundPleaseUse),duplicateParameter:e=>za(ja.duplicateParameterSIgnored,{PH1:e}),noValueFoundForParameter:e=>za(ja.noValueFoundForParameterS,{PH1:e}),unrecognizedParameter:e=>za(ja.unrecognizedParameterS,{PH1:e}),extraneousTrailingCharacters:()=>za(ja.extraneousTrailingCharacters),unableToParseValue:(e,t)=>za(ja.unableToParseSValueS,{PH1:e,PH2:t})};var Qa=class extends Va.ServerTiming.ServerTiming{static parseHeaders(e){return Va.ServerTiming.ServerTiming.parseHeaders(e,Ka)}static createFromHeaderValue(e){return Va.ServerTiming.ServerTiming.createFromHeaderValue(e,Ka)}static getParserForParameter(e){return Va.ServerTiming.ServerTiming.getParserForParameter(e,Ka)}};var Xa={binary:"(binary)",secureOnly:'This cookie was blocked because it had the "`Secure`" attribute and the connection was not secure.',notOnPath:"This cookie was blocked because its path was not an exact match for or a superdirectory of the request url's path.",domainMismatch:"This cookie was blocked because neither did the request URL's domain exactly match the cookie's domain, nor was the request URL's domain a subdomain of the cookie's Domain attribute value.",sameSiteStrict:'This cookie was blocked because it had the "`SameSite=Strict`" attribute and the request was made from a different site. This includes top-level navigation requests initiated by other sites.',sameSiteLax:'This cookie was blocked because it had the "`SameSite=Lax`" attribute and the request was made from a different site and was not initiated by a top-level navigation.',sameSiteUnspecifiedTreatedAsLax:'This cookie didn\'t specify a "`SameSite`" attribute when it was stored and was defaulted to "SameSite=Lax," and was blocked because the request was made from a different site and was not initiated by a top-level navigation. The cookie had to have been set with "`SameSite=None`" to enable cross-site usage.',sameSiteNoneInsecure:'This cookie was blocked because it had the "`SameSite=None`" attribute but was not marked "Secure". Cookies without SameSite restrictions must be marked "Secure" and sent over a secure connection.',userPreferences:"This cookie was blocked due to user preferences.",thirdPartyPhaseout:"This cookie was blocked either because of Chrome flags or browser configuration. Learn more in the Issues panel.",unknownError:"An unknown error was encountered when trying to send this cookie.",schemefulSameSiteStrict:'This cookie was blocked because it had the "`SameSite=Strict`" attribute but the request was cross-site. This includes top-level navigation requests initiated by other sites. This request is considered cross-site because the URL has a different scheme than the current site.',schemefulSameSiteLax:'This cookie was blocked because it had the "`SameSite=Lax`" attribute but the request was cross-site and was not initiated by a top-level navigation. This request is considered cross-site because the URL has a different scheme than the current site.',schemefulSameSiteUnspecifiedTreatedAsLax:'This cookie didn\'t specify a "`SameSite`" attribute when it was stored, was defaulted to "`SameSite=Lax"`, and was blocked because the request was cross-site and was not initiated by a top-level navigation. This request is considered cross-site because the URL has a different scheme than the current site.',samePartyFromCrossPartyContext:"This cookie was blocked because it had the \"`SameParty`\" attribute but the request was cross-party. The request was considered cross-party because the domain of the resource's URL and the domains of the resource's enclosing frames/documents are neither owners nor members in the same First-Party Set.",nameValuePairExceedsMaxSize:"This cookie was blocked because it was too large. The combined size of the name and value must be less than or equal to 4096 characters.",thisSetcookieWasBlockedDueToUser:"This attempt to set a cookie via a `Set-Cookie` header was blocked due to user preferences.",thisSetcookieWasBlockedDueThirdPartyPhaseout:"Setting this cookie was blocked either because of Chrome flags or browser configuration. Learn more in the Issues panel.",thisSetcookieHadInvalidSyntax:"This `Set-Cookie` header had invalid syntax.",thisSetcookieHadADisallowedCharacter:"This `Set-Cookie` header contained a disallowed character (a forbidden ASCII control character, or the tab character if it appears in the middle of the cookie name, value, an attribute name, or an attribute value).",theSchemeOfThisConnectionIsNot:"The scheme of this connection is not allowed to store cookies.",anUnknownErrorWasEncounteredWhenTrying:"An unknown error was encountered when trying to store this cookie.",thisSetcookieWasBlockedBecauseItHadTheSamesiteStrictLax:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the "{PH1}" attribute but came from a cross-site response which was not the response to a top-level navigation. This response is considered cross-site because the URL has a different scheme than the current site.',thisSetcookieDidntSpecifyASamesite:'This `Set-Cookie` header didn\'t specify a "`SameSite`" attribute, was defaulted to "`SameSite=Lax"`, and was blocked because it came from a cross-site response which was not the response to a top-level navigation. This response is considered cross-site because the URL has a different scheme than the current site.',thisSetcookieWasBlockedBecauseItHadTheSameparty:"This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the \"`SameParty`\" attribute but the request was cross-party. The request was considered cross-party because the domain of the resource's URL and the domains of the resource's enclosing frames/documents are neither owners nor members in the same First-Party Set.",thisSetcookieWasBlockedBecauseItHadTheSamepartyAttribute:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the "`SameParty`" attribute but also had other conflicting attributes. Chrome requires cookies that use the "`SameParty`" attribute to also have the "Secure" attribute, and to not be restricted to "`SameSite=Strict`".',blockedReasonSecureOnly:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the "Secure" attribute but was not received over a secure connection.',blockedReasonSameSiteStrictLax:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the "{PH1}" attribute but came from a cross-site response which was not the response to a top-level navigation.',blockedReasonSameSiteUnspecifiedTreatedAsLax:'This `Set-Cookie` header didn\'t specify a "`SameSite`" attribute and was defaulted to "`SameSite=Lax,`" and was blocked because it came from a cross-site response which was not the response to a top-level navigation. The `Set-Cookie` had to have been set with "`SameSite=None`" to enable cross-site usage.',blockedReasonSameSiteNoneInsecure:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the "`SameSite=None`" attribute but did not have the "Secure" attribute, which is required in order to use "`SameSite=None`".',blockedReasonOverwriteSecure:"This attempt to set a cookie via a `Set-Cookie` header was blocked because it was not sent over a secure connection and would have overwritten a cookie with the Secure attribute.",blockedReasonInvalidDomain:"This attempt to set a cookie via a `Set-Cookie` header was blocked because its Domain attribute was invalid with regards to the current host url.",blockedReasonInvalidPrefix:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it used the "`__Secure-`" or "`__Host-`" prefix in its name and broke the additional rules applied to cookies with these prefixes as defined in `https://tools.ietf.org/html/draft-west-cookie-prefixes-05`.',thisSetcookieWasBlockedBecauseTheNameValuePairExceedsMaxSize:"This attempt to set a cookie via a `Set-Cookie` header was blocked because the cookie was too large. The combined size of the name and value must be less than or equal to 4096 characters.",setcookieHeaderIsIgnoredIn:"Set-Cookie header is ignored in response from url: {PH1}. The combined size of the name and value must be less than or equal to 4096 characters.",exemptionReasonUserSetting:"This cookie is allowed by user preference.",exemptionReasonTPCDMetadata:"This cookie is allowed by a third-party cookie deprecation trial grace period. Learn more: goo.gle/dt-grace.",exemptionReasonTPCDDeprecationTrial:"This cookie is allowed by third-party cookie deprecation trial. Learn more: goo.gle/ps-dt.",exemptionReasonTopLevelTPCDDeprecationTrial:"This cookie is allowed by top-level third-party cookie deprecation trial. Learn more: goo.gle/ps-dt.",exemptionReasonTPCDHeuristics:"This cookie is allowed by third-party cookie heuristics. Learn more: goo.gle/hbe",exemptionReasonEnterprisePolicy:"This cookie is allowed by Chrome Enterprise policy. Learn more: goo.gle/ce-3pc",exemptionReasonStorageAccessAPI:"This cookie is allowed by the Storage Access API. Learn more: goo.gle/saa",exemptionReasonTopLevelStorageAccessAPI:"This cookie is allowed by the top-level Storage Access API. Learn more: goo.gle/saa-top",exemptionReasonScheme:"This cookie is allowed by the top-level url scheme"};var Ja=Oe.i18n.registerUIStrings("core/sdk/NetworkRequest.ts",Xa);var $a=Oe.i18n.getLocalizedString.bind(void 0,Ja);var Ya=class e extends Ne.ObjectWrapper.ObjectWrapper{#Ao;#Lo;#ms;#fs;#ys;#No;#Oo;#Do;#Fo;#Bo;#Ho;#Uo;#_o;#qo;#Wo;#Vo;#jo;statusCode;statusText;requestMethod;requestTime;protocol;alternateProtocolUsage;mixedContentType;#Go;#zo;#Ko;#Qo;#Xo;#Jo;#$o;#Yo;#Zo;#ea;#ta;#ra;#na;#ia;#sa;#oa;#aa;#la;#da;#ca;#ua;connectionId;connectionReused;hasNetworkData;#ha;#ga;#pa;#ma;#fa;#ya;#Sa;#va;#ba;#Ia;#ka;localizedFailDescription;#ps;#wa;#Ca;#he;#Ra;#Ta;#Ea;#vs;#Pa;#ws;#u;#xa;#Ma;#Aa;#La;#Na;#Oa;#Da;#Fa;#Ba;#Ha;#Ua;#_a;#qa;#Wa;#Va;#ja;#Ga;#za;#Ka;#Qa;#Xa;#Ja;#$a;#Ya;#Za;#el;#tl;#rl=new Map;#nl;#il;#sl;responseReceivedPromise;responseReceivedPromiseResolve;constructor(e,t,r,n,i,s,o,a){super();this.#Ao=e;this.#Lo=t;this.setUrl(r);this.#ms=n;this.#fs=i;this.#ys=s;this.#Oo=o;this.#No=a;this.#Do=null;this.#Fo=null;this.#Bo=null;this.#Ho=false;this.#Uo=null;this.#_o=-1;this.#qo=-1;this.#Wo=-1;this.#Vo=void 0;this.#jo=void 0;this.statusCode=0;this.statusText="";this.requestMethod="";this.requestTime=0;this.protocol="";this.alternateProtocolUsage=void 0;this.mixedContentType=H.MixedContentType.None;this.#Go=null;this.#zo=null;this.#Ko=null;this.#Qo=null;this.#Xo=null;this.#Jo=Ne.ResourceType.resourceTypes.Other;this.#$o=null;this.#Yo=null;this.#Zo=[];this.#ea={};this.#ta="";this.#ra=[];this.#ia=[];this.#sa=[];this.#oa={};this.#aa="";this.#la=O.IPAddressSpace.Unknown;this.#da=null;this.#ca=H.SecurityState.Unknown;this.#ua=null;this.connectionId="0";this.connectionReused=false;this.hasNetworkData=false;this.#ha=null;this.#ga=Promise.resolve(null);this.#pa=false;this.#ma=false;this.#fa=[];this.#ya=[];this.#Sa=[];this.#va=[];this.#ka=false;this.#ba=null;this.#Ia=null;this.localizedFailDescription=null;this.#el=null;this.#tl=false;this.#nl=false;this.#il=false}static create(t,r,n,i,s,o,a){return new e(t,t,r,n,i,s,o,a)}static createForWebSocket(t,r,n){return new e(t,t,r,De.DevToolsPath.EmptyUrlString,null,null,n||null)}static createWithoutBackendRequest(t,r,n,i){return new e(t,void 0,r,n,null,null,i)}identityCompare(e){const t=this.requestId();const r=e.requestId();if(t>r){return 1}if(t<r){return-1}return 0}requestId(){return this.#Ao}backendRequestId(){return this.#Lo}url(){return this.#ps}isBlobRequest(){return Ne.ParsedURL.schemeIs(this.#ps,"blob:")}setUrl(e){if(this.#ps===e){return}this.#ps=e;this.#ws=new Ne.ParsedURL.ParsedURL(e);this.#$a=void 0;this.#Ya=void 0;this.#u=void 0;this.#xa=void 0}get documentURL(){return this.#ms}get parsedURL(){return this.#ws}get frameId(){return this.#fs}get loaderId(){return this.#ys}setRemoteAddress(e,t){this.#aa=e+":"+t;this.dispatchEventToListeners("RemoteAddressChanged",this)}remoteAddress(){return this.#aa}remoteAddressSpace(){return this.#la}getResponseCacheStorageCacheName(){return this.#Na}setResponseCacheStorageCacheName(e){this.#Na=e}serviceWorkerResponseSource(){return this.#Oa}setServiceWorkerResponseSource(e){this.#Oa=e}setReferrerPolicy(e){this.#da=e}referrerPolicy(){return this.#da}securityState(){return this.#ca}setSecurityState(e){this.#ca=e}securityDetails(){return this.#ua}securityOrigin(){return this.#ws.securityOrigin()}setSecurityDetails(e){this.#ua=e}get startTime(){return this.#qo||-1}setIssueTime(e,t){this.#_o=e;this.#Da=t;this.#qo=e}issueTime(){return this.#_o}pseudoWallTime(e){return this.#Da?this.#Da-this.#_o+e:e}get responseReceivedTime(){return this.#wa||-1}set responseReceivedTime(e){this.#wa=e}getResponseRetrievalTime(){return this.#Fa}setResponseRetrievalTime(e){this.#Fa=e}get endTime(){return this.#Wo||-1}set endTime(e){if(this.timing&&this.timing.requestTime){this.#Wo=Math.max(e,this.responseReceivedTime)}else{this.#Wo=e;if(this.#wa>e){this.#wa=e}}this.dispatchEventToListeners("TimingChanged",this)}get duration(){if(this.#Wo===-1||this.#qo===-1){return-1}return this.#Wo-this.#qo}get latency(){if(this.#wa===-1||this.#qo===-1){return-1}return this.#wa-this.#qo}get resourceSize(){return this.#Ba||0}set resourceSize(e){this.#Ba=e}get transferSize(){return this.#Ca||0}increaseTransferSize(e){this.#Ca=(this.#Ca||0)+e}setTransferSize(e){this.#Ca=e}get finished(){return this.#he}set finished(e){if(this.#he===e){return}this.#he=e;if(e){this.dispatchEventToListeners("FinishedLoading",this)}}get failed(){return this.#Ra}set failed(e){this.#Ra=e}get canceled(){return this.#Ta}set canceled(e){this.#Ta=e}get preserved(){return this.#Ea}set preserved(e){this.#Ea=e}blockedReason(){return this.#Vo}setBlockedReason(e){this.#Vo=e}corsErrorStatus(){return this.#jo}setCorsErrorStatus(e){this.#jo=e}wasBlocked(){return Boolean(this.#Vo)}cached(){return(Boolean(this.#Ha)||Boolean(this.#Ua))&&!this.#Ca}cachedInMemory(){return Boolean(this.#Ha)&&!this.#Ca}fromPrefetchCache(){return Boolean(this.#_a)}setFromMemoryCache(){this.#Ha=true;this.#ja=void 0}get fromDiskCache(){return this.#Ua}setFromDiskCache(){this.#Ua=true}setFromPrefetchCache(){this.#_a=true}fromEarlyHints(){return Boolean(this.#qa)}setFromEarlyHints(){this.#qa=true}get fetchedViaServiceWorker(){return Boolean(this.#Wa)}set fetchedViaServiceWorker(e){this.#Wa=e}get serviceWorkerRouterInfo(){return this.#Va}set serviceWorkerRouterInfo(e){this.#Va=e}initiatedByServiceWorker(){const e=kt.forRequest(this);if(!e){return false}return e.target().type()===rt.ServiceWorker}get timing(){return this.#ja}set timing(e){if(!e||this.#Ha){return}this.#qo=e.requestTime;const t=e.requestTime+e.receiveHeadersEnd/1e3;if((this.#wa||-1)<0||this.#wa>t){this.#wa=t}if(this.#qo>this.#wa){this.#wa=this.#qo}this.#ja=e;this.dispatchEventToListeners("TimingChanged",this)}setConnectTimingFromExtraInfo(e){this.#qo=e.requestTime;this.dispatchEventToListeners("TimingChanged",this)}get mimeType(){return this.#vs}set mimeType(e){this.#vs=e;if(e===De.MimeType.MimeType.EVENTSTREAM&&!this.#sl){const e=this.resourceType()!==Ne.ResourceType.resourceTypes.EventSource;this.#sl=new _a(this,e)}}get displayName(){return this.#ws.displayName}name(){if(this.#u){return this.#u}this.parseNameAndPathFromURL();return this.#u}path(){if(this.#xa){return this.#xa}this.parseNameAndPathFromURL();return this.#xa}parseNameAndPathFromURL(){if(this.#ws.isDataURL()){this.#u=this.#ws.dataURLDisplayName();this.#xa=""}else if(this.#ws.isBlobURL()){this.#u=this.#ws.url;this.#xa=""}else if(this.#ws.isAboutBlank()){this.#u=this.#ws.url;this.#xa=""}else{this.#xa=this.#ws.host+this.#ws.folderPathComponents;const e=kt.forRequest(this);const t=e?Ne.ParsedURL.ParsedURL.fromString(e.target().inspectedURL()):null;this.#xa=De.StringUtilities.trimURL(this.#xa,t?t.host:"");if(this.#ws.lastPathComponent||this.#ws.queryParams){this.#u=this.#ws.lastPathComponent+(this.#ws.queryParams?"?"+this.#ws.queryParams:"")}else if(this.#ws.folderPathComponents){this.#u=this.#ws.folderPathComponents.substring(this.#ws.folderPathComponents.lastIndexOf("/")+1)+"/";this.#xa=this.#xa.substring(0,this.#xa.lastIndexOf("/"))}else{this.#u=this.#ws.host;this.#xa=""}}}get folder(){let e=this.#ws.path;const t=e.indexOf("?");if(t!==-1){e=e.substring(0,t)}const r=e.lastIndexOf("/");return r!==-1?e.substring(0,r):""}get pathname(){return this.#ws.path}resourceType(){return this.#Jo}setResourceType(e){this.#Jo=e}get domain(){return this.#ws.host}get scheme(){return this.#ws.scheme}getInferredStatusText(){return this.statusText||Da(this.statusCode)}redirectSource(){return this.#Do}setRedirectSource(e){this.#Do=e}preflightRequest(){return this.#Fo}setPreflightRequest(e){this.#Fo=e}preflightInitiatorRequest(){return this.#Bo}setPreflightInitiatorRequest(e){this.#Bo=e}isPreflightRequest(){return this.#Oo!==null&&this.#Oo!==void 0&&this.#Oo.type===O.InitiatorType.Preflight}redirectDestination(){return this.#Uo}setRedirectDestination(e){this.#Uo=e}requestHeaders(){return this.#sa}setRequestHeaders(e){this.#sa=e;this.dispatchEventToListeners("RequestHeadersChanged")}requestHeadersText(){return this.#Ga}setRequestHeadersText(e){this.#Ga=e;this.dispatchEventToListeners("RequestHeadersChanged")}requestHeaderValue(e){if(this.#oa[e]){return this.#oa[e]}this.#oa[e]=this.computeHeaderValue(this.requestHeaders(),e);return this.#oa[e]}requestFormData(){if(!this.#ga){this.#ga=kt.requestPostData(this)}return this.#ga}setRequestFormData(e,t){this.#ga=e&&t===null?null:Promise.resolve(t);this.#ha=null}filteredProtocolName(){const e=this.protocol.toLowerCase();if(e==="h2"){return"http/2.0"}return e.replace(/^http\/2(\.0)?\+/,"http/2.0+")}requestHttpVersion(){const e=this.requestHeadersText();if(!e){const e=this.requestHeaderValue("version")||this.requestHeaderValue(":version");if(e){return e}return this.filteredProtocolName()}const t=e.split(/\r\n/)[0];const r=t.match(/(HTTP\/\d+\.\d+)$/);return r?r[1]:"HTTP/0.9"}get responseHeaders(){return this.#za||[]}set responseHeaders(e){this.#za=e;this.#Qa=void 0;this.#Ja=void 0;this.#Xa=void 0;this.#ea={};this.dispatchEventToListeners("ResponseHeadersChanged")}get earlyHintsHeaders(){return this.#Ka||[]}set earlyHintsHeaders(e){this.#Ka=e}get originalResponseHeaders(){return this.#ra}set originalResponseHeaders(e){this.#ra=e;this.#na=void 0}get setCookieHeaders(){return this.#ia}set setCookieHeaders(e){this.#ia=e}get responseHeadersText(){return this.#ta}set responseHeadersText(e){this.#ta=e;this.dispatchEventToListeners("ResponseHeadersChanged")}get sortedResponseHeaders(){if(this.#Qa!==void 0){return this.#Qa}this.#Qa=this.responseHeaders.slice();return this.#Qa.sort((function(e,t){return De.StringUtilities.compare(e.name.toLowerCase(),t.name.toLowerCase())}))}get sortedOriginalResponseHeaders(){if(this.#na!==void 0){return this.#na}this.#na=this.originalResponseHeaders.slice();return this.#na.sort((function(e,t){return De.StringUtilities.compare(e.name.toLowerCase(),t.name.toLowerCase())}))}get overrideTypes(){const e=[];if(this.hasOverriddenContent){e.push("content")}if(this.hasOverriddenHeaders()){e.push("headers")}return e}get hasOverriddenContent(){return this.#nl}set hasOverriddenContent(e){this.#nl=e}#ol(e){const t=[];for(const r of e){if(t.length&&t[t.length-1].name===r.name){t[t.length-1].value+=`, ${r.value}`}else{t.push({name:r.name,value:r.value})}}return t}hasOverriddenHeaders(){if(!this.#ra.length){return false}const e=this.#ol(this.sortedResponseHeaders);const t=this.#ol(this.sortedOriginalResponseHeaders);if(e.length!==t.length){return true}for(let r=0;r<e.length;r++){if(e[r].name.toLowerCase()!==t[r].name.toLowerCase()){return true}if(e[r].value!==t[r].value){return true}}return false}responseHeaderValue(e){if(e in this.#ea){return this.#ea[e]}this.#ea[e]=this.computeHeaderValue(this.responseHeaders,e);return this.#ea[e]}wasIntercepted(){return this.#tl}setWasIntercepted(e){this.#tl=e}setEarlyHintsHeaders(e){this.earlyHintsHeaders=e}get responseCookies(){if(!this.#Xa){this.#Xa=La.parseSetCookie(this.responseHeaderValue("Set-Cookie"),this.domain)||[];if(this.#ba){for(const e of this.#Xa){if(e.partitioned()){e.setPartitionKey(this.#ba.topLevelSite,this.#ba.hasCrossSiteAncestor)}}}else if(this.#Ia){for(const e of this.#Xa){e.setPartitionKeyOpaque()}}}return this.#Xa}responseLastModified(){return this.responseHeaderValue("last-modified")}allCookiesIncludingBlockedOnes(){return[...this.includedRequestCookies().map((e=>e.cookie)),...this.responseCookies,...this.blockedRequestCookies().map((e=>e.cookie)),...this.blockedResponseCookies().map((e=>e.cookie))].filter((e=>Boolean(e)))}get serverTimings(){if(typeof this.#Ja==="undefined"){this.#Ja=Qa.parseHeaders(this.responseHeaders)}return this.#Ja}queryString(){if(this.#$a!==void 0){return this.#$a}let e=null;const t=this.url();const r=t.indexOf("?");if(r!==-1){e=t.substring(r+1);const n=e.indexOf("#");if(n!==-1){e=e.substring(0,n)}}this.#$a=e;return this.#$a}get queryParameters(){if(this.#Ya){return this.#Ya}const e=this.queryString();if(!e){return null}this.#Ya=this.parseParameters(e);return this.#Ya}async parseFormParameters(){const e=this.requestContentType();if(!e){return null}if(e.match(/^application\/x-www-form-urlencoded\s*(;.*)?$/i)){const e=await this.requestFormData();if(!e){return null}return this.parseParameters(e)}const t=e.match(/^multipart\/form-data\s*;\s*boundary\s*=\s*(\S+)\s*$/);if(!t){return null}const r=t[1];if(!r){return null}const n=await this.requestFormData();if(!n){return null}return this.parseMultipartFormDataParameters(n,r)}formParameters(){if(!this.#ha){this.#ha=this.parseFormParameters()}return this.#ha}responseHttpVersion(){const e=this.#ta;if(!e){const e=this.responseHeaderValue("version")||this.responseHeaderValue(":version");if(e){return e}return this.filteredProtocolName()}const t=e.split(/\r\n/)[0];const r=t.match(/^(HTTP\/\d+\.\d+)/);return r?r[1]:"HTTP/0.9"}parseParameters(e){function t(e){const t=e.indexOf("=");if(t===-1){return{name:e,value:""}}return{name:e.substring(0,t),value:e.substring(t+1)}}return e.split("&").map(t)}parseMultipartFormDataParameters(e,t){const r=De.StringUtilities.escapeForRegExp(t);const n=new RegExp('^\\r\\ncontent-disposition\\s*:\\s*form-data\\s*;\\s*name="([^"]*)"(?:\\s*;\\s*filename="([^"]*)")?(?:\\r\\ncontent-type\\s*:\\s*([^\\r\\n]*))?\\r\\n\\r\\n(.*)\\r\\n$',"is");const i=e.split(new RegExp(`--${r}(?:--s*$)?`,"g"));return i.reduce(s,[]);function s(e,t){const[r,i,s,o,a]=t.match(n)||[];if(!r){return e}const l=s||o?$a(Xa.binary):a;e.push({name:i,value:l});return e}}computeHeaderValue(e,t){t=t.toLowerCase();const r=[];for(let n=0;n<e.length;++n){if(e[n].name.toLowerCase()===t){r.push(e[n].value)}}if(!r.length){return void 0}if(t==="set-cookie"){return r.join("\n")}return r.join(", ")}requestContentData(){if(this.#$o){return this.#$o}if(this.#Za){this.#$o=this.#Za()}else{this.#$o=kt.requestContentData(this)}return this.#$o}setContentDataProvider(e){console.assert(!this.#$o,"contentData can only be set once.");this.#Za=e}requestStreamingContent(){if(this.#Yo){return this.#Yo}const e=this.finished?this.requestContentData():kt.streamResponseBody(this);this.#Yo=e.then((e=>{if(Le.ContentData.ContentData.isError(e)){return e}return Le.StreamingContentData.StreamingContentData.from(e)}));return this.#Yo}contentURL(){return this.#ps}contentType(){return this.#Jo}async requestContent(){return Le.ContentData.ContentData.asDeferredContent(await this.requestContentData())}async searchInContent(e,t,r){if(!this.#Za){return kt.searchInRequest(this,e,t,r)}const n=await this.requestContentData();if(Le.ContentData.ContentData.isError(n)||!n.isTextContent){return[]}return Le.TextUtils.performSearchInContentData(n,e,t,r)}isHttpFamily(){return Boolean(this.url().match(/^https?:/i))}requestContentType(){return this.requestHeaderValue("Content-Type")}hasErrorStatusCode(){return this.statusCode>=400}setInitialPriority(e){this.#Go=e}initialPriority(){return this.#Go}setPriority(e){this.#zo=e}priority(){return this.#zo||this.#Go||null}setSignedExchangeInfo(e){this.#Ko=e}signedExchangeInfo(){return this.#Ko}setWebBundleInfo(e){this.#Qo=e}webBundleInfo(){return this.#Qo}setWebBundleInnerRequestInfo(e){this.#Xo=e}webBundleInnerRequestInfo(){return this.#Xo}async populateImageSource(e){const t=await this.requestContentData();if(Le.ContentData.ContentData.isError(t)){return}let r=t.asDataUrl();if(r===null&&!this.#Ra){const e=this.responseHeaderValue("cache-control")||"";if(!e.includes("no-cache")){r=this.#ps}}if(r!==null){e.src=r}}initiator(){return this.#Oo||null}hasUserGesture(){return this.#No??null}frames(){return this.#Zo}addProtocolFrameError(e,t){this.addFrame({type:"error",text:e,time:this.pseudoWallTime(t),opCode:-1,mask:false})}addProtocolFrame(e,t,r){const n=r?"send":"receive";this.addFrame({type:n,text:e.payloadData,time:this.pseudoWallTime(t),opCode:e.opcode,mask:e.mask})}addFrame(e){this.#Zo.push(e);this.dispatchEventToListeners("WebsocketFrameAdded",e)}eventSourceMessages(){return this.#sl?.eventSourceMessages??[]}addEventSourceMessage(e,t,r,n){this.#sl?.onProtocolEventSourceMessageReceived(t,n,r,this.pseudoWallTime(e))}markAsRedirect(e){this.#Ho=true;this.#Ao=`${this.#Lo}:redirected.${e}`}isRedirect(){return this.#Ho}setRequestIdForTest(e){this.#Lo=e;this.#Ao=e}charset(){return this.#Pa??null}setCharset(e){this.#Pa=e}addExtraRequestInfo(e){this.#fa=e.blockedRequestCookies;this.#ya=e.includedRequestCookies;this.setRequestHeaders(e.requestHeaders);this.#pa=true;this.setRequestHeadersText("");this.#Ma=e.clientSecurityState;this.setConnectTimingFromExtraInfo(e.connectTiming);this.#ka=e.siteHasCookieInOtherPartition??false;this.#il=this.#fa.some((e=>e.blockedReasons.includes(O.CookieBlockedReason.ThirdPartyPhaseout)))}hasExtraRequestInfo(){return this.#pa}blockedRequestCookies(){return this.#fa}includedRequestCookies(){return this.#ya}hasRequestCookies(){return this.#ya.length>0||this.#fa.length>0}siteHasCookieInOtherPartition(){return this.#ka}static parseStatusTextFromResponseHeadersText(e){const t=e.split("\r")[0].split(" ");return t.slice(2).join(" ")}addExtraResponseInfo(t){this.#Sa=t.blockedResponseCookies;if(t.exemptedResponseCookies){this.#va=t.exemptedResponseCookies}this.#ba=t.cookiePartitionKey?t.cookiePartitionKey:null;this.#Ia=t.cookiePartitionKeyOpaque||null;this.responseHeaders=t.responseHeaders;this.originalResponseHeaders=t.responseHeaders.map((e=>({...e})));if(t.responseHeadersText){this.responseHeadersText=t.responseHeadersText;if(!this.requestHeadersText()){let e=`${this.requestMethod} ${this.parsedURL.path}`;if(this.parsedURL.queryParams){e+=`?${this.parsedURL.queryParams}`}e+=" HTTP/1.1\r\n";for(const{name:t,value:r}of this.requestHeaders()){e+=`${t}: ${r}\r\n`}this.setRequestHeadersText(e)}this.statusText=e.parseStatusTextFromResponseHeadersText(t.responseHeadersText)}this.#la=t.resourceIPAddressSpace;if(t.statusCode){this.statusCode=t.statusCode}this.#ma=true;const r=kt.forRequest(this);if(!r){return}for(const e of this.#Sa){if(e.blockedReasons.includes(O.SetCookieBlockedReason.NameValuePairExceedsMaxSize)){const e=$a(Xa.setcookieHeaderIsIgnoredIn,{PH1:this.url()});r.dispatchEventToListeners(wt.MessageGenerated,{message:e,requestId:this.#Ao,warning:true})}}const n=r.target().model(xa);if(!n){return}for(const e of this.#va){n.removeBlockedCookie(e.cookie)}for(const e of this.#Sa){const t=e.cookie;if(!t){continue}if(e.blockedReasons.includes(O.SetCookieBlockedReason.ThirdPartyPhaseout)){this.#il=true}n.addBlockedCookie(t,e.blockedReasons.map((e=>({attribute:ol(e),uiString:il(e)}))))}}hasExtraResponseInfo(){return this.#ma}blockedResponseCookies(){return this.#Sa}exemptedResponseCookies(){return this.#va}nonBlockedResponseCookies(){const e=this.blockedResponseCookies().map((e=>e.cookieLine));const t=this.responseCookies.filter((t=>{const r=e.indexOf(t.getCookieLine());if(r!==-1){e[r]=null;return false}return true}));return t}responseCookiesPartitionKey(){return this.#ba}responseCookiesPartitionKeyOpaque(){return this.#Ia}redirectSourceSignedExchangeInfoHasNoErrors(){return this.#Do!==null&&this.#Do.#Ko!==null&&!this.#Do.#Ko.errors}clientSecurityState(){return this.#Ma}setTrustTokenParams(e){this.#Aa=e}trustTokenParams(){return this.#Aa}setTrustTokenOperationDoneEvent(e){this.#La=e;this.dispatchEventToListeners("TrustTokenResultAdded")}trustTokenOperationDoneEvent(){return this.#La}setIsSameSite(e){this.#el=e}isSameSite(){return this.#el}getAssociatedData(e){return this.#rl.get(e)||null}setAssociatedData(e,t){this.#rl.set(e,t)}deleteAssociatedData(e){this.#rl.delete(e)}hasThirdPartyCookiePhaseoutIssue(){return this.#il}addDataReceivedEvent({timestamp:e,dataLength:t,encodedDataLength:r,data:n}){this.resourceSize+=t;if(r!==-1){this.increaseTransferSize(r)}this.endTime=e;if(n){void this.#Yo?.then((e=>{if(!Le.StreamingContentData.isError(e)){e.addChunk(n)}}))}}waitForResponseReceived(){if(this.responseReceivedPromise){return this.responseReceivedPromise}const{promise:e,resolve:t}=Promise.withResolvers();this.responseReceivedPromise=e;this.responseReceivedPromiseResolve=t;return this.responseReceivedPromise}};var Za=(e=>{e["FINISHED_LOADING"]="FinishedLoading";e["TIMING_CHANGED"]="TimingChanged";e["REMOTE_ADDRESS_CHANGED"]="RemoteAddressChanged";e["REQUEST_HEADERS_CHANGED"]="RequestHeadersChanged";e["RESPONSE_HEADERS_CHANGED"]="ResponseHeadersChanged";e["WEBSOCKET_FRAME_ADDED"]="WebsocketFrameAdded";e["EVENT_SOURCE_MESSAGE_ADDED"]="EventSourceMessageAdded";e["TRUST_TOKEN_RESULT_ADDED"]="TrustTokenResultAdded";return e})(Za||{});var el=(e=>{e["OTHER"]="other";e["PARSER"]="parser";e["REDIRECT"]="redirect";e["SCRIPT"]="script";e["PRELOAD"]="preload";e["SIGNED_EXCHANGE"]="signedExchange";e["PREFLIGHT"]="preflight";return e})(el||{});var tl=(e=>{e["Send"]="send";e["Receive"]="receive";e["Error"]="error";return e})(tl||{});var rl=function(e){switch(e){case O.CookieExemptionReason.UserSetting:return $a(Xa.exemptionReasonUserSetting);case O.CookieExemptionReason.TPCDMetadata:return $a(Xa.exemptionReasonTPCDMetadata);case O.CookieExemptionReason.TopLevelTPCDDeprecationTrial:return $a(Xa.exemptionReasonTopLevelTPCDDeprecationTrial);case O.CookieExemptionReason.TPCDDeprecationTrial:return $a(Xa.exemptionReasonTPCDDeprecationTrial);case O.CookieExemptionReason.TPCDHeuristics:return $a(Xa.exemptionReasonTPCDHeuristics);case O.CookieExemptionReason.EnterprisePolicy:return $a(Xa.exemptionReasonEnterprisePolicy);case O.CookieExemptionReason.StorageAccess:return $a(Xa.exemptionReasonStorageAccessAPI);case O.CookieExemptionReason.TopLevelStorageAccess:return $a(Xa.exemptionReasonTopLevelStorageAccessAPI);case O.CookieExemptionReason.Scheme:return $a(Xa.exemptionReasonScheme)}return""};var nl=function(e){switch(e){case O.CookieBlockedReason.SecureOnly:return $a(Xa.secureOnly);case O.CookieBlockedReason.NotOnPath:return $a(Xa.notOnPath);case O.CookieBlockedReason.DomainMismatch:return $a(Xa.domainMismatch);case O.CookieBlockedReason.SameSiteStrict:return $a(Xa.sameSiteStrict);case O.CookieBlockedReason.SameSiteLax:return $a(Xa.sameSiteLax);case O.CookieBlockedReason.SameSiteUnspecifiedTreatedAsLax:return $a(Xa.sameSiteUnspecifiedTreatedAsLax);case O.CookieBlockedReason.SameSiteNoneInsecure:return $a(Xa.sameSiteNoneInsecure);case O.CookieBlockedReason.UserPreferences:return $a(Xa.userPreferences);case O.CookieBlockedReason.UnknownError:return $a(Xa.unknownError);case O.CookieBlockedReason.SchemefulSameSiteStrict:return $a(Xa.schemefulSameSiteStrict);case O.CookieBlockedReason.SchemefulSameSiteLax:return $a(Xa.schemefulSameSiteLax);case O.CookieBlockedReason.SchemefulSameSiteUnspecifiedTreatedAsLax:return $a(Xa.schemefulSameSiteUnspecifiedTreatedAsLax);case O.CookieBlockedReason.SamePartyFromCrossPartyContext:return $a(Xa.samePartyFromCrossPartyContext);case O.CookieBlockedReason.NameValuePairExceedsMaxSize:return $a(Xa.nameValuePairExceedsMaxSize);case O.CookieBlockedReason.ThirdPartyPhaseout:return $a(Xa.thirdPartyPhaseout)}return""};var il=function(e){switch(e){case O.SetCookieBlockedReason.SecureOnly:return $a(Xa.blockedReasonSecureOnly);case O.SetCookieBlockedReason.SameSiteStrict:return $a(Xa.blockedReasonSameSiteStrictLax,{PH1:"SameSite=Strict"});case O.SetCookieBlockedReason.SameSiteLax:return $a(Xa.blockedReasonSameSiteStrictLax,{PH1:"SameSite=Lax"});case O.SetCookieBlockedReason.SameSiteUnspecifiedTreatedAsLax:return $a(Xa.blockedReasonSameSiteUnspecifiedTreatedAsLax);case O.SetCookieBlockedReason.SameSiteNoneInsecure:return $a(Xa.blockedReasonSameSiteNoneInsecure);case O.SetCookieBlockedReason.UserPreferences:return $a(Xa.thisSetcookieWasBlockedDueToUser);case O.SetCookieBlockedReason.SyntaxError:return $a(Xa.thisSetcookieHadInvalidSyntax);case O.SetCookieBlockedReason.SchemeNotSupported:return $a(Xa.theSchemeOfThisConnectionIsNot);case O.SetCookieBlockedReason.OverwriteSecure:return $a(Xa.blockedReasonOverwriteSecure);case O.SetCookieBlockedReason.InvalidDomain:return $a(Xa.blockedReasonInvalidDomain);case O.SetCookieBlockedReason.InvalidPrefix:return $a(Xa.blockedReasonInvalidPrefix);case O.SetCookieBlockedReason.UnknownError:return $a(Xa.anUnknownErrorWasEncounteredWhenTrying);case O.SetCookieBlockedReason.SchemefulSameSiteStrict:return $a(Xa.thisSetcookieWasBlockedBecauseItHadTheSamesiteStrictLax,{PH1:"SameSite=Strict"});case O.SetCookieBlockedReason.SchemefulSameSiteLax:return $a(Xa.thisSetcookieWasBlockedBecauseItHadTheSamesiteStrictLax,{PH1:"SameSite=Lax"});case O.SetCookieBlockedReason.SchemefulSameSiteUnspecifiedTreatedAsLax:return $a(Xa.thisSetcookieDidntSpecifyASamesite);case O.SetCookieBlockedReason.SamePartyFromCrossPartyContext:return $a(Xa.thisSetcookieWasBlockedBecauseItHadTheSameparty);case O.SetCookieBlockedReason.SamePartyConflictsWithOtherAttributes:return $a(Xa.thisSetcookieWasBlockedBecauseItHadTheSamepartyAttribute);case O.SetCookieBlockedReason.NameValuePairExceedsMaxSize:return $a(Xa.thisSetcookieWasBlockedBecauseTheNameValuePairExceedsMaxSize);case O.SetCookieBlockedReason.DisallowedCharacter:return $a(Xa.thisSetcookieHadADisallowedCharacter);case O.SetCookieBlockedReason.ThirdPartyPhaseout:return $a(Xa.thisSetcookieWasBlockedDueThirdPartyPhaseout)}return""};var sl=function(e){switch(e){case O.CookieBlockedReason.SecureOnly:return _e.SECURE;case O.CookieBlockedReason.NotOnPath:return _e.PATH;case O.CookieBlockedReason.DomainMismatch:return _e.DOMAIN;case O.CookieBlockedReason.SameSiteStrict:case O.CookieBlockedReason.SameSiteLax:case O.CookieBlockedReason.SameSiteUnspecifiedTreatedAsLax:case O.CookieBlockedReason.SameSiteNoneInsecure:case O.CookieBlockedReason.SchemefulSameSiteStrict:case O.CookieBlockedReason.SchemefulSameSiteLax:case O.CookieBlockedReason.SchemefulSameSiteUnspecifiedTreatedAsLax:return _e.SAME_SITE;case O.CookieBlockedReason.SamePartyFromCrossPartyContext:case O.CookieBlockedReason.NameValuePairExceedsMaxSize:case O.CookieBlockedReason.UserPreferences:case O.CookieBlockedReason.ThirdPartyPhaseout:case O.CookieBlockedReason.UnknownError:return null}return null};var ol=function(e){switch(e){case O.SetCookieBlockedReason.SecureOnly:case O.SetCookieBlockedReason.OverwriteSecure:return _e.SECURE;case O.SetCookieBlockedReason.SameSiteStrict:case O.SetCookieBlockedReason.SameSiteLax:case O.SetCookieBlockedReason.SameSiteUnspecifiedTreatedAsLax:case O.SetCookieBlockedReason.SameSiteNoneInsecure:case O.SetCookieBlockedReason.SchemefulSameSiteStrict:case O.SetCookieBlockedReason.SchemefulSameSiteLax:case O.SetCookieBlockedReason.SchemefulSameSiteUnspecifiedTreatedAsLax:return _e.SAME_SITE;case O.SetCookieBlockedReason.InvalidDomain:return _e.DOMAIN;case O.SetCookieBlockedReason.InvalidPrefix:return _e.NAME;case O.SetCookieBlockedReason.SamePartyConflictsWithOtherAttributes:case O.SetCookieBlockedReason.SamePartyFromCrossPartyContext:case O.SetCookieBlockedReason.NameValuePairExceedsMaxSize:case O.SetCookieBlockedReason.UserPreferences:case O.SetCookieBlockedReason.ThirdPartyPhaseout:case O.SetCookieBlockedReason.SyntaxError:case O.SetCookieBlockedReason.SchemeNotSupported:case O.SetCookieBlockedReason.UnknownError:case O.SetCookieBlockedReason.DisallowedCharacter:return null}return null};var al={};a(al,{AccessibilityModel:()=>ul,AccessibilityNode:()=>dl,CoreAxPropertyName:()=>ll,Events:()=>cl});var ll=(e=>{e["NAME"]="name";e["DESCRIPTION"]="description";e["VALUE"]="value";e["ROLE"]="role";return e})(ll||{});var dl=class{#al;#C;#ll;#dl;#cl;#ul;#hl;#u;#Xt;#h;#gl;#pl;#ml;#fl;constructor(e,t){this.#al=e;this.#C=t.nodeId;e.setAXNodeForAXId(this.#C,this);if(t.backendDOMNodeId){e.setAXNodeForBackendDOMNodeId(t.backendDOMNodeId,this);this.#ll=t.backendDOMNodeId;this.#dl=new ra(e.target(),t.backendDOMNodeId)}else{this.#ll=null;this.#dl=null}this.#cl=t.ignored;if(this.#cl&&"ignoredReasons"in t){this.#ul=t.ignoredReasons}this.#hl=t.role||null;this.#u=t.name||null;this.#Xt=t.description||null;this.#h=t.value||null;this.#gl=t.properties||null;this.#fl=[...new Set(t.childIds)];this.#pl=t.parentId||null;if(t.frameId&&!t.parentId){this.#ml=t.frameId;e.setRootAXNodeForFrameId(t.frameId,this)}else{this.#ml=null}}id(){return this.#C}accessibilityModel(){return this.#al}ignored(){return this.#cl}ignoredReasons(){return this.#ul||null}role(){return this.#hl||null}coreProperties(){const e=[];if(this.#u){e.push({name:"name",value:this.#u})}if(this.#Xt){e.push({name:"description",value:this.#Xt})}if(this.#h){e.push({name:"value",value:this.#h})}return e}name(){return this.#u||null}description(){return this.#Xt||null}value(){return this.#h||null}properties(){return this.#gl||null}parentNode(){if(this.#pl){return this.#al.axNodeForId(this.#pl)}return null}isDOMNode(){return Boolean(this.#ll)}backendDOMNodeId(){return this.#ll}deferredDOMNode(){return this.#dl}highlightDOMNode(){const e=this.deferredDOMNode();if(!e){return}e.highlight()}children(){if(!this.#fl){return[]}const e=[];for(const t of this.#fl){const r=this.#al.axNodeForId(t);if(r){e.push(r)}}return e}numChildren(){if(!this.#fl){return 0}return this.#fl.length}hasOnlyUnloadedChildren(){if(!this.#fl||!this.#fl.length){return false}return this.#fl.every((e=>this.#al.axNodeForId(e)===null))}hasUnloadedChildren(){if(!this.#fl||!this.#fl.length){return false}return this.#fl.some((e=>this.#al.axNodeForId(e)===null))}getFrameId(){return this.#ml||this.parentNode()?.getFrameId()||null}};var cl=(e=>{e["TREE_UPDATED"]="TreeUpdated";return e})(cl||{});var ul=class extends p{agent;#yl;#Sl;#vl;#bl;#Il;constructor(e){super(e);e.registerAccessibilityDispatcher(this);this.agent=e.accessibilityAgent();void this.resumeModel();this.#yl=new Map;this.#Sl=new Map;this.#vl=new Map;this.#bl=new Map;this.#Il=null}clear(){this.#Il=null;this.#yl.clear();this.#Sl.clear();this.#vl.clear()}async resumeModel(){await this.agent.invoke_enable()}async suspendModel(){await this.agent.invoke_disable()}async requestPartialAXTree(e){const{nodes:t}=await this.agent.invoke_getPartialAXTree({nodeId:e.id,fetchRelatives:true});if(!t){return}const r=[];for(const e of t){r.push(new dl(this,e))}}loadComplete({root:e}){this.clear();this.#Il=new dl(this,e);this.dispatchEventToListeners("TreeUpdated",{root:this.#Il})}nodesUpdated({nodes:e}){this.createNodesFromPayload(e);this.dispatchEventToListeners("TreeUpdated",{});return}createNodesFromPayload(e){const t=e.map((e=>{const t=new dl(this,e);return t}));return t}async requestRootNode(e){if(e&&this.#vl.has(e)){return this.#vl.get(e)}if(!e&&this.#Il){return this.#Il}const{node:t}=await this.agent.invoke_getRootAXNode({frameId:e});if(!t){return}return this.createNodesFromPayload([t])[0]}async requestAXChildren(e,t){const r=this.#yl.get(e);if(!r){throw Error("Cannot request children before parent")}if(!r.hasUnloadedChildren()){return r.children()}const n=this.#bl.get(e);if(n){await n}else{const r=this.agent.invoke_getChildAXNodes({id:e,frameId:t});this.#bl.set(e,r);const n=await r;if(!n.getError()){this.createNodesFromPayload(n.nodes);this.#bl.delete(e)}}return r.children()}async requestAndLoadSubTreeToNode(e){const t=[];let r=this.axNodeForDOMNode(e);while(r){t.push(r);const e=r.parentNode();if(!e){return t}r=e}const{nodes:n}=await this.agent.invoke_getAXNodeAndAncestors({backendNodeId:e.backendNodeId()});if(!n){return null}const i=this.createNodesFromPayload(n);return i}axNodeForId(e){return this.#yl.get(e)||null}setRootAXNodeForFrameId(e,t){this.#vl.set(e,t)}axNodeForFrameId(e){return this.#vl.get(e)??null}setAXNodeForAXId(e,t){this.#yl.set(e,t)}axNodeForDOMNode(e){if(!e){return null}return this.#Sl.get(e.backendNodeId())??null}setAXNodeForBackendDOMNodeId(e,t){this.#Sl.set(e,t)}getAgent(){return this.agent}};p.register(ul,{capabilities:nt.DOM,autostart:false});var hl={};a(hl,{AnimationDOMNode:()=>Il,AnimationDispatcher:()=>Ml,AnimationEffect:()=>Tl,AnimationGroup:()=>xl,AnimationImpl:()=>Rl,AnimationModel:()=>wl,Events:()=>Cl,KeyframeStyle:()=>Pl,KeyframesRule:()=>El,ScreenshotCapture:()=>Al});import*as gl from"./../common/common.js";var pl={};a(pl,{ScreenCaptureModel:()=>fl,ScreenshotMode:()=>ml});var ml=(e=>{e["FROM_VIEWPORT"]="fromViewport";e["FROM_CLIP"]="fromClip";e["FULLPAGE"]="fullpage";return e})(ml||{});var fl=class extends p{#Ui;#kl;#wl;constructor(e){super(e);this.#Ui=e.pageAgent();this.#kl=null;this.#wl=null;e.registerPageDispatcher(this)}startScreencast(e,t,r,n,i,s,o){this.#kl=s;this.#wl=o;void this.#Ui.invoke_startScreencast({format:e,quality:t,maxWidth:r,maxHeight:n,everyNthFrame:i})}stopScreencast(){this.#kl=null;this.#wl=null;void this.#Ui.invoke_stopScreencast()}async captureScreenshot(e,t,r,n){const i={format:e,quality:t,fromSurface:true};switch(r){case"fromClip":i.captureBeyondViewport=true;i.clip=n;break;case"fullpage":i.captureBeyondViewport=true;break;case"fromViewport":i.captureBeyondViewport=false;break;default:throw new Error("Unexpected or unspecified screnshotMode")}await Jo.muteHighlight();const s=await this.#Ui.invoke_captureScreenshot(i);await Jo.unmuteHighlight();return s.data}async fetchLayoutMetrics(){const e=await this.#Ui.invoke_getLayoutMetrics();if(e.getError()){return null}return{viewportX:e.cssVisualViewport.pageX,viewportY:e.cssVisualViewport.pageY,viewportScale:e.cssVisualViewport.scale,contentWidth:e.cssContentSize.width,contentHeight:e.cssContentSize.height}}screencastFrame({data:e,metadata:t,sessionId:r}){void this.#Ui.invoke_screencastFrameAck({sessionId:r});if(this.#kl){this.#kl.call(null,e,t)}}screencastVisibilityChanged({visible:e}){if(this.#wl){this.#wl.call(null,e)}}backForwardCacheNotUsed(e){}domContentEventFired(e){}loadEventFired(e){}lifecycleEvent(e){}navigatedWithinDocument(e){}frameAttached(e){}frameNavigated(e){}documentOpened(e){}frameDetached(e){}frameStartedLoading(e){}frameStoppedLoading(e){}frameRequestedNavigation(e){}frameSubtreeWillBeDetached(e){}frameScheduledNavigation(e){}frameClearedScheduledNavigation(e){}frameResized(){}javascriptDialogOpening(e){}javascriptDialogClosed(e){}interstitialShown(){}interstitialHidden(){}windowOpen(e){}fileChooserOpened(e){}compilationCacheProduced(e){}downloadWillBegin(e){}downloadProgress(){}prefetchStatusUpdated(e){}prerenderStatusUpdated(e){}};p.register(fl,{capabilities:nt.SCREEN_CAPTURE,autostart:false});var yl="devtools_animations";var Sl="__devtools_report_scroll_position__";var vl=e=>`__devtools_scroll_listener_${e}__`;async function bl(e,t){const r=e.domModel().target().model(Ca);const n=e.domModel().target().pageAgent();for(const i of r.frames()){const{executionContextId:r}=await n.invoke_createIsolatedWorld({frameId:i.id,worldName:t});const s=await e.resolveToObject(void 0,r);if(s){return s}}return null}var Il=class e{#Cl;#Rl;#Tl;static lastAddedListenerId=0;constructor(e){this.#Cl=e;this.#Rl=new Map}async#El(){if(this.#Tl){return}this.#Tl=e=>{const{name:t,payload:r}=e.data;if(t!==Sl){return}const{scrollTop:n,scrollLeft:i,id:s}=JSON.parse(r);const o=this.#Rl.get(s);if(!o){return}o({scrollTop:n,scrollLeft:i})};const e=this.#Cl.domModel().target().model(eo);await e.addBinding({name:Sl,executionContextName:yl});e.addEventListener(to.BindingCalled,this.#Tl)}async#Pl(){if(!this.#Tl){return}const e=this.#Cl.domModel().target().model(eo);await e.removeBinding({name:Sl});e.removeEventListener(to.BindingCalled,this.#Tl);this.#Tl=void 0}async addScrollEventListener(t){e.lastAddedListenerId++;const r=e.lastAddedListenerId;this.#Rl.set(r,t);if(!this.#Tl){await this.#El()}const n=await bl(this.#Cl,yl);if(!n){return null}await n.callFunction(i,[r,Sl,vl(r)].map((e=>fi.toCallArgument(e))));n.release();return r;function i(e,t,r){if("scrollingElement"in this&&!this.scrollingElement){return}const n="scrollingElement"in this?this.scrollingElement:this;this[r]=()=>{globalThis[t](JSON.stringify({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft,id:e}))};this.addEventListener("scroll",this[r],true)}}async removeScrollEventListener(e){const t=await bl(this.#Cl,yl);if(!t){return}await t.callFunction(r,[vl(e)].map((e=>fi.toCallArgument(e))));t.release();this.#Rl.delete(e);if(this.#Rl.size===0){await this.#Pl()}function r(e){this.removeEventListener("scroll",this[e]);delete this[e]}}async scrollTop(){return this.#Cl.callFunction(e).then((e=>e?.value??null));function e(){if("scrollingElement"in this){if(!this.scrollingElement){return 0}return this.scrollingElement.scrollTop}return this.scrollTop}}async scrollLeft(){return this.#Cl.callFunction(e).then((e=>e?.value??null));function e(){if("scrollingElement"in this){if(!this.scrollingElement){return 0}return this.scrollingElement.scrollLeft}return this.scrollLeft}}async setScrollTop(e){await this.#Cl.callFunction(t,[e]);function t(e){if("scrollingElement"in this){if(!this.scrollingElement){return}this.scrollingElement.scrollTop=e}else{this.scrollTop=e}}}async setScrollLeft(e){await this.#Cl.callFunction(t,[e]);function t(e){if("scrollingElement"in this){if(!this.scrollingElement){return}this.scrollingElement.scrollLeft=e}else{this.scrollLeft=e}}}async verticalScrollRange(){return this.#Cl.callFunction(e).then((e=>e?.value??null));function e(){if("scrollingElement"in this){if(!this.scrollingElement){return 0}return this.scrollingElement.scrollHeight-this.scrollingElement.clientHeight}return this.scrollHeight-this.clientHeight}}async horizontalScrollRange(){return this.#Cl.callFunction(e).then((e=>e?.value??null));function e(){if("scrollingElement"in this){if(!this.scrollingElement){return 0}return this.scrollingElement.scrollWidth-this.scrollingElement.clientWidth}return this.scrollWidth-this.clientWidth}}};function kl(e,t){const r=e.viewOrScrollTimeline();const n=t.viewOrScrollTimeline();if(r){return Boolean(n&&r.sourceNodeId===n.sourceNodeId&&r.axis===n.axis)}return!n&&e.startTime()===t.startTime()}var wl=class extends p{runtimeModel;agent;#xl;animationGroups;#Ml;playbackRate;#Al;#Ll;constructor(e){super(e);this.runtimeModel=e.model(eo);this.agent=e.animationAgent();e.registerAnimationDispatcher(new Ml(this));this.#xl=new Map;this.animationGroups=new Map;this.#Ml=new Set;this.playbackRate=1;if(!e.suspended()){void this.agent.invoke_enable()}const t=e.model(Ca);t.addEventListener(Ra.PrimaryPageChanged,this.reset,this);const r=e.model(fl);if(r){this.#Al=new Al(this,r)}this.#Ll=gl.Debouncer.debounce((()=>{while(this.#Ml.size){this.matchExistingGroups(this.createGroupFromPendingAnimations())}}),100)}reset(){this.#xl.clear();this.animationGroups.clear();this.#Ml.clear();this.dispatchEventToListeners("ModelReset")}async devicePixelRatio(){const e=await this.target().runtimeAgent().invoke_evaluate({expression:"window.devicePixelRatio"});if(e?.result.type==="number"){return e?.result.value??1}return 1}async getAnimationGroupForAnimation(e,t){for(const r of this.animationGroups.values()){for(const n of r.animations()){if(n.name()===e){const e=await n.source().node();if(e?.id===t){return r}}}}return null}animationCanceled(e){this.#Ml.delete(e)}async animationUpdated(e){let t;let r;for(const n of this.animationGroups.values()){r=n.animations().find((t=>t.id()===e.id));if(r){t=n;break}}if(!r||!t){return}await r.setPayload(e);this.dispatchEventToListeners("AnimationGroupUpdated",t)}async animationStarted(e){if(!e.source||!e.source.backendNodeId){return}const t=await Rl.parsePayload(this,e);const r=t.source().keyframesRule();if(t.type()==="WebAnimation"&&r&&r.keyframes().length===0){this.#Ml.delete(t.id())}else{this.#xl.set(t.id(),t);this.#Ml.add(t.id())}this.#Ll()}matchExistingGroups(e){let t=null;for(const r of this.animationGroups.values()){if(r.matches(e)){t=r;r.rebaseTo(e);break}if(r.shouldInclude(e)){t=r;r.appendAnimations(e.animations());break}}if(!t){this.animationGroups.set(e.id(),e);if(this.#Al){this.#Al.captureScreenshots(e.finiteDuration(),e.screenshotsInternal)}this.dispatchEventToListeners("AnimationGroupStarted",e)}else{this.dispatchEventToListeners("AnimationGroupUpdated",t)}return Boolean(t)}createGroupFromPendingAnimations(){console.assert(this.#Ml.size>0);const e=this.#Ml.values().next().value;this.#Ml.delete(e);const t=this.#xl.get(e);if(!t){throw new Error("Unable to locate first animation")}const r=[t];const n=new Set;for(const e of this.#Ml){const i=this.#xl.get(e);if(kl(t,i)){r.push(i)}else{n.add(e)}}this.#Ml=n;r.sort(((e,t)=>e.startTime()-t.startTime()));return new xl(this,e,r)}setPlaybackRate(e){this.playbackRate=e;void this.agent.invoke_setPlaybackRate({playbackRate:e})}releaseAnimations(e){void this.agent.invoke_releaseAnimations({animations:e})}async suspendModel(){await this.agent.invoke_disable().then((()=>this.reset()))}async resumeModel(){await this.agent.invoke_enable()}};var Cl=(e=>{e["AnimationGroupStarted"]="AnimationGroupStarted";e["AnimationGroupUpdated"]="AnimationGroupUpdated";e["ModelReset"]="ModelReset";return e})(Cl||{});var Rl=class e{#Nl;#Ol;#Dl;#Fl;constructor(e){this.#Nl=e}static async parsePayload(t,r){const n=new e(t);await n.setPayload(r);return n}async setPayload(e){if(e.viewOrScrollTimeline){const t=await this.#Nl.devicePixelRatio();if(e.viewOrScrollTimeline.startOffset){e.viewOrScrollTimeline.startOffset/=t}if(e.viewOrScrollTimeline.endOffset){e.viewOrScrollTimeline.endOffset/=t}}this.#Ol=e;if(this.#Dl&&e.source){this.#Dl.setPayload(e.source)}else if(!this.#Dl&&e.source){this.#Dl=new Tl(this.#Nl,e.source)}}percentageToPixels(e,t){const{startOffset:r,endOffset:n}=t;if(r===void 0||n===void 0){throw new Error("startOffset or endOffset does not exist in viewOrScrollTimeline")}return(n-r)*(e/100)}viewOrScrollTimeline(){return this.#Ol.viewOrScrollTimeline}id(){return this.#Ol.id}name(){return this.#Ol.name}paused(){return this.#Ol.pausedState}playState(){return this.#Fl||this.#Ol.playState}setPlayState(e){this.#Fl=e}playbackRate(){return this.#Ol.playbackRate}startTime(){const e=this.viewOrScrollTimeline();if(e){return this.percentageToPixels(this.playbackRate()>0?this.#Ol.startTime:100-this.#Ol.startTime,e)+(this.viewOrScrollTimeline()?.startOffset??0)}return this.#Ol.startTime}iterationDuration(){const e=this.viewOrScrollTimeline();if(e){return this.percentageToPixels(this.source().duration(),e)}return this.source().duration()}endTime(){if(!this.source().iterations){return Infinity}if(this.viewOrScrollTimeline()){return this.startTime()+this.iterationDuration()*this.source().iterations()}return this.startTime()+this.source().delay()+this.source().duration()*this.source().iterations()+this.source().endDelay()}finiteDuration(){const e=Math.min(this.source().iterations(),3);if(this.viewOrScrollTimeline()){return this.iterationDuration()*e}return this.source().delay()+this.source().duration()*e}currentTime(){const e=this.viewOrScrollTimeline();if(e){return this.percentageToPixels(this.#Ol.currentTime,e)}return this.#Ol.currentTime}source(){return this.#Dl}type(){return this.#Ol.type}overlaps(e){if(!this.source().iterations()||!e.source().iterations()){return true}const t=this.startTime()<e.startTime()?this:e;const r=t===this?e:this;return t.endTime()>=r.startTime()}delayOrStartTime(){if(this.viewOrScrollTimeline()){return this.startTime()}return this.source().delay()}setTiming(e,t){void this.#Dl.node().then((r=>{if(!r){throw new Error("Unable to find node")}this.updateNodeStyle(e,t,r)}));this.#Dl.durationInternal=e;this.#Dl.delayInternal=t;void this.#Nl.agent.invoke_setTiming({animationId:this.id(),duration:e,delay:t})}updateNodeStyle(e,t,r){let n;if(this.type()===y.AnimationType.CSSTransition){n="transition-"}else if(this.type()===y.AnimationType.CSSAnimation){n="animation-"}else{return}if(!r.id){throw new Error("Node has no id")}const i=r.domModel().cssModel();i.setEffectivePropertyValueForNode(r.id,n+"duration",e+"ms");i.setEffectivePropertyValueForNode(r.id,n+"delay",t+"ms")}async remoteObjectPromise(){const e=await this.#Nl.agent.invoke_resolveAnimation({animationId:this.id()});if(!e){return null}return this.#Nl.runtimeModel.createRemoteObject(e.remoteObject)}cssId(){return this.#Ol.cssId||""}};var Tl=class{#Nl;#Xn;delayInternal;durationInternal;#Bl;#Hl;constructor(e,t){this.#Nl=e;this.setPayload(t)}setPayload(e){this.#Xn=e;if(!this.#Bl&&e.keyframesRule){this.#Bl=new El(e.keyframesRule)}else if(this.#Bl&&e.keyframesRule){this.#Bl.setPayload(e.keyframesRule)}this.delayInternal=e.delay;this.durationInternal=e.duration}delay(){return this.delayInternal}endDelay(){return this.#Xn.endDelay}iterations(){if(!this.delay()&&!this.endDelay()&&!this.duration()){return 0}return this.#Xn.iterations||Infinity}duration(){return this.durationInternal}direction(){return this.#Xn.direction}fill(){return this.#Xn.fill}node(){if(!this.#Hl){this.#Hl=new ra(this.#Nl.target(),this.backendNodeId())}return this.#Hl.resolvePromise()}deferredNode(){return new ra(this.#Nl.target(),this.backendNodeId())}backendNodeId(){return this.#Xn.backendNodeId}keyframesRule(){return this.#Bl||null}easing(){return this.#Xn.easing}};var El=class{#Xn;#rt;constructor(e){this.setPayload(e)}setPayload(e){this.#Xn=e;if(!this.#rt){this.#rt=this.#Xn.keyframes.map((e=>new Pl(e)))}else{this.#Xn.keyframes.forEach(((e,t)=>{this.#rt[t]?.setPayload(e)}))}}name(){return this.#Xn.name}keyframes(){return this.#rt}};var Pl=class{#Xn;#Ul;constructor(e){this.setPayload(e)}setPayload(e){this.#Xn=e;this.#Ul=e.offset}offset(){return this.#Ul}setOffset(e){this.#Ul=e*100+"%"}offsetAsNumber(){return parseFloat(this.#Ul)/100}easing(){return this.#Xn.easing}};var xl=class{#Nl;#C;#_l;#ql;#Wl;screenshotsInternal;#Vl;constructor(e,t,r){this.#Nl=e;this.#C=t;this.#ql=r;this.#Wl=false;this.screenshotsInternal=[];this.#Vl=[]}isScrollDriven(){return Boolean(this.#ql[0]?.viewOrScrollTimeline())}id(){return this.#C}animations(){return this.#ql}release(){this.#Nl.animationGroups.delete(this.id());this.#Nl.releaseAnimations(this.animationIds())}animationIds(){function e(e){return e.id()}return this.#ql.map(e)}startTime(){return this.#ql[0].startTime()}groupDuration(){let e=0;for(const t of this.#ql){e=Math.max(e,t.delayOrStartTime()+t.iterationDuration())}return e}finiteDuration(){let e=0;for(let t=0;t<this.#ql.length;++t){e=Math.max(e,this.#ql[t].finiteDuration())}return e}scrollOrientation(){const e=this.#ql[0]?.viewOrScrollTimeline();if(!e){return null}return e.axis}async scrollNode(){if(this.#_l){return this.#_l}if(!this.isScrollDriven()){return null}const e=this.#ql[0]?.viewOrScrollTimeline()?.sourceNodeId;if(!e){return null}const t=new ra(this.#Nl.target(),e);const r=await t.resolvePromise();if(!r){return null}this.#_l=new Il(r);return this.#_l}seekTo(e){void this.#Nl.agent.invoke_seekAnimations({animations:this.animationIds(),currentTime:e})}paused(){return this.#Wl}togglePause(e){if(e===this.#Wl){return}this.#Wl=e;void this.#Nl.agent.invoke_setPaused({animations:this.animationIds(),paused:e})}currentTimePromise(){let e=null;for(const t of this.#ql){if(!e||t.endTime()>e.endTime()){e=t}}if(!e){throw new Error("No longest animation found")}return this.#Nl.agent.invoke_getCurrentTime({id:e.id()}).then((({currentTime:e})=>e||0))}matches(e){function t(e){const t=(e.viewOrScrollTimeline()?.sourceNodeId??"")+(e.viewOrScrollTimeline()?.axis??"");const r=e.type()===y.AnimationType.WebAnimation?e.type()+e.id():e.cssId();return r+t}if(this.#ql.length!==e.#ql.length){return false}const r=this.#ql.map(t).sort();const n=e.#ql.map(t).sort();for(let e=0;e<r.length;e++){if(r[e]!==n[e]){return false}}return true}shouldInclude(e){const[t]=e.#ql;const[r]=this.#ql;return kl(r,t)}appendAnimations(e){this.#ql.push(...e)}rebaseTo(e){this.#Nl.releaseAnimations(this.animationIds());this.#ql=e.#ql;this.#_l=void 0}screenshots(){for(let e=0;e<this.screenshotsInternal.length;++e){const t=new Image;t.src="data:image/jpeg;base64,"+this.screenshotsInternal[e];this.#Vl.push(t)}this.screenshotsInternal=[];return this.#Vl}};var Ml=class{#Nl;constructor(e){this.#Nl=e}animationCreated(e){}animationCanceled({id:e}){this.#Nl.animationCanceled(e)}animationStarted({animation:e}){void this.#Nl.animationStarted(e)}animationUpdated({animation:e}){void this.#Nl.animationUpdated(e)}};var Al=class{#le;#jl;#Nl;#Gl;#zl;#Kl;constructor(e,t){this.#le=[];this.#jl=t;this.#Nl=e;this.#Nl.addEventListener("ModelReset",this.stopScreencast,this)}captureScreenshots(e,t){const r=Math.min(e/this.#Nl.playbackRate,3e3);const n=r+window.performance.now();this.#le.push({endTime:n,screenshots:t});if(!this.#zl||n>this.#zl){clearTimeout(this.#Gl);this.#Gl=window.setTimeout(this.stopScreencast.bind(this),r);this.#zl=n}if(this.#Kl){return}this.#Kl=true;this.#jl.startScreencast(F.StartScreencastRequestFormat.Jpeg,80,void 0,300,2,this.screencastFrame.bind(this),(e=>{}))}screencastFrame(e,t){function r(e){return e.endTime>=n}if(!this.#Kl){return}const n=window.performance.now();this.#le=this.#le.filter(r);for(const t of this.#le){t.screenshots.push(e)}}stopScreencast(){if(!this.#Kl){return}this.#Gl=void 0;this.#zl=void 0;this.#le=[];this.#Kl=false;this.#jl.stopScreencast()}};p.register(wl,{capabilities:nt.DOM,autostart:true});var Ll={};a(Ll,{AutofillModel:()=>Fl,Events:()=>Bl});import*as Nl from"./../common/common.js";import*as Ol from"./../root/root.js";import*as Dl from"./../host/host.js";var Fl=class extends p{agent;#cn;#Ql;constructor(e){super(e);this.agent=e.autofillAgent();this.#Ql=Nl.Settings.Settings.instance().createSetting("show-test-addresses-in-autofill-menu-on-event",false);e.registerAutofillDispatcher(this);this.enable()}setTestAddresses(){void this.agent.invoke_setAddresses({addresses:this.#Ql.get()?[{fields:[{name:"ADDRESS_HOME_COUNTRY",value:"US"},{name:"NAME_FULL",value:"Jon Stewart Doe"},{name:"NAME_FIRST",value:"Jon"},{name:"NAME_MIDDLE",value:"Stewart"},{name:"NAME_LAST",value:"Doe"},{name:"COMPANY_NAME",value:"Fake Company"},{name:"ADDRESS_HOME_LINE1",value:"1600 Fake Street"},{name:"ADDRESS_HOME_LINE2",value:"Apartment 1"},{name:"ADDRESS_HOME_ZIP",value:"94043"},{name:"ADDRESS_HOME_CITY",value:"Mountain View"},{name:"ADDRESS_HOME_STATE",value:"CA"},{name:"EMAIL_ADDRESS",value:"test@example.us"},{name:"PHONE_HOME_WHOLE_NUMBER",value:"+16019521325"}]},{fields:[{name:"ADDRESS_HOME_COUNTRY",value:"BR"},{name:"NAME_FULL",value:"João Souza Silva"},{name:"NAME_FIRST",value:"João"},{name:"NAME_LAST",value:"Souza Silva"},{name:"NAME_LAST_FIRST",value:"Souza"},{name:"NAME_LAST_SECOND",value:"Silva"},{name:"COMPANY_NAME",value:"Empresa Falsa"},{name:"ADDRESS_HOME_STREET_ADDRESS",value:"Rua Inexistente, 2000\nAndar 2, Apartamento 1"},{name:"ADDRESS_HOME_STREET_LOCATION",value:"Rua Inexistente, 2000"},{name:"ADDRESS_HOME_STREET_NAME",value:"Rua Inexistente"},{name:"ADDRESS_HOME_HOUSE_NUMBER",value:"2000"},{name:"ADDRESS_HOME_SUBPREMISE",value:"Andar 2, Apartamento 1"},{name:"ADDRESS_HOME_APT_NUM",value:"1"},{name:"ADDRESS_HOME_FLOOR",value:"2"},{name:"ADDRESS_HOME_APT",value:"Apartamento 1"},{name:"ADDRESS_HOME_APT_TYPE",value:"Apartamento"},{name:"ADDRESS_HOME_APT_NUM",value:"1"},{name:"ADDRESS_HOME_DEPENDENT_LOCALITY",value:"Santa Efigênia"},{name:"ADDRESS_HOME_LANDMARK",value:"Próximo à estação Santa Efigênia"},{name:"ADDRESS_HOME_OVERFLOW",value:"Andar 2, Apartamento 1"},{name:"ADDRESS_HOME_ZIP",value:"30260-080"},{name:"ADDRESS_HOME_CITY",value:"Belo Horizonte"},{name:"ADDRESS_HOME_STATE",value:"MG"},{name:"EMAIL_ADDRESS",value:"teste@exemplo.us"},{name:"PHONE_HOME_WHOLE_NUMBER",value:"+553121286800"}]},{fields:[{name:"ADDRESS_HOME_COUNTRY",value:"MX"},{name:"NAME_FULL",value:"Juan Francisco García Flores"},{name:"NAME_FIRST",value:"Juan Francisco"},{name:"NAME_LAST",value:"García Flores"},{name:"NAME_LAST_FIRST",value:"García"},{name:"NAME_LAST_SECOND",value:"Flores"},{name:"COMPANY_NAME",value:"Empresa Falsa"},{name:"ADDRESS_HOME_STREET_ADDRESS",value:"C. Falsa 445\nPiso 2, Apartamento 1\nEntre calle Volcán y calle Montes Blancos, cerca de la estación de metro"},{name:"ADDRESS_HOME_STREET_LOCATION",value:"C. Falsa 445"},{name:"ADDRESS_HOME_STREET_NAME",value:"C. Falsa"},{name:"ADDRESS_HOME_HOUSE_NUMBER",value:"445"},{name:"ADDRESS_HOME_SUBPREMISE",value:"Piso 2, Apartamento 1"},{name:"ADDRESS_HOME_FLOOR",value:"2"},{name:"ADDRESS_HOME_APT",value:"Apartamento 1"},{name:"ADDRESS_HOME_APT_TYPE",value:"Apartamento"},{name:"ADDRESS_HOME_APT_NUM",value:"1"},{name:"ADDRESS_HOME_DEPENDENT_LOCALITY",value:"Lomas de Chapultepec"},{name:"ADDRESS_HOME_OVERFLOW",value:"Entre calle Volcán y calle Montes Celestes, cerca de la estación de metro"},{name:"ADDRESS_HOME_BETWEEN_STREETS_OR_LANDMARK",value:"Entre calle Volcán y calle Montes Blancos, cerca de la estación de metro"},{name:"ADDRESS_HOME_LANDMARK",value:"Cerca de la estación de metro"},{name:"ADDRESS_HOME_BETWEEN_STREETS",value:"Entre calle Volcán y calle Montes Blancos"},{name:"ADDRESS_HOME_BETWEEN_STREETS_1",value:"calle Volcán"},{name:"ADDRESS_HOME_BETWEEN_STREETS_2",value:"calle Montes Blancos"},{name:"ADDRESS_HOME_ADMIN_LEVEL2",value:"Miguel Hidalgo"},{name:"ADDRESS_HOME_ZIP",value:"11001"},{name:"ADDRESS_HOME_CITY",value:"Ciudad de México"},{name:"ADDRESS_HOME_STATE",value:"Distrito Federal"},{name:"EMAIL_ADDRESS",value:"ejemplo@ejemplo.mx"},{name:"PHONE_HOME_WHOLE_NUMBER",value:"+525553428400"}]},{fields:[{name:"ADDRESS_HOME_COUNTRY",value:"DE"},{name:"NAME_FULL",value:"Gottfried Wilhelm Leibniz"},{name:"NAME_FIRST",value:"Gottfried"},{name:"NAME_MIDDLE",value:"Wilhelm"},{name:"NAME_LAST",value:"Leibniz"},{name:"COMPANY_NAME",value:"Erfundenes Unternehmen"},{name:"ADDRESS_HOME_LINE1",value:"Erfundene Straße 33"},{name:"ADDRESS_HOME_LINE2",value:"Wohnung 1"},{name:"ADDRESS_HOME_ZIP",value:"80732"},{name:"ADDRESS_HOME_CITY",value:"München"},{name:"EMAIL_ADDRESS",value:"test@beispiel.de"},{name:"PHONE_HOME_WHOLE_NUMBER",value:"+4930303986300"}]}]:[]})}enable(){if(!Ol.Runtime.experiments.isEnabled(Ol.Runtime.ExperimentName.AUTOFILL_VIEW)||this.#cn||Dl.InspectorFrontendHost.isUnderTest()){return}void this.agent.invoke_enable();this.setTestAddresses();this.#cn=true}disable(){if(!this.#cn||Dl.InspectorFrontendHost.isUnderTest()){return}this.#cn=false;void this.agent.invoke_disable()}addressFormFilled(e){this.dispatchEventToListeners("AddressFormFilled",{autofillModel:this,event:e})}};p.register(Fl,{capabilities:nt.DOM,autostart:true});var Bl=(e=>{e["ADDRESS_FORM_FILLED"]="AddressFormFilled";return e})(Bl||{});var Hl={};a(Hl,{CategorizedBreakpoint:()=>_l,Category:()=>Ul});var Ul=(e=>{e["ANIMATION"]="animation";e["AUCTION_WORKLET"]="auction-worklet";e["CANVAS"]="canvas";e["CLIPBOARD"]="clipboard";e["CONTROL"]="control";e["DEVICE"]="device";e["DOM_MUTATION"]="dom-mutation";e["DRAG_DROP"]="drag-drop";e["GEOLOCATION"]="geolocation";e["KEYBOARD"]="keyboard";e["LOAD"]="load";e["MEDIA"]="media";e["MOUSE"]="mouse";e["NOTIFICATION"]="notification";e["PARSE"]="parse";e["PICTURE_IN_PICTURE"]="picture-in-picture";e["POINTER"]="pointer";e["SCRIPT"]="script";e["SHARED_STORAGE_WORKLET"]="shared-storage-worklet";e["TIMER"]="timer";e["TOUCH"]="touch";e["TRUSTED_TYPE_VIOLATION"]="trusted-type-violation";e["WEB_AUDIO"]="web-audio";e["WINDOW"]="window";e["WORKER"]="worker";e["XHR"]="xhr";return e})(Ul||{});var _l=class{name;#Xl;enabledInternal;constructor(e,t){this.#Xl=e;this.name=t;this.enabledInternal=false}category(){return this.#Xl}enabled(){return this.enabledInternal}setEnabled(e){this.enabledInternal=e}};var ql={};a(ql,{ChildTargetManager:()=>sd,Events:()=>od});import*as Wl from"./../i18n/i18n.js";import*as Vl from"./../common/common.js";import*as jl from"./../host/host.js";var Gl={};a(Gl,{MainConnection:()=>Jl,ParallelConnection:()=>Zl,StubConnection:()=>Yl,WebSocketConnection:()=>$l,initMainConnection:()=>ed});import*as zl from"./../common/common.js";import*as Kl from"./../host/host.js";import*as Ql from"./../protocol_client/protocol_client.js";import*as Xl from"./../root/root.js";var Jl=class{onMessage;#Jl;#$l;#Yl;#_t;constructor(){this.onMessage=null;this.#Jl=null;this.#$l="";this.#Yl=0;this.#_t=[Kl.InspectorFrontendHost.InspectorFrontendHostInstance.events.addEventListener(Kl.InspectorFrontendHostAPI.Events.DispatchMessage,this.dispatchMessage,this),Kl.InspectorFrontendHost.InspectorFrontendHostInstance.events.addEventListener(Kl.InspectorFrontendHostAPI.Events.DispatchMessageChunk,this.dispatchMessageChunk,this)]}setOnMessage(e){this.onMessage=e}setOnDisconnect(e){this.#Jl=e}sendRawMessage(e){if(this.onMessage){Kl.InspectorFrontendHost.InspectorFrontendHostInstance.sendMessageToBackend(e)}}dispatchMessage(e){if(this.onMessage){this.onMessage.call(null,e.data)}}dispatchMessageChunk(e){const{messageChunk:t,messageSize:r}=e.data;if(r){this.#$l="";this.#Yl=r}this.#$l+=t;if(this.#$l.length===this.#Yl&&this.onMessage){this.onMessage.call(null,this.#$l);this.#$l="";this.#Yl=0}}async disconnect(){const e=this.#Jl;zl.EventTarget.removeEventListeners(this.#_t);this.#Jl=null;this.onMessage=null;if(e){e.call(null,"force disconnect")}}};var $l=class{#Zl;onMessage;#Jl;#ed;#td;#rd;constructor(e,t){this.#Zl=new WebSocket(e);this.#Zl.onerror=this.onError.bind(this);this.#Zl.onopen=this.onOpen.bind(this);this.#Zl.onmessage=e=>{if(this.onMessage){this.onMessage.call(null,e.data)}};this.#Zl.onclose=this.onClose.bind(this);this.onMessage=null;this.#Jl=null;this.#ed=t;this.#td=false;this.#rd=[]}setOnMessage(e){this.onMessage=e}setOnDisconnect(e){this.#Jl=e}onError(){if(this.#ed){this.#ed.call(null)}if(this.#Jl){this.#Jl.call(null,"connection failed")}this.close()}onOpen(){this.#td=true;if(this.#Zl){this.#Zl.onerror=console.error;for(const e of this.#rd){this.#Zl.send(e)}}this.#rd=[]}onClose(){if(this.#ed){this.#ed.call(null)}if(this.#Jl){this.#Jl.call(null,"websocket closed")}this.close()}close(e){if(this.#Zl){this.#Zl.onerror=null;this.#Zl.onopen=null;this.#Zl.onclose=e||null;this.#Zl.onmessage=null;this.#Zl.close();this.#Zl=null}this.#ed=null}sendRawMessage(e){if(this.#td&&this.#Zl){this.#Zl.send(e)}else{this.#rd.push(e)}}disconnect(){return new Promise((e=>{this.close((()=>{if(this.#Jl){this.#Jl.call(null,"force disconnect")}e()}))}))}};var Yl=class{onMessage;#Jl;constructor(){this.onMessage=null;this.#Jl=null}setOnMessage(e){this.onMessage=e}setOnDisconnect(e){this.#Jl=e}sendRawMessage(e){window.setTimeout(this.respondWithError.bind(this,e),0)}respondWithError(e){const t=JSON.parse(e);const r={message:"This is a stub connection, can't dispatch message.",code:Ql.InspectorBackend.DevToolsStubErrorCode,data:t};if(this.onMessage){this.onMessage.call(null,{id:t.id,error:r})}}async disconnect(){if(this.#Jl){this.#Jl.call(null,"force disconnect")}this.#Jl=null;this.onMessage=null}};var Zl=class{#nd;#id;onMessage;#Jl;constructor(e,t){this.#nd=e;this.#id=t;this.onMessage=null;this.#Jl=null}setOnMessage(e){this.onMessage=e}setOnDisconnect(e){this.#Jl=e}getOnDisconnect(){return this.#Jl}sendRawMessage(e){const t=JSON.parse(e);if(!t.sessionId){t.sessionId=this.#id}this.#nd.sendRawMessage(JSON.stringify(t))}getSessionId(){return this.#id}async disconnect(){if(this.#Jl){this.#Jl.call(null,"force disconnect")}this.#Jl=null;this.onMessage=null}};async function ed(e,t){Ql.InspectorBackend.Connection.setFactory(td.bind(null,t));await e();Kl.InspectorFrontendHost.InspectorFrontendHostInstance.connectionReady()}function td(e){const t=Xl.Runtime.Runtime.queryParam("ws");const r=Xl.Runtime.Runtime.queryParam("wss");if(t||r){const n=t?`ws://${t}`:`wss://${r}`;return new $l(n,e)}if(Kl.InspectorFrontendHost.InspectorFrontendHostInstance.isHostedMode()){return new Yl}return new Jl}var rd={main:"Main"};var nd=Wl.i18n.registerUIStrings("core/sdk/ChildTargetManager.ts",rd);var id=Wl.i18n.getLocalizedString.bind(void 0,nd);var sd=class e extends p{#sd;#od;#ad;#ld=new Map;#dd=new Map;#cd=new Map;#ud=new Map;#hd=null;constructor(e){super(e);this.#sd=e.targetManager();this.#od=e;this.#ad=e.targetAgent();e.registerTargetDispatcher(this);const t=this.#sd.browserTarget();if(t){if(t!==e){void t.targetAgent().invoke_autoAttachRelated({targetId:e.id(),waitForDebuggerOnStart:true})}}else{void this.#ad.invoke_setAutoAttach({autoAttach:true,waitForDebuggerOnStart:true,flatten:true})}if(e.parentTarget()?.type()!==rt.FRAME&&!jl.InspectorFrontendHost.isUnderTest()){void this.#ad.invoke_setDiscoverTargets({discover:true});void this.#ad.invoke_setRemoteLocations({locations:[{host:"localhost",port:9229}]})}}static install(t){e.attachCallback=t;p.register(e,{capabilities:nt.TARGET,autostart:true})}childTargets(){return Array.from(this.#dd.values())}async suspendModel(){await this.#ad.invoke_setAutoAttach({autoAttach:true,waitForDebuggerOnStart:false,flatten:true})}async resumeModel(){await this.#ad.invoke_setAutoAttach({autoAttach:true,waitForDebuggerOnStart:true,flatten:true})}dispose(){for(const e of this.#dd.keys()){this.detachedFromTarget({sessionId:e,targetId:void 0})}}targetCreated({targetInfo:e}){this.#ld.set(e.targetId,e);this.fireAvailableTargetsChanged();this.dispatchEventToListeners("TargetCreated",e)}targetInfoChanged({targetInfo:e}){this.#ld.set(e.targetId,e);const t=this.#cd.get(e.targetId);if(t){if(t.targetInfo()?.subtype==="prerender"&&!e.subtype){const r=t.model(Ca);t.updateTargetInfo(e);if(r&&r.mainFrame){r.primaryPageChanged(r.mainFrame,Pa.ACTIVATION)}t.setName(id(rd.main))}else{t.updateTargetInfo(e)}}this.fireAvailableTargetsChanged();this.dispatchEventToListeners("TargetInfoChanged",e)}targetDestroyed({targetId:e}){this.#ld.delete(e);this.fireAvailableTargetsChanged();this.dispatchEventToListeners("TargetDestroyed",e)}targetCrashed({targetId:e}){this.#ld.delete(e);const t=this.#cd.get(e);if(t){t.dispose("targetCrashed event from CDP")}this.fireAvailableTargetsChanged();this.dispatchEventToListeners("TargetDestroyed",e)}fireAvailableTargetsChanged(){ut.instance().dispatchEventToListeners(ht.AVAILABLE_TARGETS_CHANGED,[...this.#ld.values()])}async getParentTargetId(){if(!this.#hd){this.#hd=(await this.#od.targetAgent().invoke_getTargetInfo({})).targetInfo.targetId}return this.#hd}async getTargetInfo(){return(await this.#od.targetAgent().invoke_getTargetInfo({})).targetInfo}async attachedToTarget({sessionId:t,targetInfo:r,waitingForDebugger:n}){if(this.#hd===r.targetId){return}let i=rt.BROWSER;let s="";if(r.type==="worker"&&r.title&&r.title!==r.url){s=r.title}else if(!["page","iframe","webview"].includes(r.type)){const t=["^chrome://print/$","^chrome://file-manager/","^chrome://feedback/","^chrome://.*\\.top-chrome/$","^chrome://view-cert/$","^devtools://"];if(t.some((e=>r.url.match(e)))){i=rt.FRAME}else{const t=Vl.ParsedURL.ParsedURL.fromString(r.url);s=t?t.lastPathComponentWithFragment():"#"+ ++e.lastAnonymousTargetId}}if(r.type==="iframe"||r.type==="webview"){i=rt.FRAME}else if(r.type==="background_page"||r.type==="app"||r.type==="popup_page"){i=rt.FRAME}else if(r.type==="page"){i=rt.FRAME}else if(r.type==="worker"){i=rt.Worker}else if(r.type==="worklet"){i=rt.WORKLET}else if(r.type==="shared_worker"){i=rt.SHARED_WORKER}else if(r.type==="shared_storage_worklet"){i=rt.SHARED_STORAGE_WORKLET}else if(r.type==="service_worker"){i=rt.ServiceWorker}else if(r.type==="auction_worklet"){i=rt.AUCTION_WORKLET}const o=this.#sd.createTarget(r.targetId,s,i,this.#od,t,void 0,void 0,r);this.#dd.set(t,o);this.#cd.set(o.id(),o);if(e.attachCallback){await e.attachCallback({target:o,waitingForDebugger:n})}if(n){void o.runtimeAgent().invoke_runIfWaitingForDebugger()}}detachedFromTarget({sessionId:e}){if(this.#ud.has(e)){this.#ud.delete(e)}else{const t=this.#dd.get(e);if(t){t.dispose("target terminated");this.#dd.delete(e);this.#cd.delete(t.id())}}}receivedMessageFromTarget({}){}async createParallelConnection(e){const t=await this.getParentTargetId();const{connection:r,sessionId:n}=await this.createParallelConnectionAndSessionForTarget(this.#od,t);r.setOnMessage(e);this.#ud.set(n,r);return{connection:r,sessionId:n}}async createParallelConnectionAndSessionForTarget(e,t){const r=e.targetAgent();const n=e.router();const i=(await r.invoke_attachToTarget({targetId:t,flatten:true})).sessionId;const s=new Zl(n.connection(),i);n.registerSession(e,i,s);s.setOnDisconnect((()=>{n.unregisterSession(i);void r.invoke_detachFromTarget({sessionId:i})}));return{connection:s,sessionId:i}}targetInfos(){return Array.from(this.#ld.values())}static lastAnonymousTargetId=0;static attachCallback};var od=(e=>{e["TARGET_CREATED"]="TargetCreated";e["TARGET_DESTROYED"]="TargetDestroyed";e["TARGET_INFO_CHANGED"]="TargetInfoChanged";return e})(od||{});var ad={};a(ad,{CompilerSourceMappingContentProvider:()=>gd});import*as ld from"./../../models/text_utils/text_utils.js";import*as dd from"./../i18n/i18n.js";var cd={couldNotLoadContentForSS:"Could not load content for {PH1} ({PH2})"};var ud=dd.i18n.registerUIStrings("core/sdk/CompilerSourceMappingContentProvider.ts",cd);var hd=dd.i18n.getLocalizedString.bind(void 0,ud);var gd=class{#gd;#pd;#md;constructor(e,t,r){this.#gd=e;this.#pd=t;this.#md=r}contentURL(){return this.#gd}contentType(){return this.#pd}async requestContent(){const e=await this.requestContentData();return ld.ContentData.ContentData.asDeferredContent(e)}async requestContentData(){try{const{content:e}=await Fi.instance().loadResource(this.#gd,this.#md);return new ld.ContentData.ContentData(e,false,this.#pd.canonicalMimeType())}catch(e){const t=hd(cd.couldNotLoadContentForSS,{PH1:this.#gd,PH2:e.message});console.error(t);return{error:t}}}async searchInContent(e,t,r){const n=await this.requestContentData();return ld.TextUtils.performSearchInContentData(n,e,t,r)}};var pd={};a(pd,{ConsoleMessage:()=>Ud,ConsoleModel:()=>Od,Events:()=>Dd,FrontendMessageType:()=>vd,MessageSourceDisplayName:()=>_d});import*as md from"./../common/common.js";import*as fd from"./../host/host.js";import*as yd from"./../i18n/i18n.js";import*as Sd from"./../platform/platform.js";var vd=(e=>{e["Result"]="result";e["Command"]="command";e["System"]="system";e["QueryObjectResult"]="queryObjectResult";return e})(vd||{});var bd={};a(bd,{CPUProfilerModel:()=>Rd,Events:()=>Td});import*as Id from"./../i18n/i18n.js";var kd={profileD:"Profile {PH1}"};var wd=Id.i18n.registerUIStrings("core/sdk/CPUProfilerModel.ts",kd);var Cd=Id.i18n.getLocalizedString.bind(void 0,wd);var Rd=class extends p{#fd;#yd;#Sd;#vd;#bd;#Id;registeredConsoleProfileMessages=[];constructor(e){super(e);this.#fd=false;this.#yd=1;this.#Sd=new Map;this.#vd=e.profilerAgent();this.#bd=null;e.registerProfilerDispatcher(this);void this.#vd.invoke_enable();this.#Id=e.model(Co)}runtimeModel(){return this.#Id.runtimeModel()}debuggerModel(){return this.#Id}consoleProfileStarted({id:e,location:t,title:r}){if(!r){r=Cd(kd.profileD,{PH1:this.#yd++});this.#Sd.set(e,r)}const n=this.createEventDataFrom(e,t,r);this.dispatchEventToListeners("ConsoleProfileStarted",n)}consoleProfileFinished({id:e,location:t,profile:r,title:n}){if(!n){n=this.#Sd.get(e);this.#Sd.delete(e)}const i={...this.createEventDataFrom(e,t,n),cpuProfile:r};this.registeredConsoleProfileMessages.push(i);this.dispatchEventToListeners("ConsoleProfileFinished",i)}createEventDataFrom(e,t,r){const n=xo.fromPayload(this.#Id,t);const i=this.target().id()+"."+e;return{id:i,scriptLocation:n,title:r||"",cpuProfilerModel:this}}isRecordingProfile(){return this.#fd}startRecording(){this.#fd=true;const e=100;void this.#vd.invoke_setSamplingInterval({interval:e});return this.#vd.invoke_start()}stopRecording(){this.#fd=false;return this.#vd.invoke_stop().then((e=>e.profile||null))}startPreciseCoverage(e,t){const r=false;this.#bd=t;const n=true;return this.#vd.invoke_startPreciseCoverage({callCount:r,detailed:e,allowTriggeredUpdates:n})}async takePreciseCoverage(){const e=await this.#vd.invoke_takePreciseCoverage();const t=e&&e.timestamp||0;const r=e&&e.result||[];return{timestamp:t,coverage:r}}stopPreciseCoverage(){this.#bd=null;return this.#vd.invoke_stopPreciseCoverage()}preciseCoverageDeltaUpdate({timestamp:e,occasion:t,result:r}){if(this.#bd){void this.#bd(e,t,r)}}};var Td=(e=>{e["CONSOLE_PROFILE_STARTED"]="ConsoleProfileStarted";e["CONSOLE_PROFILE_FINISHED"]="ConsoleProfileFinished";return e})(Td||{});p.register(Rd,{capabilities:nt.JS,autostart:true});var Ed={};a(Ed,{Events:()=>Md,LogModel:()=>xd});import*as Pd from"./../host/host.js";var xd=class extends p{#kd;constructor(e){super(e);e.registerLogDispatcher(this);this.#kd=e.logAgent();void this.#kd.invoke_enable();if(!Pd.InspectorFrontendHost.isUnderTest()){void this.#kd.invoke_startViolationsReport({config:[{name:L.ViolationSettingName.LongTask,threshold:200},{name:L.ViolationSettingName.LongLayout,threshold:30},{name:L.ViolationSettingName.BlockedEvent,threshold:100},{name:L.ViolationSettingName.BlockedParser,threshold:-1},{name:L.ViolationSettingName.Handler,threshold:150},{name:L.ViolationSettingName.RecurringHandler,threshold:50},{name:L.ViolationSettingName.DiscouragedAPIUse,threshold:-1}]})}}entryAdded({entry:e}){this.dispatchEventToListeners("EntryAdded",{logModel:this,entry:e})}requestClear(){void this.#kd.invoke_clear()}};var Md=(e=>{e["ENTRY_ADDED"]="EntryAdded";return e})(Md||{});p.register(xd,{capabilities:nt.LOG,autostart:true});var Ad={navigatedToS:"Navigated to {PH1}",bfcacheNavigation:"Navigation to {PH1} was restored from back/forward cache (see https://web.dev/bfcache/)",profileSStarted:"Profile ''{PH1}'' started.",profileSFinished:"Profile ''{PH1}'' finished.",failedToSaveToTempVariable:"Failed to save to temp variable."};var Ld=yd.i18n.registerUIStrings("core/sdk/ConsoleModel.ts",Ad);var Nd=yd.i18n.getLocalizedString.bind(void 0,Ld);var Od=class e extends p{#wd;#Cd;#Rd;#Td;#Ed;#Pd;#xd;#Md;constructor(e){super(e);this.#wd=[];this.#Cd=new Sd.MapUtilities.Multimap;this.#Rd=new Map;this.#Td=0;this.#Ed=0;this.#Pd=0;this.#xd=0;this.#Md=new WeakMap;const t=e.model(Ca);if(!t||t.cachedResourcesLoaded()){this.initTarget(e);return}const r=t.addEventListener(Ra.CachedResourcesLoaded,(()=>{md.EventTarget.removeEventListeners([r]);this.initTarget(e)}))}initTarget(e){const t=[];const r=e.model(Rd);if(r){t.push(r.addEventListener(Td.CONSOLE_PROFILE_STARTED,this.consoleProfileStarted.bind(this,r)));t.push(r.addEventListener(Td.CONSOLE_PROFILE_FINISHED,this.consoleProfileFinished.bind(this,r)))}const n=e.model(Ca);if(n&&e.parentTarget()?.type()!==rt.FRAME){t.push(n.addEventListener(Ra.PrimaryPageChanged,this.primaryPageChanged,this))}const i=e.model(eo);if(i){t.push(i.addEventListener(to.ExceptionThrown,this.exceptionThrown.bind(this,i)));t.push(i.addEventListener(to.ExceptionRevoked,this.exceptionRevoked.bind(this,i)));t.push(i.addEventListener(to.ConsoleAPICalled,this.consoleAPICalled.bind(this,i)));if(e.parentTarget()?.type()!==rt.FRAME){t.push(i.debuggerModel().addEventListener(Eo.GlobalObjectCleared,this.clearIfNecessary,this))}t.push(i.addEventListener(to.QueryObjectRequested,this.queryObjectRequested.bind(this,i)))}this.#Md.set(e,t)}targetRemoved(e){const t=e.model(eo);if(t){this.#Rd.delete(t)}md.EventTarget.removeEventListeners(this.#Md.get(e)||[])}async evaluateCommandInConsole(e,t,r,n){const i=await e.evaluate({expression:r,objectGroup:"console",includeCommandLineAPI:n,silent:false,returnByValue:false,generatePreview:true,replMode:true,allowUnsafeEvalBlockedByCSP:false},md.Settings.Settings.instance().moduleSetting("console-user-activation-eval").get(),false);fd.userMetrics.actionTaken(fd.UserMetrics.Action.ConsoleEvaluated);if("error"in i){return}await md.Console.Console.instance().showPromise();this.dispatchEventToListeners("CommandEvaluated",{result:i.object,commandMessage:t,exceptionDetails:i.exceptionDetails})}addCommandMessage(e,t){const r=new Ud(e.runtimeModel,L.LogEntrySource.Javascript,null,t,{type:vd.Command});r.setExecutionContextId(e.id);this.addMessage(r);return r}addMessage(e){e.setPageLoadSequenceNumber(this.#xd);if(e.source===md.Console.FrontendMessageSource.ConsoleAPI&&e.type===Y.ConsoleAPICalledEventType.Clear){this.clearIfNecessary()}this.#wd.push(e);this.#Cd.set(e.timestamp,e);const t=e.runtimeModel();const r=e.getExceptionId();if(r&&t){let n=this.#Rd.get(t);if(!n){n=new Map;this.#Rd.set(t,n)}n.set(r,e)}this.incrementErrorWarningCount(e);this.dispatchEventToListeners("MessageAdded",e)}exceptionThrown(e,t){const r=t.data;const n=Fd(r.details.exceptionMetaData);const i=Ud.fromException(e,r.details,void 0,r.timestamp,void 0,n);i.setExceptionId(r.details.exceptionId);this.addMessage(i)}exceptionRevoked(e,t){const r=t.data;const n=this.#Rd.get(e);const i=n?n.get(r):null;if(!i){return}this.#Ed--;i.level=L.LogEntryLevel.Verbose;this.dispatchEventToListeners("MessageUpdated",i)}consoleAPICalled(e,t){const r=t.data;let n=L.LogEntryLevel.Info;if(r.type===Y.ConsoleAPICalledEventType.Debug){n=L.LogEntryLevel.Verbose}else if(r.type===Y.ConsoleAPICalledEventType.Error||r.type===Y.ConsoleAPICalledEventType.Assert){n=L.LogEntryLevel.Error}else if(r.type===Y.ConsoleAPICalledEventType.Warning){n=L.LogEntryLevel.Warning}else if(r.type===Y.ConsoleAPICalledEventType.Info||r.type===Y.ConsoleAPICalledEventType.Log){n=L.LogEntryLevel.Info}let i="";if(r.args.length&&r.args[0].unserializableValue){i=r.args[0].unserializableValue}else if(r.args.length&&(typeof r.args[0].value!=="object"&&typeof r.args[0].value!=="undefined"||r.args[0].value===null)){i=String(r.args[0].value)}else if(r.args.length&&r.args[0].description){i=r.args[0].description}const s=r.stackTrace&&r.stackTrace.callFrames.length?r.stackTrace.callFrames[0]:null;const o={type:r.type,url:s?.url,line:s?.lineNumber,column:s?.columnNumber,parameters:r.args,stackTrace:r.stackTrace,timestamp:r.timestamp,executionContextId:r.executionContextId,context:r.context};const a=new Ud(e,md.Console.FrontendMessageSource.ConsoleAPI,n,i,o);for(const e of this.#Cd.get(a.timestamp).values()){if(a.isEqual(e)){return}}this.addMessage(a)}queryObjectRequested(e,t){const{objects:r,executionContextId:n}=t.data;const i={type:vd.QueryObjectResult,parameters:[r],executionContextId:n};const s=new Ud(e,md.Console.FrontendMessageSource.ConsoleAPI,L.LogEntryLevel.Info,"",i);this.addMessage(s)}clearIfNecessary(){if(!md.Settings.Settings.instance().moduleSetting("preserve-console-log").get()){this.clear()}++this.#xd}primaryPageChanged(e){if(md.Settings.Settings.instance().moduleSetting("preserve-console-log").get()){const{frame:t}=e.data;if(t.backForwardCacheDetails.restoredFromCache){md.Console.Console.instance().log(Nd(Ad.bfcacheNavigation,{PH1:t.url}))}else{md.Console.Console.instance().log(Nd(Ad.navigatedToS,{PH1:t.url}))}}}consoleProfileStarted(e,t){const{data:r}=t;this.addConsoleProfileMessage(e,Y.ConsoleAPICalledEventType.Profile,r.scriptLocation,Nd(Ad.profileSStarted,{PH1:r.title}))}consoleProfileFinished(e,t){const{data:r}=t;this.addConsoleProfileMessage(e,Y.ConsoleAPICalledEventType.ProfileEnd,r.scriptLocation,Nd(Ad.profileSFinished,{PH1:r.title}))}addConsoleProfileMessage(e,t,r,n){const i=r.script();const s=[{functionName:"",scriptId:r.scriptId,url:i?i.contentURL():"",lineNumber:r.lineNumber,columnNumber:r.columnNumber||0}];this.addMessage(new Ud(e.runtimeModel(),md.Console.FrontendMessageSource.ConsoleAPI,L.LogEntryLevel.Info,n,{type:t,stackTrace:{callFrames:s}}))}incrementErrorWarningCount(e){if(e.source===L.LogEntrySource.Violation){this.#Pd++;return}switch(e.level){case L.LogEntryLevel.Warning:this.#Td++;break;case L.LogEntryLevel.Error:this.#Ed++;break}}messages(){return this.#wd}static allMessagesUnordered(){const t=[];for(const r of ut.instance().targets()){const n=r.model(e)?.messages()||[];t.push(...n)}return t}static requestClearMessages(){for(const e of ut.instance().models(xd)){e.requestClear()}for(const e of ut.instance().models(eo)){e.discardConsoleEntries()}for(const t of ut.instance().targets()){t.model(e)?.clear()}}clear(){this.#wd=[];this.#Cd.clear();this.#Rd.clear();this.#Ed=0;this.#Td=0;this.#Pd=0;this.dispatchEventToListeners("ConsoleCleared")}errors(){return this.#Ed}static allErrors(){let t=0;for(const r of ut.instance().targets()){t+=r.model(e)?.errors()||0}return t}warnings(){return this.#Td}static allWarnings(){let t=0;for(const r of ut.instance().targets()){t+=r.model(e)?.warnings()||0}return t}violations(){return this.#Pd}static allViolations(){let t=0;for(const r of ut.instance().targets()){t+=r.model(e)?.violations()||0}return t}async saveToTempVariable(e,t){if(!t||!e){a(null);return}const r=e;const n=await r.globalObject("",false);if("error"in n||Boolean(n.exceptionDetails)||!n.object){a("object"in n&&n.object||null);return}const i=n.object;const s=await i.callFunction(o,[fi.toCallArgument(t)]);i.release();if(s.wasThrown||!s.object||s.object.type!=="string"){a(s.object||null)}else{const e=s.object.value;const t=this.addCommandMessage(r,e);void this.evaluateCommandInConsole(r,t,e,false)}if(s.object){s.object.release()}function o(e){const t="temp";let r=1;while(t+r in this){++r}const n=t+r;this[n]=e;return n}function a(e){let t=Nd(Ad.failedToSaveToTempVariable);if(e){t=t+" "+e.description}md.Console.Console.instance().error(t)}}};var Dd=(e=>{e["ConsoleCleared"]="ConsoleCleared";e["MessageAdded"]="MessageAdded";e["MessageUpdated"]="MessageUpdated";e["CommandEvaluated"]="CommandEvaluated";return e})(Dd||{});function Fd(e){if(!e){return void 0}return{requestId:e.requestId||void 0,issueId:e.issueId||void 0}}function Bd(e,t){return e?.requestId===t?.requestId}function Hd(e,t){if(!e!==!t){return false}if(!e||!t){return true}const r=e.callFrames;const n=t.callFrames;if(r.length!==n.length){return false}for(let e=0,t=r.length;e<t;++e){if(r[e].scriptId!==n[e].scriptId||r[e].functionName!==n[e].functionName||r[e].lineNumber!==n[e].lineNumber||r[e].columnNumber!==n[e].columnNumber){return false}}return Hd(e.parent,t.parent)}var Ud=class e{#hn;source;level;messageText;type;url;line;column;parameters;stackTrace;timestamp;#Ad;scriptId;workerId;context;#Ld=null;#xd=void 0;#Nd=void 0;#Od;category;stackFrameWithBreakpoint=null;#Dd=null;constructor(t,r,n,i,s){this.#hn=t;this.source=r;this.level=n;this.messageText=i;this.type=s?.type||Y.ConsoleAPICalledEventType.Log;this.url=s?.url;this.line=s?.line||0;this.column=s?.column||0;this.parameters=s?.parameters;this.stackTrace=s?.stackTrace;this.timestamp=s?.timestamp||Date.now();this.#Ad=s?.executionContextId||0;this.scriptId=s?.scriptId;this.workerId=s?.workerId;this.#Od=s?.affectedResources;this.category=s?.category;if(!this.#Ad&&this.#hn){if(this.scriptId){this.#Ad=this.#hn.executionContextIdForScriptId(this.scriptId)}else if(this.stackTrace){this.#Ad=this.#hn.executionContextForStackTrace(this.stackTrace)}}if(s?.context){const e=s?.context.match(/[^#]*/);this.context=e?.[0]}if(this.stackTrace){const{callFrame:t,type:r}=e.#Fd(this.stackTrace);this.stackFrameWithBreakpoint=t;this.#Dd=r}}getAffectedResources(){return this.#Od}setPageLoadSequenceNumber(e){this.#xd=e}static fromException(t,r,n,i,s,o){const a={type:n,url:s||r.url,line:r.lineNumber,column:r.columnNumber,parameters:r.exception?[fi.fromLocalObject(r.text),r.exception]:void 0,stackTrace:r.stackTrace,timestamp:i,executionContextId:r.executionContextId,scriptId:r.scriptId,affectedResources:o};return new e(t,L.LogEntrySource.Javascript,L.LogEntryLevel.Error,eo.simpleTextFromException(r),a)}runtimeModel(){return this.#hn}target(){return this.#hn?this.#hn.target():null}setOriginatingMessage(e){this.#Ld=e;this.#Ad=e.#Ad}originatingMessage(){return this.#Ld}setExecutionContextId(e){this.#Ad=e}getExecutionContextId(){return this.#Ad}getExceptionId(){return this.#Nd}setExceptionId(e){this.#Nd=e}isGroupMessage(){return this.type===Y.ConsoleAPICalledEventType.StartGroup||this.type===Y.ConsoleAPICalledEventType.StartGroupCollapsed||this.type===Y.ConsoleAPICalledEventType.EndGroup}isGroupStartMessage(){return this.type===Y.ConsoleAPICalledEventType.StartGroup||this.type===Y.ConsoleAPICalledEventType.StartGroupCollapsed}isErrorOrWarning(){return this.level===L.LogEntryLevel.Warning||this.level===L.LogEntryLevel.Error}isGroupable(){const e=this.level===L.LogEntryLevel.Error&&(this.source===L.LogEntrySource.Javascript||this.source===L.LogEntrySource.Network);return this.source!==md.Console.FrontendMessageSource.ConsoleAPI&&this.type!==vd.Command&&this.type!==vd.Result&&this.type!==vd.System&&!e}groupCategoryKey(){return[this.source,this.level,this.type,this.#xd].join(":")}isEqual(e){if(!e){return false}if(this.parameters){if(!e.parameters||this.parameters.length!==e.parameters.length){return false}for(let t=0;t<e.parameters.length;++t){const r=e.parameters[t];const n=this.parameters[t];if(typeof r==="string"||typeof n==="string"){return false}if(r.type==="object"&&r.subtype!=="error"){if(!r.objectId||r.objectId!==n.objectId||e.timestamp!==this.timestamp){return false}}if(n.type!==r.type||n.value!==r.value||n.description!==r.description){return false}}}return this.runtimeModel()===e.runtimeModel()&&this.source===e.source&&this.type===e.type&&this.level===e.level&&this.line===e.line&&this.url===e.url&&this.scriptId===e.scriptId&&this.messageText===e.messageText&&this.#Ad===e.#Ad&&Bd(this.#Od,e.#Od)&&Hd(this.stackTrace,e.stackTrace)}get originatesFromLogpoint(){return this.#Dd===Oo.LOGPOINT}get originatesFromConditionalBreakpoint(){return this.#Dd===Oo.CONDITIONAL_BREAKPOINT}static#Fd({callFrames:e}){const t=[Fo,Do];const r=e.findLastIndex((({url:e})=>t.includes(e)));if(r===-1||r===e.length-1){return{callFrame:null,type:null}}const n=e[r].url===Do?Oo.LOGPOINT:Oo.CONDITIONAL_BREAKPOINT;return{callFrame:e[r+1],type:n}}};p.register(Od,{capabilities:nt.JS,autostart:true});var _d=new Map([[L.LogEntrySource.XML,"xml"],[L.LogEntrySource.Javascript,"javascript"],[L.LogEntrySource.Network,"network"],[md.Console.FrontendMessageSource.ConsoleAPI,"console-api"],[L.LogEntrySource.Storage,"storage"],[L.LogEntrySource.Appcache,"appcache"],[L.LogEntrySource.Rendering,"rendering"],[md.Console.FrontendMessageSource.CSS,"css"],[L.LogEntrySource.Security,"security"],[L.LogEntrySource.Deprecation,"deprecation"],[L.LogEntrySource.Worker,"worker"],[L.LogEntrySource.Violation,"violation"],[L.LogEntrySource.Intervention,"intervention"],[L.LogEntrySource.Recommendation,"recommendation"],[L.LogEntrySource.Other,"other"],[md.Console.FrontendMessageSource.ISSUE_PANEL,"issue-panel"]]);var qd={};a(qd,{CPUProfileDataModel:()=>Vd});import*as Wd from"./../../models/cpu_profile/cpu_profile.js";var Vd=class extends Wd.CPUProfileDataModel.CPUProfileDataModel{};var jd={};a(jd,{CPUThrottlingManager:()=>Yd,CPUThrottlingRates:()=>tc,Events:()=>Zd,throttlingManager:()=>ec});import*as Gd from"./../common/common.js";var zd={};a(zd,{DeviceOrientation:()=>Jd,EmulationModel:()=>Qd,Location:()=>Xd});import*as Kd from"./../common/common.js";var Qd=class extends p{#Bd;#Hd;#st;#Ud;#_d;#qd;#Wd;#Vd;#jd;#Gd;#zd;constructor(e){super(e);this.#Bd=e.emulationAgent();this.#Hd=e.deviceOrientationAgent();this.#st=e.model(Ts);this.#Ud=e.model(Jo);if(this.#Ud){this.#Ud.addEventListener(Yo.INSPECT_MODE_WILL_BE_TOGGLED,(()=>{void this.updateTouch()}),this)}const t=Kd.Settings.Settings.instance().moduleSetting("java-script-disabled");t.addChangeListener((async()=>await this.#Bd.invoke_setScriptExecutionDisabled({value:t.get()})));if(t.get()){void this.#Bd.invoke_setScriptExecutionDisabled({value:true})}const r=Kd.Settings.Settings.instance().moduleSetting("emulation.touch");r.addChangeListener((()=>{const e=r.get();void this.overrideEmulateTouch(e==="force")}));const n=Kd.Settings.Settings.instance().moduleSetting("emulation.idle-detection");n.addChangeListener((async()=>{const e=n.get();if(e==="none"){await this.clearIdleOverride();return}const t=JSON.parse(e);await this.setIdleOverride(t)}));const i=Kd.Settings.Settings.instance().moduleSetting("emulation.cpu-pressure");i.addChangeListener((async()=>{const e=i.get();if(e==="none"){await this.setPressureSourceOverrideEnabled(false);this.#qd=false;return}if(!this.#qd){this.#qd=true;await this.setPressureSourceOverrideEnabled(true)}await this.setPressureStateOverride(e)}));const s=Kd.Settings.Settings.instance().moduleSetting("emulated-css-media");const o=Kd.Settings.Settings.instance().moduleSetting("emulated-css-media-feature-color-gamut");const a=Kd.Settings.Settings.instance().moduleSetting("emulated-css-media-feature-prefers-color-scheme");const l=Kd.Settings.Settings.instance().moduleSetting("emulated-css-media-feature-forced-colors");const d=Kd.Settings.Settings.instance().moduleSetting("emulated-css-media-feature-prefers-contrast");const c=Kd.Settings.Settings.instance().moduleSetting("emulated-css-media-feature-prefers-reduced-data");const u=Kd.Settings.Settings.instance().moduleSetting("emulated-css-media-feature-prefers-reduced-transparency");const h=Kd.Settings.Settings.instance().moduleSetting("emulated-css-media-feature-prefers-reduced-motion");this.#_d=new Map([["type",s.get()],["color-gamut",o.get()],["prefers-color-scheme",a.get()],["forced-colors",l.get()],["prefers-contrast",d.get()],["prefers-reduced-data",c.get()],["prefers-reduced-motion",h.get()],["prefers-reduced-transparency",u.get()]]);s.addChangeListener((()=>{this.#_d.set("type",s.get());void this.updateCssMedia()}));o.addChangeListener((()=>{this.#_d.set("color-gamut",o.get());void this.updateCssMedia()}));a.addChangeListener((()=>{this.#_d.set("prefers-color-scheme",a.get());void this.updateCssMedia()}));l.addChangeListener((()=>{this.#_d.set("forced-colors",l.get());void this.updateCssMedia()}));d.addChangeListener((()=>{this.#_d.set("prefers-contrast",d.get());void this.updateCssMedia()}));c.addChangeListener((()=>{this.#_d.set("prefers-reduced-data",c.get());void this.updateCssMedia()}));h.addChangeListener((()=>{this.#_d.set("prefers-reduced-motion",h.get());void this.updateCssMedia()}));u.addChangeListener((()=>{this.#_d.set("prefers-reduced-transparency",u.get());void this.updateCssMedia()}));void this.updateCssMedia();const g=Kd.Settings.Settings.instance().moduleSetting("emulate-auto-dark-mode");g.addChangeListener((()=>{const e=g.get();a.setDisabled(e);a.set(e?"dark":"");void this.emulateAutoDarkMode(e)}));if(g.get()){a.setDisabled(true);a.set("dark");void this.emulateAutoDarkMode(true)}const p=Kd.Settings.Settings.instance().moduleSetting("emulated-vision-deficiency");p.addChangeListener((()=>this.emulateVisionDeficiency(p.get())));if(p.get()){void this.emulateVisionDeficiency(p.get())}const m=Kd.Settings.Settings.instance().moduleSetting("local-fonts-disabled");m.addChangeListener((()=>this.setLocalFontsDisabled(m.get())));if(m.get()){this.setLocalFontsDisabled(m.get())}const f=Kd.Settings.Settings.instance().moduleSetting("avif-format-disabled");const y=Kd.Settings.Settings.instance().moduleSetting("webp-format-disabled");const S=()=>{const e=[];if(f.get()){e.push(E.DisabledImageType.Avif)}if(y.get()){e.push(E.DisabledImageType.Webp)}this.setDisabledImageTypes(e)};f.addChangeListener(S);y.addChangeListener(S);if(f.get()||y.get()){S()}this.#qd=false;this.#jd=true;this.#Wd=false;this.#Vd=false;this.#Gd=false;this.#zd={enabled:false,configuration:E.SetEmitTouchEventsForMouseRequestConfiguration.Mobile}}setTouchEmulationAllowed(e){this.#jd=e}supportsDeviceEmulation(){return this.target().hasAllCapabilities(nt.DEVICE_EMULATION)}async resetPageScaleFactor(){await this.#Bd.invoke_resetPageScaleFactor()}async emulateDevice(e){if(e){await this.#Bd.invoke_setDeviceMetricsOverride(e)}else{await this.#Bd.invoke_clearDeviceMetricsOverride()}}overlayModel(){return this.#Ud}async setPressureSourceOverrideEnabled(e){await this.#Bd.invoke_setPressureSourceOverrideEnabled({source:E.PressureSource.Cpu,enabled:e})}async setPressureStateOverride(e){await this.#Bd.invoke_setPressureStateOverride({source:E.PressureSource.Cpu,state:e})}async emulateLocation(e){if(!e){await Promise.all([this.#Bd.invoke_clearGeolocationOverride(),this.#Bd.invoke_setTimezoneOverride({timezoneId:""}),this.#Bd.invoke_setLocaleOverride({locale:""}),this.#Bd.invoke_setUserAgentOverride({userAgent:Ft.instance().currentUserAgent()})])}else if(e.unavailable){await Promise.all([this.#Bd.invoke_setGeolocationOverride({}),this.#Bd.invoke_setTimezoneOverride({timezoneId:""}),this.#Bd.invoke_setLocaleOverride({locale:""}),this.#Bd.invoke_setUserAgentOverride({userAgent:Ft.instance().currentUserAgent()})])}else{let r=function(e,t){const r=t.getError();if(r){return Promise.reject({type:e,message:r})}return Promise.resolve()};var t=r;await Promise.all([this.#Bd.invoke_setGeolocationOverride({latitude:e.latitude,longitude:e.longitude,accuracy:Xd.defaultGeoMockAccuracy}).then((e=>r("emulation-set-location",e))),this.#Bd.invoke_setTimezoneOverride({timezoneId:e.timezoneId}).then((e=>r("emulation-set-timezone",e))),this.#Bd.invoke_setLocaleOverride({locale:e.locale}).then((e=>r("emulation-set-locale",e))),this.#Bd.invoke_setUserAgentOverride({userAgent:Ft.instance().currentUserAgent(),acceptLanguage:e.locale}).then((e=>r("emulation-set-user-agent",e)))])}}async emulateDeviceOrientation(e){if(e){await this.#Hd.invoke_setDeviceOrientationOverride({alpha:e.alpha,beta:e.beta,gamma:e.gamma})}else{await this.#Hd.invoke_clearDeviceOrientationOverride()}}async setIdleOverride(e){await this.#Bd.invoke_setIdleOverride(e)}async clearIdleOverride(){await this.#Bd.invoke_clearIdleOverride()}async emulateCSSMedia(e,t){await this.#Bd.invoke_setEmulatedMedia({media:e,features:t});if(this.#st){this.#st.mediaQueryResultChanged()}}async emulateAutoDarkMode(e){if(e){this.#_d.set("prefers-color-scheme","dark");await this.updateCssMedia()}await this.#Bd.invoke_setAutoDarkModeOverride({enabled:e||void 0})}async emulateVisionDeficiency(e){await this.#Bd.invoke_setEmulatedVisionDeficiency({type:e})}setLocalFontsDisabled(e){if(!this.#st){return}void this.#st.setLocalFontsEnabled(!e)}setDisabledImageTypes(e){void this.#Bd.invoke_setDisabledImageTypes({imageTypes:e})}async setCPUThrottlingRate(e){await this.#Bd.invoke_setCPUThrottlingRate({rate:e})}async setHardwareConcurrency(e){if(e<1){throw new Error("hardwareConcurrency must be a positive value")}await this.#Bd.invoke_setHardwareConcurrencyOverride({hardwareConcurrency:e})}async emulateTouch(e,t){this.#Wd=e&&this.#jd;this.#Vd=t&&this.#jd;await this.updateTouch()}async overrideEmulateTouch(e){this.#Gd=e&&this.#jd;await this.updateTouch()}async updateTouch(){let e={enabled:this.#Wd,configuration:this.#Vd?E.SetEmitTouchEventsForMouseRequestConfiguration.Mobile:E.SetEmitTouchEventsForMouseRequestConfiguration.Desktop};if(this.#Gd){e={enabled:true,configuration:E.SetEmitTouchEventsForMouseRequestConfiguration.Mobile}}if(this.#Ud&&this.#Ud.inspectModeEnabled()){e={enabled:false,configuration:E.SetEmitTouchEventsForMouseRequestConfiguration.Mobile}}if(!this.#zd.enabled&&!e.enabled){return}if(this.#zd.enabled&&e.enabled&&this.#zd.configuration===e.configuration){return}this.#zd=e;await this.#Bd.invoke_setTouchEmulationEnabled({enabled:e.enabled,maxTouchPoints:1});await this.#Bd.invoke_setEmitTouchEventsForMouse({enabled:e.enabled,configuration:e.configuration})}async updateCssMedia(){const e=this.#_d.get("type")??"";const t=[{name:"color-gamut",value:this.#_d.get("color-gamut")??""},{name:"prefers-color-scheme",value:this.#_d.get("prefers-color-scheme")??""},{name:"forced-colors",value:this.#_d.get("forced-colors")??""},{name:"prefers-contrast",value:this.#_d.get("prefers-contrast")??""},{name:"prefers-reduced-data",value:this.#_d.get("prefers-reduced-data")??""},{name:"prefers-reduced-motion",value:this.#_d.get("prefers-reduced-motion")??""},{name:"prefers-reduced-transparency",value:this.#_d.get("prefers-reduced-transparency")??""}];return this.emulateCSSMedia(e,t)}};var Xd=class e{latitude;longitude;timezoneId;locale;unavailable;constructor(e,t,r,n,i){this.latitude=e;this.longitude=t;this.timezoneId=r;this.locale=n;this.unavailable=i}static parseSetting(t){if(t){const[r,n,i,s]=t.split(":");const[o,a]=r.split("@");return new e(parseFloat(o),parseFloat(a),n,i,Boolean(s))}return new e(0,0,"","",false)}static parseUserInput(t,r,n,i){if(!t&&!r){return null}const{valid:s}=e.latitudeValidator(t);const{valid:o}=e.longitudeValidator(r);if(!s&&!o){return null}const a=s?parseFloat(t):-1;const l=o?parseFloat(r):-1;return new e(a,l,n,i,false)}static latitudeValidator(e){const t=parseFloat(e);const r=/^([+-]?[\d]+(\.\d+)?|[+-]?\.\d+)$/.test(e)&&t>=-90&&t<=90;return{valid:r,errorMessage:void 0}}static longitudeValidator(e){const t=parseFloat(e);const r=/^([+-]?[\d]+(\.\d+)?|[+-]?\.\d+)$/.test(e)&&t>=-180&&t<=180;return{valid:r,errorMessage:void 0}}static timezoneIdValidator(e){const t=e===""||/[a-zA-Z]/.test(e);return{valid:t,errorMessage:void 0}}static localeValidator(e){const t=e===""||/[a-zA-Z]{2}/.test(e);return{valid:t,errorMessage:void 0}}toSetting(){return`${this.latitude}@${this.longitude}:${this.timezoneId}:${this.locale}:${this.unavailable||""}`}static defaultGeoMockAccuracy=150};var Jd=class e{alpha;beta;gamma;constructor(e,t,r){this.alpha=e;this.beta=t;this.gamma=r}static parseSetting(t){if(t){const r=JSON.parse(t);return new e(r.alpha,r.beta,r.gamma)}return new e(0,0,0)}static parseUserInput(t,r,n){if(!t&&!r&&!n){return null}const{valid:i}=e.alphaAngleValidator(t);const{valid:s}=e.betaAngleValidator(r);const{valid:o}=e.gammaAngleValidator(n);if(!i&&!s&&!o){return null}const a=i?parseFloat(t):-1;const l=s?parseFloat(r):-1;const d=o?parseFloat(n):-1;return new e(a,l,d)}static angleRangeValidator(e,t){const r=parseFloat(e);const n=/^([+-]?[\d]+(\.\d+)?|[+-]?\.\d+)$/.test(e)&&r>=t.minimum&&r<t.maximum;return{valid:n,errorMessage:void 0}}static alphaAngleValidator(t){return e.angleRangeValidator(t,{minimum:0,maximum:360})}static betaAngleValidator(t){return e.angleRangeValidator(t,{minimum:-180,maximum:180})}static gammaAngleValidator(t){return e.angleRangeValidator(t,{minimum:-90,maximum:90})}toSetting(){return JSON.stringify(this)}};p.register(Qd,{capabilities:nt.EMULATION,autostart:true});var $d;var Yd=class e extends Gd.ObjectWrapper.ObjectWrapper{#Kd;#Qd;#Xd;constructor(){super();this.#Kd=1;ut.instance().observeModels(Qd,this)}static instance(t={forceNew:null}){const{forceNew:r}=t;if(!$d||r){$d=new e}return $d}cpuThrottlingRate(){return this.#Kd}setCPUThrottlingRate(e){if(e===this.#Kd){return}this.#Kd=e;for(const e of ut.instance().models(Qd)){void e.setCPUThrottlingRate(this.#Kd)}this.dispatchEventToListeners("RateChanged",this.#Kd)}setHardwareConcurrency(e){this.#Qd=e;for(const t of ut.instance().models(Qd)){void t.setHardwareConcurrency(e)}this.dispatchEventToListeners("HardwareConcurrencyChanged",this.#Qd)}hasPrimaryPageTargetSet(){try{return ut.instance().primaryPageTarget()!==null}catch{return false}}async getHardwareConcurrency(){const e=ut.instance().primaryPageTarget();const t=this.#Xd;if(!e){if(t){return new Promise((e=>{this.#Xd=r=>{e(r);t(r)}}))}return new Promise((e=>{this.#Xd=e}))}const r=await e.runtimeAgent().invoke_evaluate({expression:"navigator.hardwareConcurrency",returnByValue:true,silent:true,throwOnSideEffect:true});const n=r.getError();if(n){throw new Error(n)}const{result:i,exceptionDetails:s}=r;if(s){throw new Error(s.text)}return i.value}modelAdded(e){if(this.#Kd!==1){void e.setCPUThrottlingRate(this.#Kd)}if(this.#Qd!==void 0){void e.setHardwareConcurrency(this.#Qd)}if(this.#Xd){const e=this.#Xd;this.#Xd=void 0;void this.getHardwareConcurrency().then(e)}}modelRemoved(e){}};var Zd=(e=>{e["RATE_CHANGED"]="RateChanged";e["HARDWARE_CONCURRENCY_CHANGED"]="HardwareConcurrencyChanged";return e})(Zd||{});function ec(){return Yd.instance()}var tc=(e=>{e[e["NO_THROTTLING"]=1]="NO_THROTTLING";e[e["MidTierMobile"]=4]="MidTierMobile";e[e["LowEndMobile"]=6]="LowEndMobile";e[e["EXTRA_SLOW"]=20]="EXTRA_SLOW";return e})(tc||{});var rc={};a(rc,{CSPViolationBreakpoint:()=>cc,DOMBreakpoint:()=>lc,DOMDebuggerManager:()=>gc,DOMDebuggerModel:()=>sc,DOMEventListenerBreakpoint:()=>uc,EventListener:()=>dc,Events:()=>oc});import*as nc from"./../common/common.js";import*as ic from"./../platform/platform.js";var sc=class extends p{agent;#hn;#zr;#Jd;#$d;suspended=false;constructor(e){super(e);this.agent=e.domdebuggerAgent();this.#hn=e.model(eo);this.#zr=e.model(sa);this.#zr.addEventListener(oa.DocumentUpdated,this.documentUpdated,this);this.#zr.addEventListener(oa.NodeRemoved,this.nodeRemoved,this);this.#Jd=[];this.#$d=nc.Settings.Settings.instance().createLocalSetting("dom-breakpoints",[]);if(this.#zr.existingDocument()){void this.documentUpdated()}}runtimeModel(){return this.#hn}async suspendModel(){this.suspended=true}async resumeModel(){this.suspended=false}async eventListeners(e){console.assert(e.runtimeModel()===this.#hn);if(!e.objectId){return[]}const t=await this.agent.invoke_getEventListeners({objectId:e.objectId});const r=[];for(const n of t.listeners||[]){const t=this.#hn.debuggerModel().createRawLocationByScriptId(n.scriptId,n.lineNumber,n.columnNumber);if(!t){continue}r.push(new dc(this,e,n.type,n.useCapture,n.passive,n.once,n.handler?this.#hn.createRemoteObject(n.handler):null,n.originalHandler?this.#hn.createRemoteObject(n.originalHandler):null,t,null))}return r}retrieveDOMBreakpoints(){void this.#zr.requestDocument()}domBreakpoints(){return this.#Jd.slice()}hasDOMBreakpoint(e,t){return this.#Jd.some((r=>r.node===e&&r.type===t))}setDOMBreakpoint(e,t){for(const r of this.#Jd){if(r.node===e&&r.type===t){this.toggleDOMBreakpoint(r,true);return r}}const r=new lc(this,e,t,true);this.#Jd.push(r);this.saveDOMBreakpoints();this.enableDOMBreakpoint(r);this.dispatchEventToListeners("DOMBreakpointAdded",r);return r}removeDOMBreakpoint(e,t){this.removeDOMBreakpoints((r=>r.node===e&&r.type===t))}removeAllDOMBreakpoints(){this.removeDOMBreakpoints((e=>true))}toggleDOMBreakpoint(e,t){if(t===e.enabled){return}e.enabled=t;if(t){this.enableDOMBreakpoint(e)}else{this.disableDOMBreakpoint(e)}this.dispatchEventToListeners("DOMBreakpointToggled",e)}enableDOMBreakpoint(e){if(e.node.id){void this.agent.invoke_setDOMBreakpoint({nodeId:e.node.id,type:e.type});e.node.setMarker(ac,true)}}disableDOMBreakpoint(e){if(e.node.id){void this.agent.invoke_removeDOMBreakpoint({nodeId:e.node.id,type:e.type});e.node.setMarker(ac,this.nodeHasBreakpoints(e.node)?true:null)}}nodeHasBreakpoints(e){for(const t of this.#Jd){if(t.node===e&&t.enabled){return true}}return false}resolveDOMBreakpointData(e){const t=e["type"];const r=this.#zr.nodeForId(e["nodeId"]);if(!t||!r){return null}let n=null;let i=false;if(t===T.DOMBreakpointType.SubtreeModified){i=e["insertion"]||false;n=this.#zr.nodeForId(e["targetNodeId"])}return{type:t,node:r,targetNode:n,insertion:i}}currentURL(){const e=this.#zr.existingDocument();return e?e.documentURL:ic.DevToolsPath.EmptyUrlString}async documentUpdated(){if(this.suspended){return}const e=this.#Jd;this.#Jd=[];this.dispatchEventToListeners("DOMBreakpointsRemoved",e);const t=await this.#zr.requestDocument();const r=t?t.documentURL:ic.DevToolsPath.EmptyUrlString;for(const e of this.#$d.get()){if(e.url===r){void this.#zr.pushNodeByPathToFrontend(e.path).then(n.bind(this,e))}}function n(e,t){const r=t?this.#zr.nodeForId(t):null;if(!r){return}const n=new lc(this,r,e.type,e.enabled);this.#Jd.push(n);if(e.enabled){this.enableDOMBreakpoint(n)}this.dispatchEventToListeners("DOMBreakpointAdded",n)}}removeDOMBreakpoints(e){const t=[];const r=[];for(const n of this.#Jd){if(e(n)){t.push(n);if(n.enabled){n.enabled=false;this.disableDOMBreakpoint(n)}}else{r.push(n)}}if(!t.length){return}this.#Jd=r;this.saveDOMBreakpoints();this.dispatchEventToListeners("DOMBreakpointsRemoved",t)}nodeRemoved(e){if(this.suspended){return}const{node:t}=e.data;const r=t.children()||[];this.removeDOMBreakpoints((e=>e.node===t||r.indexOf(e.node)!==-1))}saveDOMBreakpoints(){const e=this.currentURL();const t=this.#$d.get().filter((t=>t.url!==e));for(const r of this.#Jd){t.push({url:e,path:r.node.path(),type:r.type,enabled:r.enabled})}this.#$d.set(t)}};var oc=(e=>{e["DOM_BREAKPOINT_ADDED"]="DOMBreakpointAdded";e["DOM_BREAKPOINT_TOGGLED"]="DOMBreakpointToggled";e["DOM_BREAKPOINTS_REMOVED"]="DOMBreakpointsRemoved";return e})(oc||{});var ac="breakpoint-marker";var lc=class{domDebuggerModel;node;type;enabled;constructor(e,t,r,n){this.domDebuggerModel=e;this.node=t;this.type=r;this.enabled=n}};var dc=class e{#Yd;#Zd;#g;#ec;#tc;#rc;#nc;#ic;#Vn;#sc;#oc;#ac;constructor(t,r,n,i,s,o,a,l,d,c,u){this.#Yd=t;this.#Zd=r;this.#g=n;this.#ec=i;this.#tc=s;this.#rc=o;this.#nc=a;this.#ic=l||a;this.#Vn=d;const h=d.script();this.#sc=h?h.contentURL():ic.DevToolsPath.EmptyUrlString;this.#oc=c;this.#ac=u||e.Origin.RAW}domDebuggerModel(){return this.#Yd}type(){return this.#g}useCapture(){return this.#ec}passive(){return this.#tc}once(){return this.#rc}handler(){return this.#nc}location(){return this.#Vn}sourceURL(){return this.#sc}originalHandler(){return this.#ic}canRemove(){return Boolean(this.#oc)||this.#ac!==e.Origin.FRAMEWORK_USER}remove(){if(!this.canRemove()){return Promise.resolve(void 0)}if(this.#ac!==e.Origin.FRAMEWORK_USER){let e=function(e,t,r){this.removeEventListener(e,t,r);if(this["on"+e]){this["on"+e]=void 0}};var t=e;return this.#Zd.callFunction(e,[fi.toCallArgument(this.#g),fi.toCallArgument(this.#ic),fi.toCallArgument(this.#ec)]).then((()=>void 0))}if(this.#oc){let e=function(e,t,r,n){this.call(null,e,t,r,n)};var r=e;return this.#oc.callFunction(e,[fi.toCallArgument(this.#g),fi.toCallArgument(this.#ic),fi.toCallArgument(this.#ec),fi.toCallArgument(this.#tc)]).then((()=>void 0))}return Promise.resolve(void 0)}canTogglePassive(){return this.#ac!==e.Origin.FRAMEWORK_USER}togglePassive(){return this.#Zd.callFunction(e,[fi.toCallArgument(this.#g),fi.toCallArgument(this.#ic),fi.toCallArgument(this.#ec),fi.toCallArgument(this.#tc)]).then((()=>void 0));function e(e,t,r,n){this.removeEventListener(e,t,{capture:r});this.addEventListener(e,t,{capture:r,passive:!n})}}origin(){return this.#ac}markAsFramework(){this.#ac=e.Origin.FRAMEWORK}isScrollBlockingType(){return this.#g==="touchstart"||this.#g==="touchmove"||this.#g==="mousewheel"||this.#g==="wheel"}};(e=>{let t;(e=>{e["RAW"]="Raw";e["FRAMEWORK"]="Framework";e["FRAMEWORK_USER"]="FrameworkUser"})(t=e.Origin||(e.Origin={}))})(dc||(dc={}));var cc=class extends _l{#g;constructor(e,t){super(e,t);this.#g=t}type(){return this.#g}};var uc=class extends _l{eventTargetNames;constructor(e,t,r){super(r,e);this.eventTargetNames=t}setEnabled(e){if(this.enabled()===e){return}super.setEnabled(e);for(const e of ut.instance().models(sc)){this.updateOnModel(e)}}updateOnModel(e){for(const t of this.eventTargetNames){if(this.enabled()){void e.agent.invoke_setEventListenerBreakpoint({eventName:this.name,targetName:t})}else{void e.agent.invoke_removeEventListenerBreakpoint({eventName:this.name,targetName:t})}}}static listener="listener:"};var hc;var gc=class e{#lc;#dc;#cc;#uc;constructor(){this.#lc=nc.Settings.Settings.instance().createLocalSetting("xhr-breakpoints",[]);this.#dc=new Map;for(const e of this.#lc.get()){this.#dc.set(e.url,e.enabled)}this.#cc=[];this.#cc.push(new cc(Ul.TRUSTED_TYPE_VIOLATION,T.CSPViolationType.TrustedtypeSinkViolation));this.#cc.push(new cc(Ul.TRUSTED_TYPE_VIOLATION,T.CSPViolationType.TrustedtypePolicyViolation));this.#uc=[];this.createEventListenerBreakpoints(Ul.MEDIA,["play","pause","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange","loadstart","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","waiting"],["audio","video"]);this.createEventListenerBreakpoints(Ul.PICTURE_IN_PICTURE,["enterpictureinpicture","leavepictureinpicture"],["video"]);this.createEventListenerBreakpoints(Ul.PICTURE_IN_PICTURE,["resize"],["PictureInPictureWindow"]);this.createEventListenerBreakpoints(Ul.PICTURE_IN_PICTURE,["enter"],["documentPictureInPicture"]);this.createEventListenerBreakpoints(Ul.CLIPBOARD,["copy","cut","paste","beforecopy","beforecut","beforepaste"],["*"]);this.createEventListenerBreakpoints(Ul.CONTROL,["resize","scroll","scrollend","scrollsnapchange","scrollsnapchanging","zoom","focus","blur","select","change","submit","reset"],["*"]);this.createEventListenerBreakpoints(Ul.DEVICE,["deviceorientation","devicemotion"],["*"]);this.createEventListenerBreakpoints(Ul.DOM_MUTATION,["DOMActivate","DOMFocusIn","DOMFocusOut","DOMAttrModified","DOMCharacterDataModified","DOMNodeInserted","DOMNodeInsertedIntoDocument","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMSubtreeModified","DOMContentLoaded"],["*"]);this.createEventListenerBreakpoints(Ul.DRAG_DROP,["drag","dragstart","dragend","dragenter","dragover","dragleave","drop"],["*"]);this.createEventListenerBreakpoints(Ul.KEYBOARD,["keydown","keyup","keypress","input"],["*"]);this.createEventListenerBreakpoints(Ul.LOAD,["load","beforeunload","unload","abort","error","hashchange","popstate","navigate","navigatesuccess","navigateerror","currentchange","navigateto","navigatefrom","finish","dispose"],["*"]);this.createEventListenerBreakpoints(Ul.MOUSE,["auxclick","click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout","mouseenter","mouseleave","mousewheel","wheel","contextmenu"],["*"]);this.createEventListenerBreakpoints(Ul.POINTER,["pointerover","pointerout","pointerenter","pointerleave","pointerdown","pointerup","pointermove","pointercancel","gotpointercapture","lostpointercapture","pointerrawupdate"],["*"]);this.createEventListenerBreakpoints(Ul.TOUCH,["touchstart","touchmove","touchend","touchcancel"],["*"]);this.createEventListenerBreakpoints(Ul.WORKER,["message","messageerror"],["*"]);this.createEventListenerBreakpoints(Ul.XHR,["readystatechange","load","loadstart","loadend","abort","error","progress","timeout"],["xmlhttprequest","xmlhttprequestupload"]);ut.instance().observeModels(sc,this)}static instance(t={forceNew:null}){const{forceNew:r}=t;if(!hc||r){hc=new e}return hc}cspViolationBreakpoints(){return this.#cc.slice()}createEventListenerBreakpoints(e,t,r){for(const n of t){this.#uc.push(new uc(n,r,e))}}resolveEventListenerBreakpoint({eventName:e,targetName:t}){const r="listener:";if(e.startsWith(r)){e=e.substring(r.length)}else{return null}t=(t||"*").toLowerCase();let n=null;for(const r of this.#uc){if(e&&r.name===e&&r.eventTargetNames.indexOf(t)!==-1){n=r}if(!n&&e&&r.name===e&&r.eventTargetNames.indexOf("*")!==-1){n=r}}return n}eventListenerBreakpoints(){return this.#uc.slice()}updateCSPViolationBreakpoints(){const e=this.#cc.filter((e=>e.enabled())).map((e=>e.type()));for(const t of ut.instance().models(sc)){this.updateCSPViolationBreakpointsForModel(t,e)}}updateCSPViolationBreakpointsForModel(e,t){void e.agent.invoke_setBreakOnCSPViolation({violationTypes:t})}xhrBreakpoints(){return this.#dc}saveXHRBreakpoints(){const e=[];for(const t of this.#dc.keys()){e.push({url:t,enabled:this.#dc.get(t)||false})}this.#lc.set(e)}addXHRBreakpoint(e,t){this.#dc.set(e,t);if(t){for(const t of ut.instance().models(sc)){void t.agent.invoke_setXHRBreakpoint({url:e})}}this.saveXHRBreakpoints()}removeXHRBreakpoint(e){const t=this.#dc.get(e);this.#dc.delete(e);if(t){for(const t of ut.instance().models(sc)){void t.agent.invoke_removeXHRBreakpoint({url:e})}}this.saveXHRBreakpoints()}toggleXHRBreakpoint(e,t){this.#dc.set(e,t);for(const r of ut.instance().models(sc)){if(t){void r.agent.invoke_setXHRBreakpoint({url:e})}else{void r.agent.invoke_removeXHRBreakpoint({url:e})}}this.saveXHRBreakpoints()}modelAdded(e){for(const t of this.#dc.keys()){if(this.#dc.get(t)){void e.agent.invoke_setXHRBreakpoint({url:t})}}for(const t of this.#uc){if(t.enabled()){t.updateOnModel(e)}}const t=this.#cc.filter((e=>e.enabled())).map((e=>e.type()));this.updateCSPViolationBreakpointsForModel(e,t)}modelRemoved(e){}};p.register(sc,{capabilities:nt.DOM,autostart:false});var pc={};a(pc,{EnhancedTracesParser:()=>fc});import{UserVisibleError as mc}from"./../platform/platform.js";var fc=class{#hc=[];#gc=new Map;#pc=new Map;#mc=new Map;#fc=new Map;#yc=[];#Sc=[];#vc=[];static enhancedTraceVersion=1;constructor(e){try{this.parseEnhancedTrace(e)}catch(e){throw new mc.UserVisibleError(e)}}parseEnhancedTrace(e){for(const t of e){if(this.isTargetRundownEvent(t)){const e=t.args?.data;this.#gc.set(this.getScriptIsolateId(e.isolate,e.scriptId),e.v8context);if(!this.#yc.find((t=>t.targetId===e.frame))){this.#yc.push({targetId:e.frame,type:e.frameType,isolate:e.isolate,pid:t.pid,url:e.url})}if(!this.#Sc.find((t=>t.v8Context===e.v8context))){this.#Sc.push({id:-1,origin:e.origin,v8Context:e.v8context,auxData:{frameId:e.frame,isDefault:e.isDefault,type:e.contextType},isolate:e.isolate})}}else if(this.isScriptRundownEvent(t)){this.#hc.push(t);const e=t.args.data;if(!this.#vc.find((t=>t.scriptId===e.scriptId&&t.isolate===e.isolate))){this.#vc.push({scriptId:e.scriptId,isolate:e.isolate,executionContextId:e.executionContextId,startLine:e.startLine,startColumn:e.startColumn,endLine:e.endLine,endColumn:e.endColumn,hash:e.hash,isModule:e.isModule,url:e.url,hasSourceUrl:e.hasSourceUrl,sourceMapUrl:e.sourceMapUrl})}}else if(this.isScriptRundownSourceEvent(t)){const e=t.args.data;const r=this.getScriptIsolateId(e.isolate,e.scriptId);if("splitIndex"in e&&"splitCount"in e){if(!this.#mc.has(r)){this.#mc.set(r,new Array(e.splitCount).fill(""))}const t=this.#mc.get(r);if(t&&e.sourceText){t[e.splitIndex]=e.sourceText}}else{if(e.sourceText){this.#pc.set(r,e.sourceText)}if(e.length){this.#fc.set(r,e.length)}}}}}data(){const e=new Map;this.#hc.forEach((t=>{const r=t.args.data;const n=this.#gc.get(this.getScriptIsolateId(r.isolate,r.scriptId));if(n){e.set(n,r.executionContextId)}}));this.#Sc.forEach((t=>{if(t.v8Context){const r=e.get(t.v8Context);if(r){t.id=r}}}));this.#vc.forEach((e=>{const t=this.getScriptIsolateId(e.isolate,e.scriptId);if(this.#pc.has(t)){e.sourceText=this.#pc.get(t);e.length=this.#fc.get(t)}else if(this.#mc.has(t)){const r=this.#mc.get(t);if(r){e.sourceText=r.join("");e.length=e.sourceText.length}}e.auxData=this.#Sc.find((t=>t.id===e.executionContextId&&t.isolate===e.isolate))?.auxData}));const t=new Map;for(const e of this.#yc){t.set(e,this.groupContextsAndScriptsUnderTarget(e,this.#Sc,this.#vc))}return t}getScriptIsolateId(e,t){return t+"@"+e}isTraceEvent(e){return"cat"in e&&"pid"in e}isTargetRundownEvent(e){return this.isTraceEvent(e)&&e.cat==="disabled-by-default-devtools.target-rundown"}isScriptRundownEvent(e){return this.isTraceEvent(e)&&e.cat==="disabled-by-default-devtools.v8-source-rundown"}isScriptRundownSourceEvent(e){return this.isTraceEvent(e)&&e.cat==="disabled-by-default-devtools.v8-source-rundown-sources"}groupContextsAndScriptsUnderTarget(e,t,r){const n=[];const i=[];for(const r of t){if(r.auxData?.frameId===e.targetId){n.push(r)}}for(const t of r){if(t.auxData===null){console.error(t+" missing aux data")}if(t.auxData?.frameId===e.targetId){i.push(t)}}return[n,i]}};var yc={};a(yc,{EventBreakpointsManager:()=>kc,EventBreakpointsModel:()=>vc,InstrumentationNames:()=>Sc});var Sc=(e=>{e["BEFORE_BIDDER_WORKLET_BIDDING_START"]="beforeBidderWorkletBiddingStart";e["BEFORE_BIDDER_WORKLET_REPORTING_START"]="beforeBidderWorkletReportingStart";e["BEFORE_SELLER_WORKLET_SCORING_START"]="beforeSellerWorkletScoringStart";e["BEFORE_SELLER_WORKLET_REPORTING_START"]="beforeSellerWorkletReportingStart";e["SET_TIMEOUT"]="setTimeout";e["CLEAR_TIMEOUT"]="clearTimeout";e["SET_TIMEOUT_CALLBACK"]="setTimeout.callback";e["SET_INTERVAL"]="setInterval";e["CLEAR_INTERVAL"]="clearInterval";e["SET_INTERVAL_CALLBACK"]="setInterval.callback";e["SCRIPT_FIRST_STATEMENT"]="scriptFirstStatement";e["SCRIPT_BLOCKED_BY_CSP"]="scriptBlockedByCSP";e["SHARED_STORAGE_WORKLET_SCRIPT_FIRST_STATEMENT"]="sharedStorageWorkletScriptFirstStatement";e["REQUEST_ANIMATION_FRAME"]="requestAnimationFrame";e["CANCEL_ANIMATION_FRAME"]="cancelAnimationFrame";e["REQUEST_ANIMATION_FRAME_CALLBACK"]="requestAnimationFrame.callback";e["WEBGL_ERROR_FIRED"]="webglErrorFired";e["WEBGL_WARNING_FIRED"]="webglWarningFired";e["ELEMENT_SET_INNER_HTML"]="Element.setInnerHTML";e["CANVAS_CONTEXT_CREATED"]="canvasContextCreated";e["GEOLOCATION_GET_CURRENT_POSITION"]="Geolocation.getCurrentPosition";e["GEOLOCATION_WATCH_POSITION"]="Geolocation.watchPosition";e["NOTIFCATION_REQUEST_PERMISSION"]="Notification.requestPermission";e["DOM_WINDOW_CLOSE"]="DOMWindow.close";e["DOCUMENT_WRITE"]="Document.write";e["AUDIO_CONTEXT_CREATED"]="audioContextCreated";e["AUDIO_CONTEXT_CLOSED"]="audioContextClosed";e["AUDIO_CONTEXT_RESUMED"]="audioContextResumed";e["AUDIO_CONTEXT_SUSPENDED"]="audioContextSuspended";return e})(Sc||{});var vc=class extends p{agent;constructor(e){super(e);this.agent=e.eventBreakpointsAgent()}};var bc=class extends _l{setEnabled(e){if(this.enabled()===e){return}super.setEnabled(e);for(const e of ut.instance().models(vc)){this.updateOnModel(e)}}updateOnModel(e){if(this.enabled()){void e.agent.invoke_setInstrumentationBreakpoint({eventName:this.name})}else{void e.agent.invoke_removeInstrumentationBreakpoint({eventName:this.name})}}static instrumentationPrefix="instrumentation:"};var Ic;var kc=class e{#uc=[];constructor(){this.createInstrumentationBreakpoints(Ul.AUCTION_WORKLET,["beforeBidderWorkletBiddingStart","beforeBidderWorkletReportingStart","beforeSellerWorkletScoringStart","beforeSellerWorkletReportingStart"]);this.createInstrumentationBreakpoints(Ul.ANIMATION,["requestAnimationFrame","cancelAnimationFrame","requestAnimationFrame.callback"]);this.createInstrumentationBreakpoints(Ul.CANVAS,["canvasContextCreated","webglErrorFired","webglWarningFired"]);this.createInstrumentationBreakpoints(Ul.GEOLOCATION,["Geolocation.getCurrentPosition","Geolocation.watchPosition"]);this.createInstrumentationBreakpoints(Ul.NOTIFICATION,["Notification.requestPermission"]);this.createInstrumentationBreakpoints(Ul.PARSE,["Element.setInnerHTML","Document.write"]);this.createInstrumentationBreakpoints(Ul.SCRIPT,["scriptFirstStatement","scriptBlockedByCSP"]);this.createInstrumentationBreakpoints(Ul.SHARED_STORAGE_WORKLET,["sharedStorageWorkletScriptFirstStatement"]);this.createInstrumentationBreakpoints(Ul.TIMER,["setTimeout","clearTimeout","setTimeout.callback","setInterval","clearInterval","setInterval.callback"]);this.createInstrumentationBreakpoints(Ul.WINDOW,["DOMWindow.close"]);this.createInstrumentationBreakpoints(Ul.WEB_AUDIO,["audioContextCreated","audioContextClosed","audioContextResumed","audioContextSuspended"]);ut.instance().observeModels(vc,this)}static instance(t={forceNew:null}){const{forceNew:r}=t;if(!Ic||r){Ic=new e}return Ic}createInstrumentationBreakpoints(e,t){for(const r of t){this.#uc.push(new bc(e,r))}}eventListenerBreakpoints(){return this.#uc.slice()}resolveEventListenerBreakpoint({eventName:e}){if(!e.startsWith(bc.instrumentationPrefix)){return null}const t=e.substring(bc.instrumentationPrefix.length);return this.#uc.find((e=>e.name===t))||null}modelAdded(e){for(const t of this.#uc){if(t.enabled()){t.updateOnModel(e)}}}modelRemoved(e){}};p.register(vc,{capabilities:nt.EVENT_BREAKPOINTS,autostart:false});var wc=d(c());var Cc={};a(Cc,{Events:()=>Pc,Isolate:()=>Ac,IsolateManager:()=>Ec,MemoryTrend:()=>Lc,MemoryTrendWindowMs:()=>xc});import*as Rc from"./../common/common.js";var Tc;var Ec=class e extends Rc.ObjectWrapper.ObjectWrapper{#bc;#Ic;#M;#kc;constructor(){super();this.#bc=new Map;this.#Ic=new Map;this.#M=new Set;ut.instance().observeModels(eo,this);this.#kc=0}static instance({forceNew:t}={forceNew:false}){if(!Tc||t){Tc=new e}return Tc}observeIsolates(e){if(this.#M.has(e)){throw new Error("Observer can only be registered once")}if(!this.#M.size){void this.poll()}this.#M.add(e);for(const t of this.#bc.values()){e.isolateAdded(t)}}unobserveIsolates(e){this.#M.delete(e);if(!this.#M.size){++this.#kc}}modelAdded(e){void this.modelAddedInternal(e)}async modelAddedInternal(e){this.#Ic.set(e,null);const t=await e.isolateId();if(!this.#Ic.has(e)){return}if(!t){this.#Ic.delete(e);return}this.#Ic.set(e,t);let r=this.#bc.get(t);if(!r){r=new Ac(t);this.#bc.set(t,r)}r.modelsInternal.add(e);if(r.modelsInternal.size===1){for(const e of this.#M){e.isolateAdded(r)}}else{for(const e of this.#M){e.isolateChanged(r)}}}modelRemoved(e){const t=this.#Ic.get(e);this.#Ic.delete(e);if(!t){return}const r=this.#bc.get(t);if(!r){return}r.modelsInternal.delete(e);if(r.modelsInternal.size){for(const e of this.#M){e.isolateChanged(r)}return}for(const e of this.#M){e.isolateRemoved(r)}this.#bc.delete(t)}isolateByModel(e){return this.#bc.get(this.#Ic.get(e)||"")||null}isolates(){return this.#bc.values()}async poll(){const e=this.#kc;while(e===this.#kc){await Promise.all(Array.from(this.isolates(),(e=>e.update())));await new Promise((e=>window.setTimeout(e,Mc)))}}};var Pc=(e=>{e["MEMORY_CHANGED"]="MemoryChanged";return e})(Pc||{});var xc=12e4;var Mc=2e3;var Ac=class{#C;modelsInternal;#wc;#Cc;constructor(e){this.#C=e;this.modelsInternal=new Set;this.#wc=0;const t=xc/Mc;this.#Cc=new Lc(t)}id(){return this.#C}models(){return this.modelsInternal}runtimeModel(){return this.modelsInternal.values().next().value||null}heapProfilerModel(){const e=this.runtimeModel();return e&&e.heapProfilerModel()}async update(){const e=this.runtimeModel();const t=e&&await e.heapUsage();if(!t){return}this.#wc=t.usedSize;this.#Cc.add(this.#wc);Ec.instance().dispatchEventToListeners("MemoryChanged",this)}samplesCount(){return this.#Cc.count()}usedHeapSize(){return this.#wc}usedHeapSizeGrowRate(){return this.#Cc.fitSlope()}};var Lc=class{#Rc;#Tc;#Zn;#Ec;#Pc;#xc;#Mc;#Ac;#Lc;constructor(e){this.#Rc=e|0;this.reset()}reset(){this.#Tc=Date.now();this.#Zn=0;this.#Ec=[];this.#Pc=[];this.#xc=0;this.#Mc=0;this.#Ac=0;this.#Lc=0}count(){return this.#Ec.length}add(e,t){const r=typeof t==="number"?t:Date.now()-this.#Tc;const n=e;if(this.#Ec.length===this.#Rc){const e=this.#Ec[this.#Zn];const t=this.#Pc[this.#Zn];this.#xc-=e;this.#Mc-=t;this.#Ac-=e*e;this.#Lc-=e*t}this.#xc+=r;this.#Mc+=n;this.#Ac+=r*r;this.#Lc+=r*n;this.#Ec[this.#Zn]=r;this.#Pc[this.#Zn]=n;this.#Zn=(this.#Zn+1)%this.#Rc}fitSlope(){const e=this.count();return e<2?0:(this.#Lc-this.#xc*this.#Mc/e)/(this.#Ac-this.#xc*this.#xc/e)}};var Nc={};a(Nc,{Events:()=>Dc,IssuesModel:()=>Oc});var Oc=class extends p{#Nc=false;#cn=false;constructor(e){super(e);void this.ensureEnabled()}async ensureEnabled(){if(this.#cn){return}this.#cn=true;this.target().registerAuditsDispatcher(this);const e=this.target().auditsAgent();await e.invoke_enable()}issueAdded(e){this.dispatchEventToListeners("IssueAdded",{issuesModel:this,inspectorIssue:e.issue})}dispose(){super.dispose();this.#Nc=true}getTargetIfNotDisposed(){if(!this.#Nc){return this.target()}return null}};var Dc=(e=>{e["ISSUE_ADDED"]="IssueAdded";return e})(Dc||{});p.register(Oc,{capabilities:nt.AUDITS,autostart:true});var Fc={};a(Fc,{Layer:()=>Bc,LayerTreeBase:()=>Uc,StickyPositionConstraint:()=>Hc});var Bc;(e=>{let t;(e=>{e["NON_FAST_SCROLLABLE"]="NonFastScrollable";e["TOUCH_EVENT_HANDLER"]="TouchEventHandler";e["WHEEL_EVENT_HANDLER"]="WheelEventHandler";e["REPAINTS_ON_SCROLL"]="RepaintsOnScroll";e["MAIN_THREAD_SCROLL_REASON"]="MainThreadScrollingReason"})(t=e.ScrollRectType||(e.ScrollRectType={}))})(Bc||(Bc={}));var Hc=class{#Oc;#Dc;#Fc;#Bc;constructor(e,t){this.#Oc=t.stickyBoxRect;this.#Dc=t.containingBlockRect;this.#Fc=null;if(e&&t.nearestLayerShiftingStickyBox){this.#Fc=e.layerById(t.nearestLayerShiftingStickyBox)}this.#Bc=null;if(e&&t.nearestLayerShiftingContainingBlock){this.#Bc=e.layerById(t.nearestLayerShiftingContainingBlock)}}stickyBoxRect(){return this.#Oc}containingBlockRect(){return this.#Dc}nearestLayerShiftingStickyBox(){return this.#Fc}nearestLayerShiftingContainingBlock(){return this.#Bc}};var Uc=class{#e;#zr;layersById;#Hc;#Uc;#_c;#qc;constructor(e){this.#e=e;this.#zr=e?e.model(sa):null;this.layersById=new Map;this.#Hc=null;this.#Uc=null;this.#_c=new Map}target(){return this.#e}root(){return this.#Hc}setRoot(e){this.#Hc=e}contentRoot(){return this.#Uc}setContentRoot(e){this.#Uc=e}forEachLayer(e,t){if(!t){t=this.root();if(!t){return false}}return e(t)||t.children().some(this.forEachLayer.bind(this,e))}layerById(e){return this.layersById.get(e)||null}async resolveBackendNodeIds(e){if(!e.size||!this.#zr){return}const t=await this.#zr.pushNodesByBackendIdsToFrontend(e);if(!t){return}for(const e of t.keys()){this.#_c.set(e,t.get(e)||null)}}backendNodeIdToNode(){return this.#_c}setViewportSize(e){this.#qc=e}viewportSize(){return this.#qc}nodeForId(e){return this.#zr?this.#zr.nodeForId(e):null}};var _c={};a(_c,{PageLoad:()=>qc});var qc=class e{id;url;startTime;loadTime;contentLoadTime;mainRequest;constructor(t){this.id=++e.lastIdentifier;this.url=t.url();this.startTime=t.startTime;this.mainRequest=t}static forRequest(e){return Wc.get(e)||null}bindRequest(e){Wc.set(e,this)}static lastIdentifier=0};var Wc=new WeakMap;var Vc={};a(Vc,{PaintProfilerLogItem:()=>zc,PaintProfilerModel:()=>jc,PaintProfilerSnapshot:()=>Gc});var jc=class extends p{layerTreeAgent;constructor(e){super(e);this.layerTreeAgent=e.layerTreeAgent()}async loadSnapshotFromFragments(e){const{snapshotId:t}=await this.layerTreeAgent.invoke_loadSnapshot({tiles:e});return t?new Gc(this,t):null}loadSnapshot(e){const t={x:0,y:0,picture:e};return this.loadSnapshotFromFragments([t])}async makeSnapshot(e){const{snapshotId:t}=await this.layerTreeAgent.invoke_makeSnapshot({layerId:e});return t?new Gc(this,t):null}};var Gc=class{#Wc;#vo;#Vc;constructor(e,t){this.#Wc=e;this.#vo=t;this.#Vc=1}release(){console.assert(this.#Vc>0,"release is already called on the object");if(! --this.#Vc){void this.#Wc.layerTreeAgent.invoke_releaseSnapshot({snapshotId:this.#vo})}}addReference(){++this.#Vc;console.assert(this.#Vc>0,"Referencing a dead object")}async replay(e,t,r){const n=await this.#Wc.layerTreeAgent.invoke_replaySnapshot({snapshotId:this.#vo,fromStep:t,toStep:r,scale:e||1});return n.dataURL}async profile(e){const t=await this.#Wc.layerTreeAgent.invoke_profileSnapshot({snapshotId:this.#vo,minRepeatCount:5,minDuration:1,clipRect:e||void 0});return t.timings}async commandLog(){const e=await this.#Wc.layerTreeAgent.invoke_snapshotCommandLog({snapshotId:this.#vo});return e.commandLog?e.commandLog.map(((e,t)=>new zc(e,t))):null}};var zc=class{method;params;commandIndex;constructor(e,t){this.method=e.method;this.params=e.params;this.commandIndex=t}};p.register(jc,{capabilities:nt.DOM,autostart:false});var Kc={};a(Kc,{PerformanceMetricsModel:()=>Xc});import*as Qc from"./../platform/platform.js";var Xc=class extends p{#Ui;#jc;#Gc;constructor(e){super(e);this.#Ui=e.performanceAgent();this.#jc=new Map([["TaskDuration","CumulativeTime"],["ScriptDuration","CumulativeTime"],["LayoutDuration","CumulativeTime"],["RecalcStyleDuration","CumulativeTime"],["LayoutCount","CumulativeCount"],["RecalcStyleCount","CumulativeCount"]]);this.#Gc=new Map}enable(){return this.#Ui.invoke_enable({})}disable(){return this.#Ui.invoke_disable()}async requestMetrics(){const e=await this.#Ui.invoke_getMetrics()||[];const t=new Map;const r=performance.now();for(const n of e.metrics){let e=this.#Gc.get(n.name);if(!e){e={lastValue:void 0,lastTimestamp:void 0};this.#Gc.set(n.name,e)}let i;switch(this.#jc.get(n.name)){case"CumulativeTime":i=e.lastTimestamp&&e.lastValue?Qc.NumberUtilities.clamp((n.value-e.lastValue)*1e3/(r-e.lastTimestamp),0,1):0;e.lastValue=n.value;e.lastTimestamp=r;break;case"CumulativeCount":i=e.lastTimestamp&&e.lastValue?Math.max(0,(n.value-e.lastValue)*1e3/(r-e.lastTimestamp)):0;e.lastValue=n.value;e.lastTimestamp=r;break;default:i=n.value;break}t.set(n.name,i)}return{metrics:t,timestamp:r}}};p.register(Xc,{capabilities:nt.DOM,autostart:false});var Jc={};a(Jc,{Events:()=>Zc,PreloadingModel:()=>Yc,PreloadingStatus:()=>nu});import{assertNotNullOrUndefined as $c}from"./../platform/platform.js";var Yc=class e extends p{agent;loaderIds=[];targetJustAttached=true;lastPrimaryPageModel=null;documents=new Map;constructor(t){super(t);t.registerPreloadDispatcher(new eu(this));this.agent=t.preloadAgent();void this.agent.invoke_enable();const r=t.targetInfo();if(r!==void 0&&r.subtype==="prerender"){this.lastPrimaryPageModel=ut.instance().primaryPageTarget()?.model(e)||null}ut.instance().addModelListener(Ca,Ra.PrimaryPageChanged,this.onPrimaryPageChanged,this)}dispose(){super.dispose();ut.instance().removeModelListener(Ca,Ra.PrimaryPageChanged,this.onPrimaryPageChanged,this);void this.agent.invoke_disable()}ensureDocumentPreloadingData(e){if(this.documents.get(e)===void 0){this.documents.set(e,new tu)}}currentLoaderId(){if(this.targetJustAttached){return null}if(this.loaderIds.length===0){throw new Error("unreachable")}return this.loaderIds[this.loaderIds.length-1]}currentDocument(){const e=this.currentLoaderId();return e===null?null:this.documents.get(e)||null}getRuleSetById(e){return this.currentDocument()?.ruleSets.getById(e)||null}getAllRuleSets(){return this.currentDocument()?.ruleSets.getAll()||[]}getPreloadCountsByRuleSetId(){const e=new Map;for(const{value:t}of this.getPreloadingAttempts(null)){for(const r of[null,...t.ruleSetIds]){if(e.get(r)===void 0){e.set(r,new Map)}const n=e.get(r);$c(n);const i=n.get(t.status)||0;n.set(t.status,i+1)}}return e}getPreloadingAttemptById(e){const t=this.currentDocument();if(t===null){return null}return t.preloadingAttempts.getById(e,t.sources)||null}getPreloadingAttempts(e){const t=this.currentDocument();if(t===null){return[]}return t.preloadingAttempts.getAll(e,t.sources)}getPreloadingAttemptsOfPreviousPage(){if(this.loaderIds.length<=1){return[]}const e=this.documents.get(this.loaderIds[this.loaderIds.length-2]);if(e===void 0){return[]}return e.preloadingAttempts.getAll(null,e.sources)}onPrimaryPageChanged(e){const{frame:t,type:r}=e.data;if(this.lastPrimaryPageModel===null&&r===Pa.ACTIVATION){return}if(this.lastPrimaryPageModel!==null&&r!==Pa.ACTIVATION){return}if(this.lastPrimaryPageModel!==null&&r===Pa.ACTIVATION){this.loaderIds=this.lastPrimaryPageModel.loaderIds;for(const[e,t]of this.lastPrimaryPageModel.documents.entries()){this.ensureDocumentPreloadingData(e);this.documents.get(e)?.mergePrevious(t)}}this.lastPrimaryPageModel=null;const n=t.loaderId;this.loaderIds.push(n);this.loaderIds=this.loaderIds.slice(-2);this.ensureDocumentPreloadingData(n);for(const e of this.documents.keys()){if(!this.loaderIds.includes(e)){this.documents.delete(e)}}this.dispatchEventToListeners("ModelUpdated")}onRuleSetUpdated(e){const t=e.ruleSet;const r=t.loaderId;if(this.currentLoaderId()===null){this.loaderIds=[r];this.targetJustAttached=false}this.ensureDocumentPreloadingData(r);this.documents.get(r)?.ruleSets.upsert(t);this.dispatchEventToListeners("ModelUpdated")}onRuleSetRemoved(e){const t=e.id;for(const e of this.documents.values()){e.ruleSets.delete(t)}this.dispatchEventToListeners("ModelUpdated")}onPreloadingAttemptSourcesUpdated(e){const t=e.loaderId;this.ensureDocumentPreloadingData(t);const r=this.documents.get(t);if(r===void 0){return}r.sources.update(e.preloadingAttemptSources);r.preloadingAttempts.maybeRegisterNotTriggered(r.sources);r.preloadingAttempts.cleanUpRemovedAttempts(r.sources);this.dispatchEventToListeners("ModelUpdated")}onPrefetchStatusUpdated(e){if(e.prefetchStatus===K.PrefetchStatus.PrefetchEvictedAfterCandidateRemoved){return}const t=e.key.loaderId;this.ensureDocumentPreloadingData(t);const r={action:K.SpeculationAction.Prefetch,key:e.key,status:iu(e.status),prefetchStatus:e.prefetchStatus||null,requestId:e.requestId};this.documents.get(t)?.preloadingAttempts.upsert(r);this.dispatchEventToListeners("ModelUpdated")}onPrerenderStatusUpdated(e){const t=e.key.loaderId;this.ensureDocumentPreloadingData(t);const r={action:K.SpeculationAction.Prerender,key:e.key,status:iu(e.status),prerenderStatus:e.prerenderStatus||null,disallowedMojoInterface:e.disallowedMojoInterface||null,mismatchedHeaders:e.mismatchedHeaders||null};this.documents.get(t)?.preloadingAttempts.upsert(r);this.dispatchEventToListeners("ModelUpdated")}onPreloadEnabledStateUpdated(e){this.dispatchEventToListeners("WarningsUpdated",e)}};p.register(Yc,{capabilities:nt.DOM,autostart:false});var Zc=(e=>{e["MODEL_UPDATED"]="ModelUpdated";e["WARNINGS_UPDATED"]="WarningsUpdated";return e})(Zc||{});var eu=class{model;constructor(e){this.model=e}ruleSetUpdated(e){this.model.onRuleSetUpdated(e)}ruleSetRemoved(e){this.model.onRuleSetRemoved(e)}preloadingAttemptSourcesUpdated(e){this.model.onPreloadingAttemptSourcesUpdated(e)}prefetchStatusUpdated(e){this.model.onPrefetchStatusUpdated(e)}prerenderStatusUpdated(e){this.model.onPrerenderStatusUpdated(e)}preloadEnabledStateUpdated(e){void this.model.onPreloadEnabledStateUpdated(e)}};var tu=class{ruleSets=new ru;preloadingAttempts=new ou;sources=new au;mergePrevious(e){if(!this.ruleSets.isEmpty()||!this.sources.isEmpty()){throw new Error("unreachable")}this.ruleSets=e.ruleSets;this.preloadingAttempts.mergePrevious(e.preloadingAttempts);this.sources=e.sources}};var ru=class{map=new Map;isEmpty(){return this.map.size===0}getById(e){return this.map.get(e)||null}getAll(){return Array.from(this.map.entries()).map((([e,t])=>({id:e,value:t})))}upsert(e){this.map.set(e.id,e)}delete(e){this.map.delete(e)}};var nu=(e=>{e["NOT_TRIGGERED"]="NotTriggered";e["PENDING"]="Pending";e["RUNNING"]="Running";e["READY"]="Ready";e["SUCCESS"]="Success";e["FAILURE"]="Failure";e["NOT_SUPPORTED"]="NotSupported";return e})(nu||{});function iu(e){switch(e){case K.PreloadingStatus.Pending:return"Pending";case K.PreloadingStatus.Running:return"Running";case K.PreloadingStatus.Ready:return"Ready";case K.PreloadingStatus.Success:return"Success";case K.PreloadingStatus.Failure:return"Failure";case K.PreloadingStatus.NotSupported:return"NotSupported"}throw new Error("unreachable")}function su(e){let t;switch(e.action){case K.SpeculationAction.Prefetch:t="Prefetch";break;case K.SpeculationAction.Prerender:t="Prerender";break}let r;switch(e.targetHint){case void 0:r="undefined";break;case K.SpeculationTargetHint.Blank:r="Blank";break;case K.SpeculationTargetHint.Self:r="Self";break}return`${e.loaderId}:${t}:${e.url}:${r}`}var ou=class{map=new Map;enrich(e,t){let r=[];let n=[];if(t!==null){r=t.ruleSetIds;n=t.nodeIds}return{...e,ruleSetIds:r,nodeIds:n}}getById(e,t){const r=this.map.get(e)||null;if(r===null){return null}return this.enrich(r,t.getById(e))}getAll(e,t){return[...this.map.entries()].map((([e,r])=>({id:e,value:this.enrich(r,t.getById(e))}))).filter((({value:t})=>!e||t.ruleSetIds.includes(e)))}upsert(e){const t=su(e.key);this.map.set(t,e)}maybeRegisterNotTriggered(e){for(const[t,{key:r}]of e.entries()){if(this.map.get(t)!==void 0){continue}let e;switch(r.action){case K.SpeculationAction.Prefetch:e={action:K.SpeculationAction.Prefetch,key:r,status:"NotTriggered",prefetchStatus:null,requestId:""};break;case K.SpeculationAction.Prerender:e={action:K.SpeculationAction.Prerender,key:r,status:"NotTriggered",prerenderStatus:null,disallowedMojoInterface:null,mismatchedHeaders:null};break}this.map.set(t,e)}}cleanUpRemovedAttempts(e){const t=Array.from(this.map.keys()).filter((t=>!e.getById(t)));for(const e of t){this.map.delete(e)}}mergePrevious(e){for(const[t,r]of this.map.entries()){e.map.set(t,r)}this.map=e.map}};var au=class{map=new Map;entries(){return this.map.entries()}isEmpty(){return this.map.size===0}getById(e){return this.map.get(e)||null}update(e){this.map=new Map(e.map((e=>[su(e.key),e])))}};var lu={};a(lu,{Cache:()=>vu,Events:()=>Su,ServiceWorkerCacheModel:()=>yu});import*as du from"./../common/common.js";import*as cu from"./../i18n/i18n.js";var uu={};a(uu,{Events:()=>gu,StorageBucketsModel:()=>hu});var hu=class extends p{enabled=false;storageAgent;storageKeyManager;bucketsById=new Map;trackedStorageKeys=new Set;constructor(e){super(e);e.registerStorageDispatcher(this);this.storageAgent=e.storageAgent();this.storageKeyManager=e.model(ba)}getBuckets(){return new Set(this.bucketsById.values())}getBucketsForStorageKey(e){const t=[...this.bucketsById.values()];return new Set(t.filter((({bucket:t})=>t.storageKey===e)))}getDefaultBucketForStorageKey(e){const t=[...this.bucketsById.values()];return t.find((({bucket:t})=>t.storageKey===e&&t.name===void 0))??null}getBucketById(e){return this.bucketsById.get(e)??null}getBucketByName(e,t){if(!t){return this.getDefaultBucketForStorageKey(e)}const r=[...this.bucketsById.values()];return r.find((({bucket:r})=>r.storageKey===e&&r.name===t))??null}deleteBucket(e){void this.storageAgent.invoke_deleteStorageBucket({bucket:e})}enable(){if(this.enabled){return}if(this.storageKeyManager){this.storageKeyManager.addEventListener(wa.STORAGE_KEY_ADDED,this.storageKeyAdded,this);this.storageKeyManager.addEventListener(wa.STORAGE_KEY_REMOVED,this.storageKeyRemoved,this);for(const e of this.storageKeyManager.storageKeys()){this.addStorageKey(e)}}this.enabled=true}storageKeyAdded(e){this.addStorageKey(e.data)}storageKeyRemoved(e){this.removeStorageKey(e.data)}addStorageKey(e){if(this.trackedStorageKeys.has(e)){throw new Error("Can't call addStorageKey for a storage key if it has already been added.")}this.trackedStorageKeys.add(e);void this.storageAgent.invoke_setStorageBucketTracking({storageKey:e,enable:true})}removeStorageKey(e){if(!this.trackedStorageKeys.has(e)){throw new Error("Can't call removeStorageKey for a storage key if it hasn't already been added.")}const t=this.getBucketsForStorageKey(e);for(const e of t){this.bucketRemoved(e)}this.trackedStorageKeys.delete(e);void this.storageAgent.invoke_setStorageBucketTracking({storageKey:e,enable:false})}bucketAdded(e){this.bucketsById.set(e.id,e);this.dispatchEventToListeners("BucketAdded",{model:this,bucketInfo:e})}bucketRemoved(e){this.bucketsById.delete(e.id);this.dispatchEventToListeners("BucketRemoved",{model:this,bucketInfo:e})}bucketChanged(e){this.dispatchEventToListeners("BucketChanged",{model:this,bucketInfo:e})}bucketInfosAreEqual(e,t){return e.bucket.storageKey===t.bucket.storageKey&&e.id===t.id&&e.bucket.name===t.bucket.name&&e.expiration===t.expiration&&e.quota===t.quota&&e.persistent===t.persistent&&e.durability===t.durability}storageBucketCreatedOrUpdated({bucketInfo:e}){const t=this.getBucketById(e.id);if(t){if(!this.bucketInfosAreEqual(t,e)){this.bucketChanged(e)}}else{this.bucketAdded(e)}}storageBucketDeleted({bucketId:e}){const t=this.getBucketById(e);if(t){this.bucketRemoved(t)}else{throw new Error(`Received an event that Storage Bucket '${e}' was deleted, but it wasn't in the StorageBucketsModel.`)}}attributionReportingTriggerRegistered(e){}interestGroupAccessed(e){}interestGroupAuctionEventOccurred(e){}interestGroupAuctionNetworkRequestCreated(e){}indexedDBListUpdated(e){}indexedDBContentUpdated(e){}cacheStorageListUpdated(e){}cacheStorageContentUpdated(e){}sharedStorageAccessed(e){}attributionReportingSourceRegistered(e){}};p.register(hu,{capabilities:nt.STORAGE,autostart:false});var gu=(e=>{e["BUCKET_ADDED"]="BucketAdded";e["BUCKET_REMOVED"]="BucketRemoved";e["BUCKET_CHANGED"]="BucketChanged";return e})(gu||{});var pu={serviceworkercacheagentError:"`ServiceWorkerCacheAgent` error deleting cache entry {PH1} in cache: {PH2}"};var mu=cu.i18n.registerUIStrings("core/sdk/ServiceWorkerCacheModel.ts",pu);var fu=cu.i18n.getLocalizedString.bind(void 0,mu);var yu=class extends p{cacheAgent;#zc;#Kc;#Qc=new Map;#Xc=new Set;#Jc=new Set;#$c=new du.Throttler.Throttler(2e3);#cn=false;#Yc=false;constructor(e){super(e);e.registerStorageDispatcher(this);this.cacheAgent=e.cacheStorageAgent();this.#zc=e.storageAgent();this.#Kc=e.model(hu)}enable(){if(this.#cn){return}this.#Kc.addEventListener(gu.BUCKET_ADDED,this.storageBucketAdded,this);this.#Kc.addEventListener(gu.BUCKET_REMOVED,this.storageBucketRemoved,this);for(const e of this.#Kc.getBuckets()){this.addStorageBucket(e.bucket)}this.#cn=true}clearForStorageKey(e){for(const[t,r]of this.#Qc.entries()){if(r.storageKey===e){this.#Qc.delete(t);this.cacheRemoved(r)}}for(const t of this.#Kc.getBucketsForStorageKey(e)){void this.loadCacheNames(t.bucket)}}refreshCacheNames(){for(const e of this.#Qc.values()){this.cacheRemoved(e)}this.#Qc.clear();const e=this.#Kc.getBuckets();for(const t of e){void this.loadCacheNames(t.bucket)}}async deleteCache(e){const t=await this.cacheAgent.invoke_deleteCache({cacheId:e.cacheId});if(t.getError()){console.error(`ServiceWorkerCacheAgent error deleting cache ${e.toString()}: ${t.getError()}`);return}this.#Qc.delete(e.cacheId);this.cacheRemoved(e)}async deleteCacheEntry(e,t){const r=await this.cacheAgent.invoke_deleteEntry({cacheId:e.cacheId,request:t});if(r.getError()){du.Console.Console.instance().error(fu(pu.serviceworkercacheagentError,{PH1:e.toString(),PH2:String(r.getError())}));return}}loadCacheData(e,t,r,n,i){void this.requestEntries(e,t,r,n,i)}loadAllCacheData(e,t,r){void this.requestAllEntries(e,t,r)}caches(){const e=new Array;for(const t of this.#Qc.values()){e.push(t)}return e}dispose(){for(const e of this.#Qc.values()){this.cacheRemoved(e)}this.#Qc.clear();if(this.#cn){this.#Kc.removeEventListener(gu.BUCKET_ADDED,this.storageBucketAdded,this);this.#Kc.removeEventListener(gu.BUCKET_REMOVED,this.storageBucketRemoved,this)}}addStorageBucket(e){void this.loadCacheNames(e);if(!this.#Xc.has(e.storageKey)){this.#Xc.add(e.storageKey);void this.#zc.invoke_trackCacheStorageForStorageKey({storageKey:e.storageKey})}}removeStorageBucket(e){let t=0;for(const[r,n]of this.#Qc.entries()){if(e.storageKey===n.storageKey){t++}if(n.inBucket(e)){t--;this.#Qc.delete(r);this.cacheRemoved(n)}}if(t===0){this.#Xc.delete(e.storageKey);void this.#zc.invoke_untrackCacheStorageForStorageKey({storageKey:e.storageKey})}}async loadCacheNames(e){const t=await this.cacheAgent.invoke_requestCacheNames({storageBucket:e});if(t.getError()){return}this.updateCacheNames(e,t.caches)}updateCacheNames(e,t){function r(t){if(t.inBucket(e)&&!n.has(t.cacheId)){s.set(t.cacheId,t);this.#Qc.delete(t.cacheId)}}const n=new Set;const i=new Map;const s=new Map;for(const e of t){const t=e.storageBucket??this.#Kc.getDefaultBucketForStorageKey(e.storageKey)?.bucket;if(!t){continue}const r=new vu(this,t,e.cacheName,e.cacheId);n.add(r.cacheId);if(this.#Qc.has(r.cacheId)){continue}i.set(r.cacheId,r);this.#Qc.set(r.cacheId,r)}this.#Qc.forEach(r,this);i.forEach(this.cacheAdded,this);s.forEach(this.cacheRemoved,this)}storageBucketAdded({data:{bucketInfo:{bucket:e}}}){this.addStorageBucket(e)}storageBucketRemoved({data:{bucketInfo:{bucket:e}}}){this.removeStorageBucket(e)}cacheAdded(e){this.dispatchEventToListeners("CacheAdded",{model:this,cache:e})}cacheRemoved(e){this.dispatchEventToListeners("CacheRemoved",{model:this,cache:e})}async requestEntries(e,t,r,n,i){const s=await this.cacheAgent.invoke_requestEntries({cacheId:e.cacheId,skipCount:t,pageSize:r,pathFilter:n});if(s.getError()){console.error("ServiceWorkerCacheAgent error while requesting entries: ",s.getError());return}i(s.cacheDataEntries,s.returnCount)}async requestAllEntries(e,t,r){const n=await this.cacheAgent.invoke_requestEntries({cacheId:e.cacheId,pathFilter:t});if(n.getError()){console.error("ServiceWorkerCacheAgent error while requesting entries: ",n.getError());return}r(n.cacheDataEntries,n.returnCount)}cacheStorageListUpdated({bucketId:e}){const t=this.#Kc.getBucketById(e)?.bucket;if(t){this.#Jc.add(t);void this.#$c.schedule((()=>{const e=Array.from(this.#Jc,(e=>this.loadCacheNames(e)));this.#Jc.clear();return Promise.all(e)}),this.#Yc?du.Throttler.Scheduling.AS_SOON_AS_POSSIBLE:du.Throttler.Scheduling.DEFAULT)}}cacheStorageContentUpdated({bucketId:e,cacheName:t}){const r=this.#Kc.getBucketById(e)?.bucket;if(r){this.dispatchEventToListeners("CacheStorageContentUpdated",{storageBucket:r,cacheName:t})}}attributionReportingTriggerRegistered(e){}indexedDBListUpdated(e){}indexedDBContentUpdated(e){}interestGroupAuctionEventOccurred(e){}interestGroupAccessed(e){}interestGroupAuctionNetworkRequestCreated(e){}sharedStorageAccessed(e){}storageBucketCreatedOrUpdated(e){}storageBucketDeleted(e){}setThrottlerSchedulesAsSoonAsPossibleForTest(){this.#Yc=true}attributionReportingSourceRegistered(e){}};var Su=(e=>{e["CACHE_ADDED"]="CacheAdded";e["CACHE_REMOVED"]="CacheRemoved";e["CACHE_STORAGE_CONTENT_UPDATED"]="CacheStorageContentUpdated";return e})(Su||{});var vu=class{#ei;storageKey;storageBucket;cacheName;cacheId;constructor(e,t,r,n){this.#ei=e;this.storageBucket=t;this.storageKey=t.storageKey;this.cacheName=r;this.cacheId=n}inBucket(e){return this.storageKey===e.storageKey&&this.storageBucket.name===e.name}equals(e){return this.cacheId===e.cacheId}toString(){return this.storageKey+this.cacheName}async requestCachedResponse(e,t){const r=await this.#ei.cacheAgent.invoke_requestCachedResponse({cacheId:this.cacheId,requestURL:e,requestHeaders:t});if(r.getError()){return null}return r.response}};p.register(yu,{capabilities:nt.STORAGE,autostart:false});var bu={};a(bu,{Events:()=>Pu,ServiceWorkerManager:()=>Eu,ServiceWorkerRegistration:()=>Nu,ServiceWorkerRouterRule:()=>Au,ServiceWorkerVersion:()=>Lu,ServiceWorkerVersionState:()=>Mu});import*as Iu from"./../common/common.js";import*as ku from"./../i18n/i18n.js";var wu={running:"running",starting:"starting",stopped:"stopped",stopping:"stopping",activated:"activated",activating:"activating",installed:"installed",installing:"installing",new:"new",redundant:"redundant",sSS:"{PH1} #{PH2} ({PH3})"};var Cu=ku.i18n.registerUIStrings("core/sdk/ServiceWorkerManager.ts",wu);var Ru=ku.i18n.getLocalizedString.bind(void 0,Cu);var Tu=ku.i18n.getLazilyComputedLocalizedString.bind(void 0,Cu);var Eu=class extends p{#Ui;#Zc;#cn;#eu;serviceWorkerNetworkRequestsPanelStatus;constructor(e){super(e);e.registerServiceWorkerDispatcher(new xu(this));this.#Ui=e.serviceWorkerAgent();this.#Zc=new Map;this.#cn=false;void this.enable();this.#eu=Iu.Settings.Settings.instance().createSetting("service-worker-update-on-reload",false);if(this.#eu.get()){this.forceUpdateSettingChanged()}this.#eu.addChangeListener(this.forceUpdateSettingChanged,this);new Ou(e,this);this.serviceWorkerNetworkRequestsPanelStatus={isOpen:false,openedAt:0}}async enable(){if(this.#cn){return}this.#cn=true;await this.#Ui.invoke_enable()}async disable(){if(!this.#cn){return}this.#cn=false;this.#Zc.clear();await this.#Ui.invoke_enable()}registrations(){return this.#Zc}hasRegistrationForURLs(e){for(const t of this.#Zc.values()){if(e.filter((e=>e&&e.startsWith(t.scopeURL))).length===e.length){return true}}return false}findVersion(e){for(const t of this.registrations().values()){const r=t.versions.get(e);if(r){return r}}return null}deleteRegistration(e){const t=this.#Zc.get(e);if(!t){return}if(t.isRedundant()){this.#Zc.delete(e);this.dispatchEventToListeners("RegistrationDeleted",t);return}t.deleting=true;for(const e of t.versions.values()){void this.stopWorker(e.id)}void this.unregister(t.scopeURL)}async updateRegistration(e){const t=this.#Zc.get(e);if(!t){return}await this.#Ui.invoke_updateRegistration({scopeURL:t.scopeURL})}async deliverPushMessage(e,t){const r=this.#Zc.get(e);if(!r){return}const n=Iu.ParsedURL.ParsedURL.extractOrigin(r.scopeURL);await this.#Ui.invoke_deliverPushMessage({origin:n,registrationId:e,data:t})}async dispatchSyncEvent(e,t,r){const n=this.#Zc.get(e);if(!n){return}const i=Iu.ParsedURL.ParsedURL.extractOrigin(n.scopeURL);await this.#Ui.invoke_dispatchSyncEvent({origin:i,registrationId:e,tag:t,lastChance:r})}async dispatchPeriodicSyncEvent(e,t){const r=this.#Zc.get(e);if(!r){return}const n=Iu.ParsedURL.ParsedURL.extractOrigin(r.scopeURL);await this.#Ui.invoke_dispatchPeriodicSyncEvent({origin:n,registrationId:e,tag:t})}async unregister(e){await this.#Ui.invoke_unregister({scopeURL:e})}async startWorker(e){await this.#Ui.invoke_startWorker({scopeURL:e})}async skipWaiting(e){await this.#Ui.invoke_skipWaiting({scopeURL:e})}async stopWorker(e){await this.#Ui.invoke_stopWorker({versionId:e})}async inspectWorker(e){await this.#Ui.invoke_inspectWorker({versionId:e})}workerRegistrationUpdated(e){for(const t of e){let e=this.#Zc.get(t.registrationId);if(!e){e=new Nu(t);this.#Zc.set(t.registrationId,e);this.dispatchEventToListeners("RegistrationUpdated",e);continue}e.update(t);if(e.shouldBeRemoved()){this.#Zc.delete(e.id);this.dispatchEventToListeners("RegistrationDeleted",e)}else{this.dispatchEventToListeners("RegistrationUpdated",e)}}}workerVersionUpdated(e){const t=new Set;for(const r of e){const e=this.#Zc.get(r.registrationId);if(!e){continue}e.updateVersion(r);t.add(e)}for(const e of t){if(e.shouldBeRemoved()){this.#Zc.delete(e.id);this.dispatchEventToListeners("RegistrationDeleted",e)}else{this.dispatchEventToListeners("RegistrationUpdated",e)}}}workerErrorReported(e){const t=this.#Zc.get(e.registrationId);if(!t){return}t.errors.push(e);this.dispatchEventToListeners("RegistrationErrorAdded",{registration:t,error:e})}forceUpdateOnReloadSetting(){return this.#eu}forceUpdateSettingChanged(){const e=this.#eu.get();void this.#Ui.invoke_setForceUpdateOnPageLoad({forceUpdateOnPageLoad:e})}};var Pu=(e=>{e["REGISTRATION_UPDATED"]="RegistrationUpdated";e["REGISTRATION_ERROR_ADDED"]="RegistrationErrorAdded";e["REGISTRATION_DELETED"]="RegistrationDeleted";return e})(Pu||{});var xu=class{#q;constructor(e){this.#q=e}workerRegistrationUpdated({registrations:e}){this.#q.workerRegistrationUpdated(e)}workerVersionUpdated({versions:e}){this.#q.workerVersionUpdated(e)}workerErrorReported({errorMessage:e}){this.#q.workerErrorReported(e)}};var Mu=class{runningStatus;status;lastUpdatedTimestamp;previousState;constructor(e,t,r,n){this.runningStatus=e;this.status=t;this.lastUpdatedTimestamp=n;this.previousState=r}};var Au=class{condition;source;id;constructor(e,t,r){this.condition=e;this.source=t;this.id=r}};var Lu=class e{id;scriptURL;parsedURL;securityOrigin;scriptLastModified;scriptResponseTime;controlledClients;targetId;routerRules;currentState;registration;constructor(e,t){this.registration=e;this.update(t)}update(e){this.id=e.versionId;this.scriptURL=e.scriptURL;const t=new Iu.ParsedURL.ParsedURL(e.scriptURL);this.securityOrigin=t.securityOrigin();this.currentState=new Mu(e.runningStatus,e.status,this.currentState,Date.now());this.scriptLastModified=e.scriptLastModified;this.scriptResponseTime=e.scriptResponseTime;if(e.controlledClients){this.controlledClients=e.controlledClients.slice()}else{this.controlledClients=[]}this.targetId=e.targetId||null;this.routerRules=null;if(e.routerRules){this.routerRules=this.parseJSONRules(e.routerRules)}}isStartable(){return!this.registration.isDeleted&&this.isActivated()&&this.isStopped()}isStoppedAndRedundant(){return this.runningStatus===U.ServiceWorkerVersionRunningStatus.Stopped&&this.status===U.ServiceWorkerVersionStatus.Redundant}isStopped(){return this.runningStatus===U.ServiceWorkerVersionRunningStatus.Stopped}isStarting(){return this.runningStatus===U.ServiceWorkerVersionRunningStatus.Starting}isRunning(){return this.runningStatus===U.ServiceWorkerVersionRunningStatus.Running}isStopping(){return this.runningStatus===U.ServiceWorkerVersionRunningStatus.Stopping}isNew(){return this.status===U.ServiceWorkerVersionStatus.New}isInstalling(){return this.status===U.ServiceWorkerVersionStatus.Installing}isInstalled(){return this.status===U.ServiceWorkerVersionStatus.Installed}isActivating(){return this.status===U.ServiceWorkerVersionStatus.Activating}isActivated(){return this.status===U.ServiceWorkerVersionStatus.Activated}isRedundant(){return this.status===U.ServiceWorkerVersionStatus.Redundant}get status(){return this.currentState.status}get runningStatus(){return this.currentState.runningStatus}mode(){if(this.isNew()||this.isInstalling()){return e.Modes.INSTALLING}if(this.isInstalled()){return e.Modes.WAITING}if(this.isActivating()||this.isActivated()){return e.Modes.ACTIVE}return e.Modes.REDUNDANT}parseJSONRules(e){try{const t=JSON.parse(e);if(!Array.isArray(t)){console.error("Parse error: `routerRules` in ServiceWorkerVersion should be an array");return null}const r=[];for(const e of t){const{condition:t,source:n,id:i}=e;if(t===void 0||n===void 0||i===void 0){console.error("Parse error: Missing some fields of `routerRules` in ServiceWorkerVersion");return null}r.push(new Au(JSON.stringify(t),JSON.stringify(n),i))}return r}catch(e){console.error("Parse error: Invalid `routerRules` in ServiceWorkerVersion");return null}}};(e=>{e.RunningStatus={[U.ServiceWorkerVersionRunningStatus.Running]:Tu(wu.running),[U.ServiceWorkerVersionRunningStatus.Starting]:Tu(wu.starting),[U.ServiceWorkerVersionRunningStatus.Stopped]:Tu(wu.stopped),[U.ServiceWorkerVersionRunningStatus.Stopping]:Tu(wu.stopping)};e.Status={[U.ServiceWorkerVersionStatus.Activated]:Tu(wu.activated),[U.ServiceWorkerVersionStatus.Activating]:Tu(wu.activating),[U.ServiceWorkerVersionStatus.Installed]:Tu(wu.installed),[U.ServiceWorkerVersionStatus.Installing]:Tu(wu.installing),[U.ServiceWorkerVersionStatus.New]:Tu(wu.new),[U.ServiceWorkerVersionStatus.Redundant]:Tu(wu.redundant)};let t;(e=>{e["INSTALLING"]="installing";e["WAITING"]="waiting";e["ACTIVE"]="active";e["REDUNDANT"]="redundant"})(t=e.Modes||(e.Modes={}))})(Lu||(Lu={}));var Nu=class{#tu;id;scopeURL;securityOrigin;isDeleted;versions;deleting;errors;constructor(e){this.update(e);this.versions=new Map;this.deleting=false;this.errors=[]}update(e){this.#tu=Symbol("fingerprint");this.id=e.registrationId;this.scopeURL=e.scopeURL;const t=new Iu.ParsedURL.ParsedURL(e.scopeURL);this.securityOrigin=t.securityOrigin();this.isDeleted=e.isDeleted}fingerprint(){return this.#tu}versionsByMode(){const e=new Map;for(const t of this.versions.values()){e.set(t.mode(),t)}return e}updateVersion(e){this.#tu=Symbol("fingerprint");let t=this.versions.get(e.versionId);if(!t){t=new Lu(this,e);this.versions.set(e.versionId,t);return t}t.update(e);return t}isRedundant(){for(const e of this.versions.values()){if(!e.isStoppedAndRedundant()){return false}}return true}shouldBeRemoved(){return this.isRedundant()&&(!this.errors.length||this.deleting)}canBeRemoved(){return this.isDeleted||this.deleting}clearErrors(){this.#tu=Symbol("fingerprint");this.errors=[]}};var Ou=class{#qr;#ru;#nu;constructor(e,t){this.#qr=e;this.#ru=t;this.#nu=new Map;t.addEventListener("RegistrationUpdated",this.registrationsUpdated,this);t.addEventListener("RegistrationDeleted",this.registrationsUpdated,this);ut.instance().addModelListener(eo,to.ExecutionContextCreated,this.executionContextCreated,this)}registrationsUpdated(){this.#nu.clear();const e=this.#ru.registrations().values();for(const t of e){for(const e of t.versions.values()){if(e.targetId){this.#nu.set(e.targetId,e)}}}this.updateAllContextLabels()}executionContextCreated(e){const t=e.data;const r=this.serviceWorkerTargetId(t.target());if(!r){return}this.updateContextLabel(t,this.#nu.get(r)||null)}serviceWorkerTargetId(e){if(e.parentTarget()!==this.#qr||e.type()!==rt.ServiceWorker){return null}return e.id()}updateAllContextLabels(){for(const e of ut.instance().targets()){const t=this.serviceWorkerTargetId(e);if(!t){continue}const r=this.#nu.get(t)||null;const n=e.model(eo);const i=n?n.executionContexts():[];for(const e of i){this.updateContextLabel(e,r)}}}updateContextLabel(e,t){if(!t){e.setLabel("");return}const r=Iu.ParsedURL.ParsedURL.fromString(e.origin);const n=r?r.lastPathComponentWithFragment():e.name;const i=Lu.Status[t.status];e.setLabel(Ru(wu.sSS,{PH1:n,PH2:t.id,PH3:i()}))}};p.register(Eu,{capabilities:nt.SERVICE_WORKER,autostart:true});var Du={};a(Du,{RevealableEvent:()=>Bu,TraceObject:()=>Fu});var Fu=class{traceEvents;metadata;constructor(e,t={}){this.traceEvents=e;this.metadata=t}};var Bu=class{constructor(e){this.event=e}};var Hu={};a(Hu,{Events:()=>Uu,WebAuthnModel:()=>_u});var Uu=(e=>{e["CREDENTIAL_ADDED"]="CredentialAdded";e["CREDENTIAL_ASSERTED"]="CredentialAsserted";e["CREDENTIAL_DELETED"]="CredentialDeleted";e["CREDENTIAL_UPDATED"]="CredentialUpdated";return e})(Uu||{});var _u=class extends p{#Ui;constructor(e){super(e);this.#Ui=e.webAuthnAgent();e.registerWebAuthnDispatcher(new qu(this))}setVirtualAuthEnvEnabled(e){if(e){return this.#Ui.invoke_enable({enableUI:true})}return this.#Ui.invoke_disable()}async addAuthenticator(e){const t=await this.#Ui.invoke_addVirtualAuthenticator({options:e});return t.authenticatorId}async removeAuthenticator(e){await this.#Ui.invoke_removeVirtualAuthenticator({authenticatorId:e})}async setAutomaticPresenceSimulation(e,t){await this.#Ui.invoke_setAutomaticPresenceSimulation({authenticatorId:e,enabled:t})}async getCredentials(e){const t=await this.#Ui.invoke_getCredentials({authenticatorId:e});return t.credentials}async removeCredential(e,t){await this.#Ui.invoke_removeCredential({authenticatorId:e,credentialId:t})}credentialAdded(e){this.dispatchEventToListeners("CredentialAdded",e)}credentialAsserted(e){this.dispatchEventToListeners("CredentialAsserted",e)}credentialDeleted(e){this.dispatchEventToListeners("CredentialDeleted",e)}credentialUpdated(e){this.dispatchEventToListeners("CredentialUpdated",e)}};var qu=class{#ei;constructor(e){this.#ei=e}credentialAdded(e){this.#ei.credentialAdded(e)}credentialAsserted(e){this.#ei.credentialAsserted(e)}credentialDeleted(e){this.#ei.credentialDeleted(e)}credentialUpdated(e){this.#ei.credentialUpdated(e)}};p.register(_u,{capabilities:nt.WEB_AUTHN,autostart:false});export{al as AccessibilityModel,hl as AnimationModel,Ll as AutofillModel,qd as CPUProfileDataModel,bd as CPUProfilerModel,jd as CPUThrottlingManager,Gr as CSSContainerQuery,tr as CSSFontFace,tn as CSSLayer,nr as CSSMatchedStyles,sn as CSSMedia,m as CSSMetadata,Jt as CSSModel,sr as CSSProperty,cr as CSSPropertyParser,Kr as CSSQuery,Wr as CSSRule,un as CSSScope,pn as CSSStyleDeclaration,Gn as CSSStyleSheetHeader,Sn as CSSSupports,Hl as CategorizedBreakpoint,ql as ChildTargetManager,ad as CompilerSourceMappingContentProvider,Gl as Connections,pd as ConsoleModel,Fe as Cookie,qe as CookieModel,Aa as CookieParser,rc as DOMDebuggerModel,Gt as DOMModel,qs as DebuggerModel,zd as EmulationModel,pc as EnhancedTracesParser,yc as EventBreakpointsModel,wc as FrameAssociated,li as FrameManager,Js as HeapProfilerModel,gi as IOModel,Cc as IsolateManager,Nc as IssuesModel,Fc as LayerTreeBase,Ed as LogModel,Ge as NetworkManager,Ae as NetworkRequest,_o as OverlayColorGenerator,Bs as OverlayModel,Bo as OverlayPersistentHighlighter,_c as PageLoad,ii as PageResourceLoader,Vc as PaintProfiler,Kc as PerformanceMetricsModel,Jc as PreloadingModel,Pe as ProfileTreeModel,mi as RemoteObject,ca as Resource,qt as ResourceTreeModel,Ks as RuntimeModel,u as SDKModel,pl as ScreenCaptureModel,io as Script,ma as SecurityOriginManager,Ba as ServerSentEventProtocol,qa as ServerTiming,lu as ServiceWorkerCacheModel,bu as ServiceWorkerManager,Ui as SourceMap,ti as SourceMapManager,Gi as SourceMapScopeChainEntry,Yi as SourceMapScopes,ji as SourceMapScopesInfo,uu as StorageBucketsModel,Sa as StorageKeyManager,$e as Target,it as TargetManager,Du as TraceObject,Hu as WebAuthnModel};
//# sourceMappingURL=sdk.min.js.map